"use strict";(self.webpackChunkkuzu_docs=self.webpackChunkkuzu_docs||[]).push([[6245],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),i=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=i(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),p=i(n),d=a,g=p["".concat(s,".").concat(d)]||p[d]||m[d]||o;return n?r.createElement(g,l(l({ref:t},c),{},{components:n})):r.createElement(g,l({ref:t},c))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=d;var u={};for(var s in t)hasOwnProperty.call(t,s)&&(u[s]=t[s]);u.originalType=e,u[p]="string"==typeof e?e:a,l[1]=u;for(var i=2;i<o;i++)l[i]=n[i];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1871:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>u,toc:()=>i});var r=n(7462),a=(n(7294),n(3905));const o={title:"Python",sidebar_position:2},l=void 0,u={unversionedId:"getting-started/python",id:"getting-started/python",title:"Python",description:"You can easily install the latest K\xf9zu Python API using pip: pip install kuzu.",source:"@site/docs/getting-started/python.md",sourceDirName:"getting-started",slug:"/getting-started/python",permalink:"/docusaurus/getting-started/python",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Python",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Command Line",permalink:"/docusaurus/getting-started/cli"},next:{title:"C++",permalink:"/docusaurus/getting-started/cpp"}},s={},i=[{value:"Colab Notebooks",id:"colab-notebooks",level:2}],c={toc:i},p="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"You can easily install the latest K\xf9zu Python API using pip: ",(0,a.kt)("inlineCode",{parentName:"p"},"pip install kuzu"),". "),(0,a.kt)("p",null,"Once the Python API is installed, you'll be able to import it in Python and execute Cypher queries.\nBelow is a brief demonstration on getting started.\nYou can find detailed information on the Python API ",(0,a.kt)("a",{parentName:"p",href:"../client-apis/python-api"},"here"),"."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Import library:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"import kuzu\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Create an empty database and connect to it with Python API:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"db = kuzu.Database('./test')\nconn = kuzu.Connection(db)\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Define the schema:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'conn.execute("CREATE NODE TABLE User(name STRING, age INT64, PRIMARY KEY (name))")\nconn.execute("CREATE NODE TABLE City(name STRING, population INT64, PRIMARY KEY (name))")\nconn.execute("CREATE REL TABLE Follows(FROM User TO User, since INT64)")\nconn.execute("CREATE REL TABLE LivesIn(FROM User TO City)")\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Load data:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"conn.execute('COPY User FROM \"user.csv\"')\nconn.execute('COPY City FROM \"city.csv\"')\nconn.execute('COPY Follows FROM \"follows.csv\"')\nconn.execute('COPY LivesIn FROM \"lives-in.csv\"')\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Execute a simple query:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"results = conn.execute('MATCH (u:User) RETURN u.name, u.age;')\nwhile results.has_next():\n    print(results.get_next())\n")),(0,a.kt)("p",null,"Output:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"['Adam', 30]\n['Karissa', 40]\n['Zhang', 50]\n['Noura', 25]\n")),(0,a.kt)("p",null,"Alternatively, the Python API can also output results as a Pandas data frame:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"results = conn.execute('MATCH (a:User)-[f:Follows]->(b:User) RETURN a.name, f.since, b.name;').getAsDF()\nprint(results)\n")),(0,a.kt)("p",null,"Output:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"    a.name  f.since b.name\n0   Adam    2020    Karissa\n1   Adam    2020    Zhang\n2   Karissa 2021    Zhang\n3   Zhang   2022    Noura\n")),(0,a.kt)("p",null,"Moreover, you can output results in the Arrow format:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},"results = conn.execute('MATCH (u:User) RETURN u.name, u.age;')\nprint(results.get_as_arrow(chunk_size=100))\n")),(0,a.kt)("p",null,"Output:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'u.name: string\nu.age: int64\n----\nu.name: [["Adam","Karissa","Zhang","Noura"]]\nu.age: [[30,40,50,25]]\n')),(0,a.kt)("h2",{id:"colab-notebooks"},"Colab Notebooks"),(0,a.kt)("p",null,"We've compiled a series of Google Colab notebooks that demonstrate how K\xf9zu can be used through Python APIs, and integrated with the Python data science ecosystem:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://colab.research.google.com/drive/15OLPggnRSBmR_K9yzq6iAGE5MDzNwqoN"},"General K\xf9zu Demo")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://colab.research.google.com/drive/1NcR-xL4Rb7nprgbvk6N2dIP30oqyUucm"},"Cypher in K\xf9zu")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://colab.research.google.com/drive/1fzcwBwTY-M19p7OOTIaynfgHFcAQo9NK"},"Export Query Results to PyTorch Geometric: Node Property Prediction Example")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://colab.research.google.com/drive/1QdX7CDdajIAb04lqaO5PfJlpKG-ljG28"},"Export Query Results to PyTorch Geometric: Link Prediction Example")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://colab.research.google.com/drive/1NDsnFDWcSGoaOl-mOgG0zrPG2VAr8Q6H"},"Export Query Results to NetworkX")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://colab.research.google.com/drive/12fOSqPm1HQTz_m9caRW7E_92vaeD9xq6"},"Using K\xf9zu as PyTorch Geometric Remote Backend"))))}m.isMDXComponent=!0}}]);