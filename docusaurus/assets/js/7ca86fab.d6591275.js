"use strict";(self.webpackChunkkuzu_docs=self.webpackChunkkuzu_docs||[]).push([[4816],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>h});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=a.createContext({}),p=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},c=function(e){var n=p(e.components);return a.createElement(l.Provider,{value:n},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(t),m=r,h=d["".concat(l,".").concat(m)]||d[m]||u[m]||i;return t?a.createElement(h,o(o({ref:n},c),{},{components:t})):a.createElement(h,o({ref:n},c))}));function h(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=m;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[d]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=t[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},3045:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=t(7462),r=(t(7294),t(3905)),i=t(5973);const o={title:"Create",description:"Insert records into your node and relationship tables.",sidebar_position:1},s="Database",l={unversionedId:"cypher/data-manipulation-clauses/create",id:"cypher/data-manipulation-clauses/create",title:"Create",description:"Insert records into your node and relationship tables.",source:"@site/docs/cypher/data-manipulation-clauses/create.md",sourceDirName:"cypher/data-manipulation-clauses",slug:"/cypher/data-manipulation-clauses/create",permalink:"/docusaurus/cypher/data-manipulation-clauses/create",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Create",description:"Insert records into your node and relationship tables.",sidebar_position:1},sidebar:"docSidebar",previous:{title:"Data Manipulation",permalink:"/docusaurus/cypher/data-manipulation-clauses/"},next:{title:"Set",permalink:"/docusaurus/cypher/data-manipulation-clauses/set"}},p={},c=[{value:"Insert Nodes",id:"insert-nodes",level:2},{value:"Insert Relationships",id:"insert-relationships",level:2},{value:"Generic Semantics",id:"generic-semantics",level:2}],d={toc:c},u="wrapper";function m(e){let{components:n,...t}=e;return(0,r.kt)(u,(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"database"},"Database"),(0,r.kt)("p",null,"We will use the database, whose schema and data import commands are given ",(0,r.kt)("a",{parentName:"p",href:"/docusaurus/cypher/query-clauses/example-database"},"here"),":"),(0,r.kt)("img",{src:i.Z,style:{width:800}}),(0,r.kt)("h1",{id:"create"},"CREATE"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"CREATE")," is similar to the ",(0,r.kt)("inlineCode",{parentName:"p"},"INSERT")," clause of SQL and lets you insert records into your node and relationship tables. We describe the generic semantics of the\n",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE")," clause momentarily ",(0,r.kt)("a",{parentName:"p",href:"#generic-semantics"},"below"),". We first start with some simple examples. "),(0,r.kt)("h2",{id:"insert-nodes"},"Insert Nodes"),(0,r.kt)("p",null,"The following query inserts a single (Alice, 35) node record into the User node table:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CREATE (u:User {name: 'Alice', age: 35})\n")),(0,r.kt)("p",null,"The properties you would like to set are specified using the\n",(0,r.kt)("inlineCode",{parentName:"p"},"{prop1 : val1, prop2 : val2, ...}")," syntax.  "),(0,r.kt)("p",null,"If you queried the database now for\na User node with name Alice, you would get the above tuple:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"MATCH (a:User) \nWHERE a.name = 'Alice' \nRETURN a.*;\n------------------\n| a.name | a.age |\n------------------\n| Alice  | 35    |\n------------------\n")),(0,r.kt)("p",null,'Any node property which is not specified will be set to NULL.\nFor example the following query will set the age property\nthe inserted node record to NULL. Note that for node records,\nthe primary key property, in our example "name" has to be non-NULL.'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CREATE (u:User {name: 'Dimitri'})\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"MATCH (a:User) \nWHERE a.name = 'Dimitri' \nRETURN a.*;\n-------------------\n| a.name  | a.age |\n-------------------\n| Dimitri |       |\n-------------------\n")),(0,r.kt)("h2",{id:"insert-relationships"},"Insert Relationships"),(0,r.kt)("p",null,"You can insert records to your relationship tables by\nfirst binding two variables ",(0,r.kt)("inlineCode",{parentName:"p"},"s")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"t"),' to nodes, and then\n"drawing" a relationship pattern between ',(0,r.kt)("inlineCode",{parentName:"p"},"s")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"t"),'.\nFor example, the following creates a Follows relationship\nfrom the User node with name "Adam" to the User node with\nname "Noura". '),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"MATCH (u1:User), (u2:User) WHERE u1.name = 'Adam' AND u2.name = 'Noura' \nCREATE (u1)-[:Follows {since: 2011}]->(u2)\n")),(0,r.kt)("p",null,"Similar to inserting node records, any relationship property which is not\nspecified in the query will be set to NULL."),(0,r.kt)("h2",{id:"generic-semantics"},"Generic Semantics"),(0,r.kt)("p",null,"The general semantics of ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE")," is as follows. You can specify\nan arbitrary graph pattern ",(0,r.kt)("inlineCode",{parentName:"p"},"P")," after the ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE")," clause.\nThen for each tuple ",(0,r.kt)("inlineCode",{parentName:"p"},"t")," that was produced before the ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE")," statement,\neach node ",(0,r.kt)("inlineCode",{parentName:"p"},"n")," and relationship ",(0,r.kt)("inlineCode",{parentName:"p"},"r")," that is not bound by ",(0,r.kt)("inlineCode",{parentName:"p"},"t")," is inserted\nas a new node and relationship. For example the following query\nadds a Follows relationship with ",(0,r.kt)("inlineCode",{parentName:"p"},"since=2022"),' from User node "Zhang"\nto every other User node (including from "Zhang" to "Zhang")\nin the database:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'MATCH (a:User), (b:User) \nWHERE a.name = "Zhang" \nCREATE (a)-[:Follows {since:2022}]->(b);\n')),(0,r.kt)("p",null,'This is because the "a" variable matches to User node "Zhang" and the "b" variable matches to any node in the "User" table. As a result, this query creates a Follows relationship from User node "Zhang" to every other User nodes.'))}m.isMDXComponent=!0},5973:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/running-example-db76aa393fd70d29c831f1527455440a.png"}}]);