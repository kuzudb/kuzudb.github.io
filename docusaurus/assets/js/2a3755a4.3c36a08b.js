"use strict";(self.webpackChunkkuzu_docs=self.webpackChunkkuzu_docs||[]).push([[9642],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),u=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=u(e.components);return n.createElement(i.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=u(a),c=r,h=d["".concat(i,".").concat(c)]||d[c]||m[c]||l;return a?n.createElement(h,s(s({ref:t},p),{},{components:a})):n.createElement(h,s({ref:t},p))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,s=new Array(l);s[0]=c;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o[d]="string"==typeof e?e:r,s[1]=o;for(var u=2;u<l;u++)s[u]=a[u];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},5028:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>u});var n=a(7462),r=(a(7294),a(3905));const l={slug:"kuzu-0.0.5-release",authors:["team"],tags:["release"]},s="K\xf9zu 0.0.5 Release",o={permalink:"/docusaurus/blog/kuzu-0.0.5-release",source:"@site/blog/2023-07-10-kuzu-v-0.0.5.md",title:"K\xf9zu 0.0.5 Release",description:"We are very happy to release K\xf9zu 0.0.5 today! This release comes with the following new main features and improvements:",date:"2023-07-10T00:00:00.000Z",formattedDate:"July 10, 2023",tags:[{label:"release",permalink:"/docusaurus/blog/tags/release"}],readingTime:4.14,hasTruncateMarker:!0,authors:[{name:"K\xf9zu Team",url:"https://github.com/kuzudb/",imageURL:"https://kuzudb.com/img/blog/team.jpg",key:"team"}],frontMatter:{slug:"kuzu-0.0.5-release",authors:["team"],tags:["release"]},nextItem:{title:"K\xf9zu 0.0.4 Release",permalink:"/docusaurus/blog/kuzu-0.0.4-release"}},i={authorsImageUrls:[void 0]},u=[{value:"Cypher Features",id:"cypher-features",level:2},{value:"Named Paths",id:"named-paths",level:3},{value:"Filters of Relationships in Recursive Patterns",id:"filters-of-relationships-in-recursive-patterns",level:3},{value:"All Shortest Paths",id:"all-shortest-paths",level:3},{value:"<code>Call</code> Clause",id:"call-clause",level:3},{value:"Modifying Database Configurations",id:"modifying-database-configurations",level:2},{value:"Data Types",id:"data-types",level:2},{value:"<code>BLOB</code>",id:"blob",level:3},{value:"Client APIs: Rust and Java",id:"client-apis-rust-and-java",level:2},{value:"Development: Testing Framework",id:"development-testing-framework",level:2}],p={toc:u},d="wrapper";function m(e){let{components:t,...a}=e;return(0,r.kt)(d,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"We are very happy to release K\xf9zu 0.0.5 today! This release comes with the following new main features and improvements: "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docusaurus/blog/kuzu-0.0.5-release#cypher-features"},"Cypher Features"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docusaurus/blog/kuzu-0.0.5-release#named-path"},"Named Path")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docusaurus/blog/kuzu-0.0.5-release#filters-of-relationships-in-recursive-patterns"},"Filters of Relationships in Recursive Patterns")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docusaurus/blog/kuzu-0.0.5-release#all-shortest-paths"},"All Shortest Paths")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docusaurus/blog/kuzu-0.0.5-release#call-clause"},(0,r.kt)("inlineCode",{parentName:"a"},"Call")," Clause")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docusaurus/blog/kuzu-0.0.5-release#modifying-database-configurations"},"Modifying Database Configuration")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docusaurus/blog/kuzu-0.0.5-release#data-types"},"Data Types"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docusaurus/blog/kuzu-0.0.5-release#blob"},(0,r.kt)("inlineCode",{parentName:"a"},"BLOB"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docusaurus/blog/kuzu-0.0.5-release#client-apis-rust-and-java"},"Client APIs: Rust and Java")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/docusaurus/blog/kuzu-0.0.5-release#development-testing-framework"},"Development:Testing Framework"))),(0,r.kt)("h2",{id:"cypher-features"},"Cypher Features"),(0,r.kt)("h3",{id:"named-paths"},"Named Paths"),(0,r.kt)("p",null,"This releases introduces named paths. Users can now assign a named variable to a connected graph pattern. For example, the following query returns all path between ",(0,r.kt)("inlineCode",{parentName:"p"},"Adam")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Karissa"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"MATCH p = (a:User)-[:Follows]->(b:User) \nWHERE a.name = 'Adam' AND b.name = 'Karissa' \nRETURN p;\n")),(0,r.kt)("p",null,"Named paths can also be assigned to recursive graph patterns as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"MATCH p = (a:User)-[:Follows*1..2]->(:User)-[:LivesIn]->(:City) \nWHERE a.name = 'Adam' \nRETURN p;\n")),(0,r.kt)("p",null,"One can also assign multiple named paths in a ",(0,r.kt)("inlineCode",{parentName:"p"},"MATCH")," clause"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"MATCH p1 = (a:User)-[:Follows]->(b:User), p2 = (b)-[:LivesIn]->(:City) \nWHERE a.name = 'Adam' \nRETURN p1, p2;\n")),(0,r.kt)("p",null,"Internally, a path is processed as a ",(0,r.kt)("inlineCode",{parentName:"p"},"STRUCT")," with two fields, a nodes field with key ",(0,r.kt)("inlineCode",{parentName:"p"},"_NODES")," and type ",(0,r.kt)("inlineCode",{parentName:"p"},"LIST[NODE]")," and a rels field with key ",(0,r.kt)("inlineCode",{parentName:"p"},"_RELS")," and type ",(0,r.kt)("inlineCode",{parentName:"p"},"LIST[REL]"),". See ",(0,r.kt)("a",{parentName:"p",href:"https://kuzudb.com/docusaurus/cypher/data-types/path"},(0,r.kt)("inlineCode",{parentName:"a"},"PATH"))," for details. Users can access nodes and rels field with ",(0,r.kt)("inlineCode",{parentName:"p"},"nodes(p)")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"rels(p)")," function calls as follows:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"MATCH p = (a:User)-[:Follows*1..2]->(:User) \nWHERE a.name = 'Adam' \nRETURN nodes(p), (rels(p)[1]).since;\n")),(0,r.kt)("h3",{id:"filters-of-relationships-in-recursive-patterns"},"Filters of Relationships in Recursive Patterns"),(0,r.kt)("p",null,'Users can now put predicates on the relationships that will be "traversed/joined" in recursive patterns.\nFor example, the following query finds the name of users that are followed by Adam directly or indirectly through 2 hops where ',(0,r.kt)("em",{parentName:"p"},"the following started before 2022 (r.since < 2022 predicate)"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"MATCH p = (a:User)-[:Follows*1..2 (r, _ | WHERE r.since < 2022)]->(b:User)\nWHERE a.name = 'Adam' \nRETURN DISTINCT b.name;\n")),(0,r.kt)("p",null,"Our filter grammar follows ",(0,r.kt)("a",{parentName:"p",href:"https://memgraph.com/docs/memgraph/reference-guide/built-in-graph-algorithms"},"Memgraph's syntax"),". The first variable ",(0,r.kt)("inlineCode",{parentName:"p"},"r")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"(r, _ | WHERE r.since < 2022)")," predicate binds to the relationships in the recursive pattern and the ",(0,r.kt)("inlineCode",{parentName:"p"},"_")," binds to the nodes. Since we currently don't allow filters on recursive nodes, the second variable must be ",(0,r.kt)("inlineCode",{parentName:"p"},"_")," for now."),(0,r.kt)("h3",{id:"all-shortest-paths"},"All Shortest Paths"),(0,r.kt)("p",null,"K\xf9zu now supports all shortest paths semantic with key word ",(0,r.kt)("inlineCode",{parentName:"p"},"ALL SHORTEST"),". The following query finds all shortest paths of up to length 3 between ",(0,r.kt)("inlineCode",{parentName:"p"},"Zhang")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Waterloo")," considering relationships of all labels (i.e., this is an unlabeled query and you can restrict the labels by adding them as ",(0,r.kt)("inlineCode",{parentName:"p"},"[:Follows* ALL SHORTEST 1..3]"),")."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"MATCH p = (a)-[* ALL SHORTEST 1..3]-(b) \nWHERE a.name = 'Zhang' AND b.name = 'Waterloo' \nRETURN p;\n")),(0,r.kt)("p",null,"See ",(0,r.kt)("a",{parentName:"p",href:"https://kuzudb.com/docusaurus/cypher/query-clauses/match#all-shortest-path"},"All Shortest Paths")," on our documentation for more information."),(0,r.kt)("h3",{id:"call-clause"},(0,r.kt)("inlineCode",{parentName:"h3"},"Call")," Clause"),(0,r.kt)("p",null,"This release introduces ",(0,r.kt)("inlineCode",{parentName:"p"},"Call")," as a reading clause. Similar to ",(0,r.kt)("a",{parentName:"p",href:"https://neo4j.com/docs/cypher-manual/current/clauses/call/"},"Neo4j"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Call")," clause is used to execute procedures. The release also contains a set of predefined procedures that can be used to query the database schemas. For example, the following query returns all metadata of ",(0,r.kt)("inlineCode",{parentName:"p"},"User")," table:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CALL table_info('User') RETURN *;\n---------------------------------------------\n| property id | name | type   | primary key |\n---------------------------------------------\n| 0           | name | STRING | True        |\n---------------------------------------------\n| 1           | age  | INT64  | False       |\n---------------------------------------------\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Call")," can be used together with other clauses in the same way as a reading clause:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CALL table_info('User') WITH * WHERE name STARTS WITH 'a' RETURN name;\n--------\n| name |\n--------\n| age  |\n--------\n")),(0,r.kt)("p",null,"More built in procedures can be found ",(0,r.kt)("a",{parentName:"p",href:"https://kuzudb.com/docusaurus/cypher/query-clauses/call"},"here"),"."),(0,r.kt)("h2",{id:"modifying-database-configurations"},"Modifying Database Configurations"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"CALL")," has another usage: you can now modify database configurations through a ",(0,r.kt)("inlineCode",{parentName:"p"},"Call param=x")," pattern. For example, the following sets the maximum number of threads for query execution to 5:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CALL THREADS=5;\n")),(0,r.kt)("p",null,"More configuration options can be found ",(0,r.kt)("a",{parentName:"p",href:"https://kuzudb.com/docusaurus/cypher/configuration"},"here"),"."),(0,r.kt)("h2",{id:"data-types"},"Data Types"),(0,r.kt)("h3",{id:"blob"},(0,r.kt)("inlineCode",{parentName:"h3"},"BLOB")),(0,r.kt)("p",null,"We have also added the ",(0,r.kt)("inlineCode",{parentName:"p"},"BLOB")," type to store arbitrary binary objects. Here is an example query returning a blob:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"RETURN BLOB('\\\\xBC\\\\xBD\\\\xBA\\\\xAA') as result;\n---------------------------------------------\n| result                                    |\n---------------------------------------------\n| \\xBC\\xBD\\xBA\\xAA                          |\n---------------------------------------------\n")),(0,r.kt)("p",null,"More information on the blob data type can be found ",(0,r.kt)("a",{parentName:"p",href:"https://kuzudb.com/docusaurus/cypher/data-types/blob"},"here"),"."),(0,r.kt)("h2",{id:"client-apis-rust-and-java"},"Client APIs: Rust and Java"),(0,r.kt)("p",null,"In this release, we're expanding the accessibility of K\xf9zu, bridging the gap with some of the most popular programming languages in the developer community. Specifically, we now have ",(0,r.kt)("a",{parentName:"p",href:"https://kuzudb.com/docusaurus/client-apis/rust"},"Rust")," and ",(0,r.kt)("a",{parentName:"p",href:"https://kuzudb.com/docusaurus/client-apis/java"},"Java")," APIs."),(0,r.kt)("h2",{id:"development-testing-framework"},"Development: Testing Framework"),(0,r.kt)("p",null,"Starting with this release, we're adding some development guidelines to encourage and facilitate outside contributions from the broader open source community."),(0,r.kt)("p",null,"Testing is a crucial part of K\xf9zu to ensure the correct functioning of the system.\nIn this release, we've implemented significant changes to our testing framework. Our approach to testing is rooted in the principle of end-to-end tests rather than individual unit tests.\nWhenever possible, we route all tests in the end-to-end way through Cypher statements.\nTo this end, we've designed a custom testing framework that enables thorough end-to-end testing via Cypher statements."),(0,r.kt)("p",null,"Our testing framework draws inspiration from ",(0,r.kt)("a",{parentName:"p",href:"https://www.sqlite.org/sqllogictest/doc/trunk/about.wiki"},"SQLLogicTest"),", albeit with customized syntax tailored to our needs.\nFor a more detailed overview of our testing framework, please visit ",(0,r.kt)("a",{parentName:"p",href:"https://kuzudb.com/docusaurus/development/testing-framework"},"here"),"."))}m.isMDXComponent=!0}}]);