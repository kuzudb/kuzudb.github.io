<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.1"/>
    <title>kuzu API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>


            <h2>Contents</h2>
            <ul>
  <li><a href="#kuzu-python-api-bindings">Kùzu Python API bindings.</a></li>
</ul>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#Connection">Connection</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Connection.__init__">Connection</a>
                        </li>
                        <li>
                                <a class="variable" href="#Connection.database">database</a>
                        </li>
                        <li>
                                <a class="variable" href="#Connection.num_threads">num_threads</a>
                        </li>
                        <li>
                                <a class="variable" href="#Connection.is_closed">is_closed</a>
                        </li>
                        <li>
                                <a class="function" href="#Connection.init_connection">init_connection</a>
                        </li>
                        <li>
                                <a class="function" href="#Connection.set_max_threads_for_exec">set_max_threads_for_exec</a>
                        </li>
                        <li>
                                <a class="function" href="#Connection.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#Connection.execute">execute</a>
                        </li>
                        <li>
                                <a class="function" href="#Connection.prepare">prepare</a>
                        </li>
                        <li>
                                <a class="function" href="#Connection.set_query_timeout">set_query_timeout</a>
                        </li>
                        <li>
                                <a class="function" href="#Connection.create_function">create_function</a>
                        </li>
                        <li>
                                <a class="function" href="#Connection.remove_function">remove_function</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Database">Database</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Database.__init__">Database</a>
                        </li>
                        <li>
                                <a class="variable" href="#Database.database_path">database_path</a>
                        </li>
                        <li>
                                <a class="variable" href="#Database.buffer_pool_size">buffer_pool_size</a>
                        </li>
                        <li>
                                <a class="variable" href="#Database.max_num_threads">max_num_threads</a>
                        </li>
                        <li>
                                <a class="variable" href="#Database.compression">compression</a>
                        </li>
                        <li>
                                <a class="variable" href="#Database.read_only">read_only</a>
                        </li>
                        <li>
                                <a class="variable" href="#Database.max_db_size">max_db_size</a>
                        </li>
                        <li>
                                <a class="variable" href="#Database.is_closed">is_closed</a>
                        </li>
                        <li>
                                <a class="function" href="#Database.get_version">get_version</a>
                        </li>
                        <li>
                                <a class="function" href="#Database.get_storage_version">get_storage_version</a>
                        </li>
                        <li>
                                <a class="function" href="#Database.init_database">init_database</a>
                        </li>
                        <li>
                                <a class="function" href="#Database.get_torch_geometric_remote_backend">get_torch_geometric_remote_backend</a>
                        </li>
                        <li>
                                <a class="function" href="#Database.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#Database.check_for_database_close">check_for_database_close</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PreparedStatement">PreparedStatement</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#PreparedStatement.__init__">PreparedStatement</a>
                        </li>
                        <li>
                                <a class="function" href="#PreparedStatement.is_success">is_success</a>
                        </li>
                        <li>
                                <a class="function" href="#PreparedStatement.get_error_message">get_error_message</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#QueryResult">QueryResult</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#QueryResult.__init__">QueryResult</a>
                        </li>
                        <li>
                                <a class="variable" href="#QueryResult.connection">connection</a>
                        </li>
                        <li>
                                <a class="variable" href="#QueryResult.is_closed">is_closed</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.check_for_query_result_close">check_for_query_result_close</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.has_next">has_next</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.get_next">get_next</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.close">close</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.get_as_df">get_as_df</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.get_as_pl">get_as_pl</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.get_as_arrow">get_as_arrow</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.get_column_data_types">get_column_data_types</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.get_column_names">get_column_names</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.get_schema">get_schema</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.reset_iterator">reset_iterator</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.get_as_networkx">get_as_networkx</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.get_as_torch_geometric">get_as_torch_geometric</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.get_execution_time">get_execution_time</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.get_compiling_time">get_compiling_time</a>
                        </li>
                        <li>
                                <a class="function" href="#QueryResult.get_num_tuples">get_num_tuples</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Type">Type</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#Type.ANY">ANY</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.NODE">NODE</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.REL">REL</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.RECURSIVE_REL">RECURSIVE_REL</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.SERIAL">SERIAL</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.BOOL">BOOL</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.INT64">INT64</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.INT32">INT32</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.INT16">INT16</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.INT8">INT8</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.UINT64">UINT64</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.UINT32">UINT32</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.UINT16">UINT16</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.UINT8">UINT8</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.INT128">INT128</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.DOUBLE">DOUBLE</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.FLOAT">FLOAT</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.DATE">DATE</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.TIMESTAMP">TIMESTAMP</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.TIMSTAMP_TZ">TIMSTAMP_TZ</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.TIMESTAMP_NS">TIMESTAMP_NS</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.TIMESTAMP_MS">TIMESTAMP_MS</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.TIMESTAMP_SEC">TIMESTAMP_SEC</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.INTERVAL">INTERVAL</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.INTERNAL_ID">INTERNAL_ID</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.STRING">STRING</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.BLOB">BLOB</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.UUID">UUID</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.LIST">LIST</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.ARRAY">ARRAY</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.STRUCT">STRUCT</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.MAP">MAP</a>
                        </li>
                        <li>
                                <a class="variable" href="#Type.UNION">UNION</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#__version__">__version__</a>
            </li>
            <li>
                    <a class="variable" href="#storage_version">storage_version</a>
            </li>
            <li>
                    <a class="variable" href="#version">version</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
kuzu    </h1>

                        <div class="docstring"><h1 id="kuzu-python-api-bindings">Kùzu Python API bindings.</h1>

<p>This package provides a Python API for Kùzu graph database management system.</p>

<p>To install the package, run:</p>

<pre><code>python3 -m pip install kuzu
</code></pre>

<p>Example usage:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="kn">import</span> <span class="nn">kuzu</span>

<span class="n">db</span> <span class="o">=</span> <span class="n"><a href="#Database">kuzu.Database</a></span><span class="p">(</span><span class="s2">&quot;./test&quot;</span><span class="p">)</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n"><a href="#Connection">kuzu.Connection</a></span><span class="p">(</span><span class="n">db</span><span class="p">)</span>

<span class="c1"># Define the schema</span>
<span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CREATE NODE TABLE User(name STRING, age INT64, PRIMARY KEY (name))&quot;</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CREATE NODE TABLE City(name STRING, population INT64, PRIMARY KEY (name))&quot;</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CREATE REL TABLE Follows(FROM User TO User, since INT64)&quot;</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CREATE REL TABLE LivesIn(FROM User TO City)&quot;</span><span class="p">)</span>

<span class="c1"># Load some data</span>
<span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;COPY User FROM &quot;user.csv&quot;&#39;</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;COPY City FROM &quot;city.csv&quot;&#39;</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;COPY Follows FROM &quot;follows.csv&quot;&#39;</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;COPY LivesIn FROM &quot;lives-in.csv&quot;&#39;</span><span class="p">)</span>

<span class="c1"># Query the data</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;MATCH (u:User) RETURN u.name, u.age;&quot;</span><span class="p">)</span>
<span class="k">while</span> <span class="n">results</span><span class="o">.</span><span class="n">has_next</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">get_next</span><span class="p">())</span>
</code></pre>
</div>

<p>The dataset used in this example can be found <a href="https://github.com/kuzudb/kuzu/tree/master/dataset/demo-db/csv">here</a>.</p>
</div>

                        <input id="mod-kuzu-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-kuzu-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a><span class="sd"># Kùzu Python API bindings.</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a><span class="sd">This package provides a Python API for Kùzu graph database management system.</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a><span class="sd">To install the package, run:</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a><span class="sd">```</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a><span class="sd">python3 -m pip install kuzu</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a><span class="sd">```</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a><span class="sd">Example usage:</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a><span class="sd">```python</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a><span class="sd">import kuzu</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a>
</span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a><span class="sd">db = kuzu.Database(&quot;./test&quot;)</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">16</span></a><span class="sd">conn = kuzu.Connection(db)</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a>
</span><span id="L-18"><a href="#L-18"><span class="linenos">18</span></a><span class="sd"># Define the schema</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">19</span></a><span class="sd">conn.execute(&quot;CREATE NODE TABLE User(name STRING, age INT64, PRIMARY KEY (name))&quot;)</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">20</span></a><span class="sd">conn.execute(&quot;CREATE NODE TABLE City(name STRING, population INT64, PRIMARY KEY (name))&quot;)</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a><span class="sd">conn.execute(&quot;CREATE REL TABLE Follows(FROM User TO User, since INT64)&quot;)</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">22</span></a><span class="sd">conn.execute(&quot;CREATE REL TABLE LivesIn(FROM User TO City)&quot;)</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">23</span></a>
</span><span id="L-24"><a href="#L-24"><span class="linenos">24</span></a><span class="sd"># Load some data</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">25</span></a><span class="sd">conn.execute(&#39;COPY User FROM &quot;user.csv&quot;&#39;)</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">26</span></a><span class="sd">conn.execute(&#39;COPY City FROM &quot;city.csv&quot;&#39;)</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">27</span></a><span class="sd">conn.execute(&#39;COPY Follows FROM &quot;follows.csv&quot;&#39;)</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">28</span></a><span class="sd">conn.execute(&#39;COPY LivesIn FROM &quot;lives-in.csv&quot;&#39;)</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">29</span></a>
</span><span id="L-30"><a href="#L-30"><span class="linenos">30</span></a><span class="sd"># Query the data</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">31</span></a><span class="sd">results = conn.execute(&quot;MATCH (u:User) RETURN u.name, u.age;&quot;)</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">32</span></a><span class="sd">while results.has_next():</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">33</span></a><span class="sd">    print(results.get_next())</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">34</span></a><span class="sd">```</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">35</span></a>
</span><span id="L-36"><a href="#L-36"><span class="linenos">36</span></a><span class="sd">The dataset used in this example can be found [here](https://github.com/kuzudb/kuzu/tree/master/dataset/demo-db/csv).</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">37</span></a>
</span><span id="L-38"><a href="#L-38"><span class="linenos">38</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">39</span></a>
</span><span id="L-40"><a href="#L-40"><span class="linenos">40</span></a><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">41</span></a>
</span><span id="L-42"><a href="#L-42"><span class="linenos">42</span></a><span class="kn">import</span> <span class="nn">os</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">43</span></a><span class="kn">import</span> <span class="nn">sys</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">44</span></a>
</span><span id="L-45"><a href="#L-45"><span class="linenos">45</span></a><span class="c1"># Set RTLD_GLOBAL and RTLD_LAZY flags on Linux to fix the issue with loading</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">46</span></a><span class="c1"># extensions</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">47</span></a><span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;linux&quot;</span><span class="p">:</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">48</span></a>    <span class="n">original_dlopen_flags</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">getdlopenflags</span><span class="p">()</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">49</span></a>    <span class="n">sys</span><span class="o">.</span><span class="n">setdlopenflags</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">RTLD_GLOBAL</span> <span class="o">|</span> <span class="n">os</span><span class="o">.</span><span class="n">RTLD_LAZY</span><span class="p">)</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">50</span></a>
</span><span id="L-51"><a href="#L-51"><span class="linenos">51</span></a><span class="kn">from</span> <span class="nn">.connection</span> <span class="kn">import</span> <span class="n">Connection</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">52</span></a><span class="kn">from</span> <span class="nn">.database</span> <span class="kn">import</span> <span class="n">Database</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">53</span></a><span class="kn">from</span> <span class="nn">.prepared_statement</span> <span class="kn">import</span> <span class="n">PreparedStatement</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">54</span></a><span class="kn">from</span> <span class="nn">.query_result</span> <span class="kn">import</span> <span class="n">QueryResult</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">55</span></a><span class="kn">from</span> <span class="nn">.types</span> <span class="kn">import</span> <span class="n">Type</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">56</span></a>
</span><span id="L-57"><a href="#L-57"><span class="linenos">57</span></a>
</span><span id="L-58"><a href="#L-58"><span class="linenos">58</span></a><span class="k">def</span> <span class="fm">__getattr__</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">59</span></a>    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="s2">&quot;__version__&quot;</span><span class="p">):</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">60</span></a>        <span class="k">return</span> <span class="n">Database</span><span class="o">.</span><span class="n">get_version</span><span class="p">()</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">61</span></a>    <span class="k">elif</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;storage_version&quot;</span><span class="p">:</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos">62</span></a>        <span class="k">return</span> <span class="n">Database</span><span class="o">.</span><span class="n">get_storage_version</span><span class="p">()</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos">63</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos">64</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;module </span><span class="si">{</span><span class="vm">__name__</span><span class="si">!r}</span><span class="s2"> has no attribute </span><span class="si">{</span><span class="n">name</span><span class="si">!r}</span><span class="s2">&quot;</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">65</span></a>        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">66</span></a>
</span><span id="L-67"><a href="#L-67"><span class="linenos">67</span></a>
</span><span id="L-68"><a href="#L-68"><span class="linenos">68</span></a><span class="c1"># Restore the original dlopen flags</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos">69</span></a><span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s2">&quot;linux&quot;</span><span class="p">:</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos">70</span></a>    <span class="n">sys</span><span class="o">.</span><span class="n">setdlopenflags</span><span class="p">(</span><span class="n">original_dlopen_flags</span><span class="p">)</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos">71</span></a>
</span><span id="L-72"><a href="#L-72"><span class="linenos">72</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">73</span></a>    <span class="s2">&quot;Connection&quot;</span><span class="p">,</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos">74</span></a>    <span class="s2">&quot;Database&quot;</span><span class="p">,</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">75</span></a>    <span class="s2">&quot;PreparedStatement&quot;</span><span class="p">,</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos">76</span></a>    <span class="s2">&quot;QueryResult&quot;</span><span class="p">,</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos">77</span></a>    <span class="s2">&quot;Type&quot;</span><span class="p">,</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos">78</span></a>    <span class="s2">&quot;__version__&quot;</span><span class="p">,</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos">79</span></a>    <span class="s2">&quot;storage_version&quot;</span><span class="p">,</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos">80</span></a>    <span class="s2">&quot;version&quot;</span><span class="p">,</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos">81</span></a><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="Connection">
                            <input id="Connection-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Connection</span>:

                <label class="view-source-button" for="Connection-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Connection"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Connection-23"><a href="#Connection-23"><span class="linenos"> 23</span></a><span class="k">class</span> <span class="nc">Connection</span><span class="p">:</span>
</span><span id="Connection-24"><a href="#Connection-24"><span class="linenos"> 24</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Connection to a database.&quot;&quot;&quot;</span>
</span><span id="Connection-25"><a href="#Connection-25"><span class="linenos"> 25</span></a>
</span><span id="Connection-26"><a href="#Connection-26"><span class="linenos"> 26</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database</span><span class="p">:</span> <span class="n">Database</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="Connection-27"><a href="#Connection-27"><span class="linenos"> 27</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection-28"><a href="#Connection-28"><span class="linenos"> 28</span></a><span class="sd">        Initialise kuzu database connection.</span>
</span><span id="Connection-29"><a href="#Connection-29"><span class="linenos"> 29</span></a>
</span><span id="Connection-30"><a href="#Connection-30"><span class="linenos"> 30</span></a><span class="sd">        Parameters</span>
</span><span id="Connection-31"><a href="#Connection-31"><span class="linenos"> 31</span></a><span class="sd">        ----------</span>
</span><span id="Connection-32"><a href="#Connection-32"><span class="linenos"> 32</span></a><span class="sd">        database : Database</span>
</span><span id="Connection-33"><a href="#Connection-33"><span class="linenos"> 33</span></a><span class="sd">            Database to connect to.</span>
</span><span id="Connection-34"><a href="#Connection-34"><span class="linenos"> 34</span></a>
</span><span id="Connection-35"><a href="#Connection-35"><span class="linenos"> 35</span></a><span class="sd">        num_threads : int</span>
</span><span id="Connection-36"><a href="#Connection-36"><span class="linenos"> 36</span></a><span class="sd">            Maximum number of threads to use for executing queries.</span>
</span><span id="Connection-37"><a href="#Connection-37"><span class="linenos"> 37</span></a>
</span><span id="Connection-38"><a href="#Connection-38"><span class="linenos"> 38</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection-39"><a href="#Connection-39"><span class="linenos"> 39</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># (type: _kuzu.Connection from pybind11)</span>
</span><span id="Connection-40"><a href="#Connection-40"><span class="linenos"> 40</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="o">=</span> <span class="n">database</span>
</span><span id="Connection-41"><a href="#Connection-41"><span class="linenos"> 41</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_threads</span> <span class="o">=</span> <span class="n">num_threads</span>
</span><span id="Connection-42"><a href="#Connection-42"><span class="linenos"> 42</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Connection-43"><a href="#Connection-43"><span class="linenos"> 43</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">init_connection</span><span class="p">()</span>
</span><span id="Connection-44"><a href="#Connection-44"><span class="linenos"> 44</span></a>
</span><span id="Connection-45"><a href="#Connection-45"><span class="linenos"> 45</span></a>    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="Connection-46"><a href="#Connection-46"><span class="linenos"> 46</span></a>        <span class="n">state</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Connection-47"><a href="#Connection-47"><span class="linenos"> 47</span></a>            <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="p">,</span>
</span><span id="Connection-48"><a href="#Connection-48"><span class="linenos"> 48</span></a>            <span class="s2">&quot;num_threads&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_threads</span><span class="p">,</span>
</span><span id="Connection-49"><a href="#Connection-49"><span class="linenos"> 49</span></a>            <span class="s2">&quot;_connection&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Connection-50"><a href="#Connection-50"><span class="linenos"> 50</span></a>        <span class="p">}</span>
</span><span id="Connection-51"><a href="#Connection-51"><span class="linenos"> 51</span></a>        <span class="k">return</span> <span class="n">state</span>
</span><span id="Connection-52"><a href="#Connection-52"><span class="linenos"> 52</span></a>
</span><span id="Connection-53"><a href="#Connection-53"><span class="linenos"> 53</span></a>    <span class="k">def</span> <span class="nf">init_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection-54"><a href="#Connection-54"><span class="linenos"> 54</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Establish a connection to the database, if not already initalised.&quot;&quot;&quot;</span>
</span><span id="Connection-55"><a href="#Connection-55"><span class="linenos"> 55</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span><span class="p">:</span>
</span><span id="Connection-56"><a href="#Connection-56"><span class="linenos"> 56</span></a>            <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;Connection is closed.&quot;</span>
</span><span id="Connection-57"><a href="#Connection-57"><span class="linenos"> 57</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">error_msg</span><span class="p">)</span>
</span><span id="Connection-58"><a href="#Connection-58"><span class="linenos"> 58</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">init_database</span><span class="p">()</span>
</span><span id="Connection-59"><a href="#Connection-59"><span class="linenos"> 59</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection-60"><a href="#Connection-60"><span class="linenos"> 60</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span> <span class="o">=</span> <span class="n">_kuzu</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">_database</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_threads</span><span class="p">)</span>  <span class="c1"># type: ignore[union-attr]</span>
</span><span id="Connection-61"><a href="#Connection-61"><span class="linenos"> 61</span></a>
</span><span id="Connection-62"><a href="#Connection-62"><span class="linenos"> 62</span></a>    <span class="k">def</span> <span class="nf">set_max_threads_for_exec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection-63"><a href="#Connection-63"><span class="linenos"> 63</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection-64"><a href="#Connection-64"><span class="linenos"> 64</span></a><span class="sd">        Set the maximum number of threads for executing queries.</span>
</span><span id="Connection-65"><a href="#Connection-65"><span class="linenos"> 65</span></a>
</span><span id="Connection-66"><a href="#Connection-66"><span class="linenos"> 66</span></a><span class="sd">        Parameters</span>
</span><span id="Connection-67"><a href="#Connection-67"><span class="linenos"> 67</span></a><span class="sd">        ----------</span>
</span><span id="Connection-68"><a href="#Connection-68"><span class="linenos"> 68</span></a><span class="sd">        num_threads : int</span>
</span><span id="Connection-69"><a href="#Connection-69"><span class="linenos"> 69</span></a><span class="sd">            Maximum number of threads to use for executing queries.</span>
</span><span id="Connection-70"><a href="#Connection-70"><span class="linenos"> 70</span></a>
</span><span id="Connection-71"><a href="#Connection-71"><span class="linenos"> 71</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection-72"><a href="#Connection-72"><span class="linenos"> 72</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">init_connection</span><span class="p">()</span>
</span><span id="Connection-73"><a href="#Connection-73"><span class="linenos"> 73</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">set_max_threads_for_exec</span><span class="p">(</span><span class="n">num_threads</span><span class="p">)</span>
</span><span id="Connection-74"><a href="#Connection-74"><span class="linenos"> 74</span></a>
</span><span id="Connection-75"><a href="#Connection-75"><span class="linenos"> 75</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection-76"><a href="#Connection-76"><span class="linenos"> 76</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection-77"><a href="#Connection-77"><span class="linenos"> 77</span></a><span class="sd">        Close the connection.</span>
</span><span id="Connection-78"><a href="#Connection-78"><span class="linenos"> 78</span></a>
</span><span id="Connection-79"><a href="#Connection-79"><span class="linenos"> 79</span></a><span class="sd">        Note: Call to this method is optional. The connection will be closed</span>
</span><span id="Connection-80"><a href="#Connection-80"><span class="linenos"> 80</span></a><span class="sd">        automatically when the object goes out of scope.</span>
</span><span id="Connection-81"><a href="#Connection-81"><span class="linenos"> 81</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection-82"><a href="#Connection-82"><span class="linenos"> 82</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection-83"><a href="#Connection-83"><span class="linenos"> 83</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="Connection-84"><a href="#Connection-84"><span class="linenos"> 84</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Connection-85"><a href="#Connection-85"><span class="linenos"> 85</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Connection-86"><a href="#Connection-86"><span class="linenos"> 86</span></a>
</span><span id="Connection-87"><a href="#Connection-87"><span class="linenos"> 87</span></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="Connection-88"><a href="#Connection-88"><span class="linenos"> 88</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="Connection-89"><a href="#Connection-89"><span class="linenos"> 89</span></a>
</span><span id="Connection-90"><a href="#Connection-90"><span class="linenos"> 90</span></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span>
</span><span id="Connection-91"><a href="#Connection-91"><span class="linenos"> 91</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Connection-92"><a href="#Connection-92"><span class="linenos"> 92</span></a>        <span class="n">exc_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Connection-93"><a href="#Connection-93"><span class="linenos"> 93</span></a>        <span class="n">exc_value</span><span class="p">:</span> <span class="ne">BaseException</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Connection-94"><a href="#Connection-94"><span class="linenos"> 94</span></a>        <span class="n">exc_traceback</span><span class="p">:</span> <span class="n">TracebackType</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Connection-95"><a href="#Connection-95"><span class="linenos"> 95</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection-96"><a href="#Connection-96"><span class="linenos"> 96</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="Connection-97"><a href="#Connection-97"><span class="linenos"> 97</span></a>
</span><span id="Connection-98"><a href="#Connection-98"><span class="linenos"> 98</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
</span><span id="Connection-99"><a href="#Connection-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Connection-100"><a href="#Connection-100"><span class="linenos">100</span></a>        <span class="n">query</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">PreparedStatement</span><span class="p">,</span>
</span><span id="Connection-101"><a href="#Connection-101"><span class="linenos">101</span></a>        <span class="n">parameters</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Connection-102"><a href="#Connection-102"><span class="linenos">102</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QueryResult</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">QueryResult</span><span class="p">]:</span>
</span><span id="Connection-103"><a href="#Connection-103"><span class="linenos">103</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection-104"><a href="#Connection-104"><span class="linenos">104</span></a><span class="sd">        Execute a query.</span>
</span><span id="Connection-105"><a href="#Connection-105"><span class="linenos">105</span></a>
</span><span id="Connection-106"><a href="#Connection-106"><span class="linenos">106</span></a><span class="sd">        Parameters</span>
</span><span id="Connection-107"><a href="#Connection-107"><span class="linenos">107</span></a><span class="sd">        ----------</span>
</span><span id="Connection-108"><a href="#Connection-108"><span class="linenos">108</span></a><span class="sd">        query : str | PreparedStatement</span>
</span><span id="Connection-109"><a href="#Connection-109"><span class="linenos">109</span></a><span class="sd">            A prepared statement or a query string.</span>
</span><span id="Connection-110"><a href="#Connection-110"><span class="linenos">110</span></a><span class="sd">            If a query string is given, a prepared statement will be created</span>
</span><span id="Connection-111"><a href="#Connection-111"><span class="linenos">111</span></a><span class="sd">            automatically.</span>
</span><span id="Connection-112"><a href="#Connection-112"><span class="linenos">112</span></a>
</span><span id="Connection-113"><a href="#Connection-113"><span class="linenos">113</span></a><span class="sd">        parameters : dict[str, Any]</span>
</span><span id="Connection-114"><a href="#Connection-114"><span class="linenos">114</span></a><span class="sd">            Parameters for the query.</span>
</span><span id="Connection-115"><a href="#Connection-115"><span class="linenos">115</span></a>
</span><span id="Connection-116"><a href="#Connection-116"><span class="linenos">116</span></a><span class="sd">        Returns</span>
</span><span id="Connection-117"><a href="#Connection-117"><span class="linenos">117</span></a><span class="sd">        -------</span>
</span><span id="Connection-118"><a href="#Connection-118"><span class="linenos">118</span></a><span class="sd">        QueryResult</span>
</span><span id="Connection-119"><a href="#Connection-119"><span class="linenos">119</span></a><span class="sd">            Query result.</span>
</span><span id="Connection-120"><a href="#Connection-120"><span class="linenos">120</span></a>
</span><span id="Connection-121"><a href="#Connection-121"><span class="linenos">121</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection-122"><a href="#Connection-122"><span class="linenos">122</span></a>        <span class="k">if</span> <span class="n">parameters</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection-123"><a href="#Connection-123"><span class="linenos">123</span></a>            <span class="n">parameters</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Connection-124"><a href="#Connection-124"><span class="linenos">124</span></a>
</span><span id="Connection-125"><a href="#Connection-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">init_connection</span><span class="p">()</span>
</span><span id="Connection-126"><a href="#Connection-126"><span class="linenos">126</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="Connection-127"><a href="#Connection-127"><span class="linenos">127</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Parameters must be a dict; found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
</span><span id="Connection-128"><a href="#Connection-128"><span class="linenos">128</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  <span class="c1"># noqa: TRY004</span>
</span><span id="Connection-129"><a href="#Connection-129"><span class="linenos">129</span></a>
</span><span id="Connection-130"><a href="#Connection-130"><span class="linenos">130</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Connection-131"><a href="#Connection-131"><span class="linenos">131</span></a>            <span class="n">_query_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="Connection-132"><a href="#Connection-132"><span class="linenos">132</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Connection-133"><a href="#Connection-133"><span class="linenos">133</span></a>            <span class="n">prepared_statement</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="n">query</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">query</span>
</span><span id="Connection-134"><a href="#Connection-134"><span class="linenos">134</span></a>            <span class="n">_query_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">prepared_statement</span><span class="o">.</span><span class="n">_prepared_statement</span><span class="p">,</span> <span class="n">parameters</span><span class="p">)</span>
</span><span id="Connection-135"><a href="#Connection-135"><span class="linenos">135</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">_query_result</span><span class="o">.</span><span class="n">isSuccess</span><span class="p">():</span>
</span><span id="Connection-136"><a href="#Connection-136"><span class="linenos">136</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getErrorMessage</span><span class="p">())</span>
</span><span id="Connection-137"><a href="#Connection-137"><span class="linenos">137</span></a>        <span class="n">current_query_result</span> <span class="o">=</span> <span class="n">QueryResult</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_query_result</span><span class="p">)</span>
</span><span id="Connection-138"><a href="#Connection-138"><span class="linenos">138</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">_query_result</span><span class="o">.</span><span class="n">hasNextQueryResult</span><span class="p">():</span>
</span><span id="Connection-139"><a href="#Connection-139"><span class="linenos">139</span></a>            <span class="k">return</span> <span class="n">current_query_result</span>
</span><span id="Connection-140"><a href="#Connection-140"><span class="linenos">140</span></a>        <span class="n">all_query_results</span> <span class="o">=</span> <span class="p">[</span><span class="n">current_query_result</span><span class="p">]</span>
</span><span id="Connection-141"><a href="#Connection-141"><span class="linenos">141</span></a>        <span class="k">while</span> <span class="n">_query_result</span><span class="o">.</span><span class="n">hasNextQueryResult</span><span class="p">():</span>
</span><span id="Connection-142"><a href="#Connection-142"><span class="linenos">142</span></a>            <span class="n">_query_result</span> <span class="o">=</span> <span class="n">_query_result</span><span class="o">.</span><span class="n">getNextQueryResult</span><span class="p">()</span>
</span><span id="Connection-143"><a href="#Connection-143"><span class="linenos">143</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">_query_result</span><span class="o">.</span><span class="n">isSuccess</span><span class="p">():</span>
</span><span id="Connection-144"><a href="#Connection-144"><span class="linenos">144</span></a>                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getErrorMessage</span><span class="p">())</span>
</span><span id="Connection-145"><a href="#Connection-145"><span class="linenos">145</span></a>            <span class="n">all_query_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">QueryResult</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_query_result</span><span class="p">))</span>
</span><span id="Connection-146"><a href="#Connection-146"><span class="linenos">146</span></a>        <span class="k">return</span> <span class="n">all_query_results</span>
</span><span id="Connection-147"><a href="#Connection-147"><span class="linenos">147</span></a>
</span><span id="Connection-148"><a href="#Connection-148"><span class="linenos">148</span></a>    <span class="k">def</span> <span class="nf">prepare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PreparedStatement</span><span class="p">:</span>
</span><span id="Connection-149"><a href="#Connection-149"><span class="linenos">149</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection-150"><a href="#Connection-150"><span class="linenos">150</span></a><span class="sd">        Create a prepared statement for a query.</span>
</span><span id="Connection-151"><a href="#Connection-151"><span class="linenos">151</span></a>
</span><span id="Connection-152"><a href="#Connection-152"><span class="linenos">152</span></a><span class="sd">        Parameters</span>
</span><span id="Connection-153"><a href="#Connection-153"><span class="linenos">153</span></a><span class="sd">        ----------</span>
</span><span id="Connection-154"><a href="#Connection-154"><span class="linenos">154</span></a><span class="sd">        query : str</span>
</span><span id="Connection-155"><a href="#Connection-155"><span class="linenos">155</span></a><span class="sd">            Query to prepare.</span>
</span><span id="Connection-156"><a href="#Connection-156"><span class="linenos">156</span></a>
</span><span id="Connection-157"><a href="#Connection-157"><span class="linenos">157</span></a><span class="sd">        Returns</span>
</span><span id="Connection-158"><a href="#Connection-158"><span class="linenos">158</span></a><span class="sd">        -------</span>
</span><span id="Connection-159"><a href="#Connection-159"><span class="linenos">159</span></a><span class="sd">        PreparedStatement</span>
</span><span id="Connection-160"><a href="#Connection-160"><span class="linenos">160</span></a><span class="sd">            Prepared statement.</span>
</span><span id="Connection-161"><a href="#Connection-161"><span class="linenos">161</span></a>
</span><span id="Connection-162"><a href="#Connection-162"><span class="linenos">162</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection-163"><a href="#Connection-163"><span class="linenos">163</span></a>        <span class="k">return</span> <span class="n">PreparedStatement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>
</span><span id="Connection-164"><a href="#Connection-164"><span class="linenos">164</span></a>
</span><span id="Connection-165"><a href="#Connection-165"><span class="linenos">165</span></a>    <span class="k">def</span> <span class="nf">_get_node_property_names</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="Connection-166"><a href="#Connection-166"><span class="linenos">166</span></a>        <span class="n">LIST_START_SYMBOL</span> <span class="o">=</span> <span class="s2">&quot;[&quot;</span>
</span><span id="Connection-167"><a href="#Connection-167"><span class="linenos">167</span></a>        <span class="n">LIST_END_SYMBOL</span> <span class="o">=</span> <span class="s2">&quot;]&quot;</span>
</span><span id="Connection-168"><a href="#Connection-168"><span class="linenos">168</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">init_connection</span><span class="p">()</span>
</span><span id="Connection-169"><a href="#Connection-169"><span class="linenos">169</span></a>        <span class="n">query_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CALL table_info(&#39;</span><span class="si">{</span><span class="n">table_name</span><span class="si">}</span><span class="s2">&#39;) RETURN *;&quot;</span><span class="p">)</span>
</span><span id="Connection-170"><a href="#Connection-170"><span class="linenos">170</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Connection-171"><a href="#Connection-171"><span class="linenos">171</span></a>        <span class="k">while</span> <span class="n">query_result</span><span class="o">.</span><span class="n">has_next</span><span class="p">():</span>
</span><span id="Connection-172"><a href="#Connection-172"><span class="linenos">172</span></a>            <span class="n">row</span> <span class="o">=</span> <span class="n">query_result</span><span class="o">.</span><span class="n">get_next</span><span class="p">()</span>
</span><span id="Connection-173"><a href="#Connection-173"><span class="linenos">173</span></a>            <span class="n">prop_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Connection-174"><a href="#Connection-174"><span class="linenos">174</span></a>            <span class="n">prop_type</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span id="Connection-175"><a href="#Connection-175"><span class="linenos">175</span></a>            <span class="n">is_primary_key</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">True</span>
</span><span id="Connection-176"><a href="#Connection-176"><span class="linenos">176</span></a>            <span class="n">dimension</span> <span class="o">=</span> <span class="n">prop_type</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">LIST_START_SYMBOL</span><span class="p">)</span>
</span><span id="Connection-177"><a href="#Connection-177"><span class="linenos">177</span></a>            <span class="n">splitted</span> <span class="o">=</span> <span class="n">prop_type</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">LIST_START_SYMBOL</span><span class="p">)</span>
</span><span id="Connection-178"><a href="#Connection-178"><span class="linenos">178</span></a>            <span class="n">shape</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Connection-179"><a href="#Connection-179"><span class="linenos">179</span></a>            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">splitted</span><span class="p">:</span>
</span><span id="Connection-180"><a href="#Connection-180"><span class="linenos">180</span></a>                <span class="k">if</span> <span class="n">LIST_END_SYMBOL</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
</span><span id="Connection-181"><a href="#Connection-181"><span class="linenos">181</span></a>                    <span class="k">continue</span>
</span><span id="Connection-182"><a href="#Connection-182"><span class="linenos">182</span></a>                <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">LIST_END_SYMBOL</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Connection-183"><a href="#Connection-183"><span class="linenos">183</span></a>                <span class="k">if</span> <span class="n">s</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
</span><span id="Connection-184"><a href="#Connection-184"><span class="linenos">184</span></a>                    <span class="n">shape</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
</span><span id="Connection-185"><a href="#Connection-185"><span class="linenos">185</span></a>            <span class="n">prop_type</span> <span class="o">=</span> <span class="n">splitted</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Connection-186"><a href="#Connection-186"><span class="linenos">186</span></a>            <span class="n">results</span><span class="p">[</span><span class="n">prop_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Connection-187"><a href="#Connection-187"><span class="linenos">187</span></a>                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">prop_type</span><span class="p">,</span>
</span><span id="Connection-188"><a href="#Connection-188"><span class="linenos">188</span></a>                <span class="s2">&quot;dimension&quot;</span><span class="p">:</span> <span class="n">dimension</span><span class="p">,</span>
</span><span id="Connection-189"><a href="#Connection-189"><span class="linenos">189</span></a>                <span class="s2">&quot;is_primary_key&quot;</span><span class="p">:</span> <span class="n">is_primary_key</span><span class="p">,</span>
</span><span id="Connection-190"><a href="#Connection-190"><span class="linenos">190</span></a>            <span class="p">}</span>
</span><span id="Connection-191"><a href="#Connection-191"><span class="linenos">191</span></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Connection-192"><a href="#Connection-192"><span class="linenos">192</span></a>                <span class="n">results</span><span class="p">[</span><span class="n">prop_name</span><span class="p">][</span><span class="s2">&quot;shape&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">shape</span><span class="p">)</span>
</span><span id="Connection-193"><a href="#Connection-193"><span class="linenos">193</span></a>        <span class="k">return</span> <span class="n">results</span>
</span><span id="Connection-194"><a href="#Connection-194"><span class="linenos">194</span></a>
</span><span id="Connection-195"><a href="#Connection-195"><span class="linenos">195</span></a>    <span class="k">def</span> <span class="nf">_get_node_table_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="Connection-196"><a href="#Connection-196"><span class="linenos">196</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Connection-197"><a href="#Connection-197"><span class="linenos">197</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">init_connection</span><span class="p">()</span>
</span><span id="Connection-198"><a href="#Connection-198"><span class="linenos">198</span></a>        <span class="n">query_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CALL show_tables() RETURN *;&quot;</span><span class="p">)</span>
</span><span id="Connection-199"><a href="#Connection-199"><span class="linenos">199</span></a>        <span class="k">while</span> <span class="n">query_result</span><span class="o">.</span><span class="n">has_next</span><span class="p">():</span>
</span><span id="Connection-200"><a href="#Connection-200"><span class="linenos">200</span></a>            <span class="n">row</span> <span class="o">=</span> <span class="n">query_result</span><span class="o">.</span><span class="n">get_next</span><span class="p">()</span>
</span><span id="Connection-201"><a href="#Connection-201"><span class="linenos">201</span></a>            <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;NODE&quot;</span><span class="p">:</span>
</span><span id="Connection-202"><a href="#Connection-202"><span class="linenos">202</span></a>                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="Connection-203"><a href="#Connection-203"><span class="linenos">203</span></a>        <span class="k">return</span> <span class="n">results</span>
</span><span id="Connection-204"><a href="#Connection-204"><span class="linenos">204</span></a>
</span><span id="Connection-205"><a href="#Connection-205"><span class="linenos">205</span></a>    <span class="k">def</span> <span class="nf">_get_rel_table_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
</span><span id="Connection-206"><a href="#Connection-206"><span class="linenos">206</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Connection-207"><a href="#Connection-207"><span class="linenos">207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">init_connection</span><span class="p">()</span>
</span><span id="Connection-208"><a href="#Connection-208"><span class="linenos">208</span></a>        <span class="n">tables_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;CALL show_tables() RETURN *;&quot;</span><span class="p">)</span>
</span><span id="Connection-209"><a href="#Connection-209"><span class="linenos">209</span></a>        <span class="k">while</span> <span class="n">tables_result</span><span class="o">.</span><span class="n">has_next</span><span class="p">():</span>
</span><span id="Connection-210"><a href="#Connection-210"><span class="linenos">210</span></a>            <span class="n">row</span> <span class="o">=</span> <span class="n">tables_result</span><span class="o">.</span><span class="n">get_next</span><span class="p">()</span>
</span><span id="Connection-211"><a href="#Connection-211"><span class="linenos">211</span></a>            <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;REL&quot;</span><span class="p">:</span>
</span><span id="Connection-212"><a href="#Connection-212"><span class="linenos">212</span></a>                <span class="n">name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Connection-213"><a href="#Connection-213"><span class="linenos">213</span></a>                <span class="n">connections_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CALL show_connection(</span><span class="si">{</span><span class="n">name</span><span class="si">!r}</span><span class="s2">) RETURN *;&quot;</span><span class="p">)</span>
</span><span id="Connection-214"><a href="#Connection-214"><span class="linenos">214</span></a>                <span class="n">src_dst_row</span> <span class="o">=</span> <span class="n">connections_result</span><span class="o">.</span><span class="n">get_next</span><span class="p">()</span>
</span><span id="Connection-215"><a href="#Connection-215"><span class="linenos">215</span></a>                <span class="n">src_node</span> <span class="o">=</span> <span class="n">src_dst_row</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="Connection-216"><a href="#Connection-216"><span class="linenos">216</span></a>                <span class="n">dst_node</span> <span class="o">=</span> <span class="n">src_dst_row</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span id="Connection-217"><a href="#Connection-217"><span class="linenos">217</span></a>                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span> <span class="s2">&quot;src&quot;</span><span class="p">:</span> <span class="n">src_node</span><span class="p">,</span> <span class="s2">&quot;dst&quot;</span><span class="p">:</span> <span class="n">dst_node</span><span class="p">})</span>
</span><span id="Connection-218"><a href="#Connection-218"><span class="linenos">218</span></a>        <span class="k">return</span> <span class="n">results</span>
</span><span id="Connection-219"><a href="#Connection-219"><span class="linenos">219</span></a>
</span><span id="Connection-220"><a href="#Connection-220"><span class="linenos">220</span></a>    <span class="k">def</span> <span class="nf">set_query_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_in_ms</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection-221"><a href="#Connection-221"><span class="linenos">221</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection-222"><a href="#Connection-222"><span class="linenos">222</span></a><span class="sd">        Set the query timeout value in ms for executing queries.</span>
</span><span id="Connection-223"><a href="#Connection-223"><span class="linenos">223</span></a>
</span><span id="Connection-224"><a href="#Connection-224"><span class="linenos">224</span></a><span class="sd">        Parameters</span>
</span><span id="Connection-225"><a href="#Connection-225"><span class="linenos">225</span></a><span class="sd">        ----------</span>
</span><span id="Connection-226"><a href="#Connection-226"><span class="linenos">226</span></a><span class="sd">        timeout_in_ms : int</span>
</span><span id="Connection-227"><a href="#Connection-227"><span class="linenos">227</span></a><span class="sd">            query timeout value in ms for executing queries.</span>
</span><span id="Connection-228"><a href="#Connection-228"><span class="linenos">228</span></a>
</span><span id="Connection-229"><a href="#Connection-229"><span class="linenos">229</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection-230"><a href="#Connection-230"><span class="linenos">230</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">init_connection</span><span class="p">()</span>
</span><span id="Connection-231"><a href="#Connection-231"><span class="linenos">231</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">set_query_timeout</span><span class="p">(</span><span class="n">timeout_in_ms</span><span class="p">)</span>
</span><span id="Connection-232"><a href="#Connection-232"><span class="linenos">232</span></a>
</span><span id="Connection-233"><a href="#Connection-233"><span class="linenos">233</span></a>    <span class="k">def</span> <span class="nf">create_function</span><span class="p">(</span>
</span><span id="Connection-234"><a href="#Connection-234"><span class="linenos">234</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Connection-235"><a href="#Connection-235"><span class="linenos">235</span></a>        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="Connection-236"><a href="#Connection-236"><span class="linenos">236</span></a>        <span class="n">udf</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="o">...</span><span class="p">],</span> <span class="n">Any</span><span class="p">],</span>
</span><span id="Connection-237"><a href="#Connection-237"><span class="linenos">237</span></a>        <span class="n">params_type</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Type</span> <span class="o">|</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Connection-238"><a href="#Connection-238"><span class="linenos">238</span></a>        <span class="n">return_type</span><span class="p">:</span> <span class="n">Type</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="Connection-239"><a href="#Connection-239"><span class="linenos">239</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="Connection-240"><a href="#Connection-240"><span class="linenos">240</span></a>        <span class="n">default_null_handling</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="Connection-241"><a href="#Connection-241"><span class="linenos">241</span></a>        <span class="n">catch_exceptions</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="Connection-242"><a href="#Connection-242"><span class="linenos">242</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection-243"><a href="#Connection-243"><span class="linenos">243</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection-244"><a href="#Connection-244"><span class="linenos">244</span></a><span class="sd">        Sets a User Defined Function (UDF) to use in cypher queries.</span>
</span><span id="Connection-245"><a href="#Connection-245"><span class="linenos">245</span></a>
</span><span id="Connection-246"><a href="#Connection-246"><span class="linenos">246</span></a><span class="sd">        Parameters</span>
</span><span id="Connection-247"><a href="#Connection-247"><span class="linenos">247</span></a><span class="sd">        ----------</span>
</span><span id="Connection-248"><a href="#Connection-248"><span class="linenos">248</span></a><span class="sd">        name: str</span>
</span><span id="Connection-249"><a href="#Connection-249"><span class="linenos">249</span></a><span class="sd">            name of function</span>
</span><span id="Connection-250"><a href="#Connection-250"><span class="linenos">250</span></a>
</span><span id="Connection-251"><a href="#Connection-251"><span class="linenos">251</span></a><span class="sd">        udf: Callable[[...], Any]</span>
</span><span id="Connection-252"><a href="#Connection-252"><span class="linenos">252</span></a><span class="sd">            function to be executed</span>
</span><span id="Connection-253"><a href="#Connection-253"><span class="linenos">253</span></a>
</span><span id="Connection-254"><a href="#Connection-254"><span class="linenos">254</span></a><span class="sd">        params_type: Optional[list[Type]]</span>
</span><span id="Connection-255"><a href="#Connection-255"><span class="linenos">255</span></a><span class="sd">            list of Type enums to describe the input parameters</span>
</span><span id="Connection-256"><a href="#Connection-256"><span class="linenos">256</span></a>
</span><span id="Connection-257"><a href="#Connection-257"><span class="linenos">257</span></a><span class="sd">        return_type: Optional[Type]</span>
</span><span id="Connection-258"><a href="#Connection-258"><span class="linenos">258</span></a><span class="sd">            a Type enum to describe the returned value</span>
</span><span id="Connection-259"><a href="#Connection-259"><span class="linenos">259</span></a>
</span><span id="Connection-260"><a href="#Connection-260"><span class="linenos">260</span></a><span class="sd">        default_null_handling: Optional[bool]</span>
</span><span id="Connection-261"><a href="#Connection-261"><span class="linenos">261</span></a><span class="sd">            if true, when any parameter is null, the resulting value will be null</span>
</span><span id="Connection-262"><a href="#Connection-262"><span class="linenos">262</span></a>
</span><span id="Connection-263"><a href="#Connection-263"><span class="linenos">263</span></a><span class="sd">        catch_exceptions: Optional[bool]</span>
</span><span id="Connection-264"><a href="#Connection-264"><span class="linenos">264</span></a><span class="sd">            if true, when an exception is thrown from python, the function output will be null</span>
</span><span id="Connection-265"><a href="#Connection-265"><span class="linenos">265</span></a><span class="sd">            Otherwise, the exception will be rethrown</span>
</span><span id="Connection-266"><a href="#Connection-266"><span class="linenos">266</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection-267"><a href="#Connection-267"><span class="linenos">267</span></a>        <span class="k">if</span> <span class="n">params_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection-268"><a href="#Connection-268"><span class="linenos">268</span></a>            <span class="n">params_type</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Connection-269"><a href="#Connection-269"><span class="linenos">269</span></a>        <span class="n">parsed_params_type</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span> <span class="k">else</span> <span class="n">x</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">params_type</span><span class="p">]</span>
</span><span id="Connection-270"><a href="#Connection-270"><span class="linenos">270</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">return_type</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="Connection-271"><a href="#Connection-271"><span class="linenos">271</span></a>            <span class="n">return_type</span> <span class="o">=</span> <span class="n">return_type</span><span class="o">.</span><span class="n">value</span>
</span><span id="Connection-272"><a href="#Connection-272"><span class="linenos">272</span></a>
</span><span id="Connection-273"><a href="#Connection-273"><span class="linenos">273</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">create_function</span><span class="p">(</span>
</span><span id="Connection-274"><a href="#Connection-274"><span class="linenos">274</span></a>            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
</span><span id="Connection-275"><a href="#Connection-275"><span class="linenos">275</span></a>            <span class="n">udf</span><span class="o">=</span><span class="n">udf</span><span class="p">,</span>
</span><span id="Connection-276"><a href="#Connection-276"><span class="linenos">276</span></a>            <span class="n">params_type</span><span class="o">=</span><span class="n">parsed_params_type</span><span class="p">,</span>
</span><span id="Connection-277"><a href="#Connection-277"><span class="linenos">277</span></a>            <span class="n">return_value</span><span class="o">=</span><span class="n">return_type</span><span class="p">,</span>
</span><span id="Connection-278"><a href="#Connection-278"><span class="linenos">278</span></a>            <span class="n">default_null</span><span class="o">=</span><span class="n">default_null_handling</span><span class="p">,</span>
</span><span id="Connection-279"><a href="#Connection-279"><span class="linenos">279</span></a>            <span class="n">catch_exceptions</span><span class="o">=</span><span class="n">catch_exceptions</span><span class="p">,</span>
</span><span id="Connection-280"><a href="#Connection-280"><span class="linenos">280</span></a>        <span class="p">)</span>
</span><span id="Connection-281"><a href="#Connection-281"><span class="linenos">281</span></a>
</span><span id="Connection-282"><a href="#Connection-282"><span class="linenos">282</span></a>    <span class="k">def</span> <span class="nf">remove_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection-283"><a href="#Connection-283"><span class="linenos">283</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection-284"><a href="#Connection-284"><span class="linenos">284</span></a><span class="sd">        Removes a User Defined Function (UDF).</span>
</span><span id="Connection-285"><a href="#Connection-285"><span class="linenos">285</span></a>
</span><span id="Connection-286"><a href="#Connection-286"><span class="linenos">286</span></a><span class="sd">        Parameters</span>
</span><span id="Connection-287"><a href="#Connection-287"><span class="linenos">287</span></a><span class="sd">        ----------</span>
</span><span id="Connection-288"><a href="#Connection-288"><span class="linenos">288</span></a><span class="sd">        name: str</span>
</span><span id="Connection-289"><a href="#Connection-289"><span class="linenos">289</span></a><span class="sd">            name of function to be removed.</span>
</span><span id="Connection-290"><a href="#Connection-290"><span class="linenos">290</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection-291"><a href="#Connection-291"><span class="linenos">291</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">remove_function</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Connection to a database.</p>
</div>


                            <div id="Connection.__init__" class="classattr">
                                        <input id="Connection.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Connection</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">database</span><span class="p">:</span> <span class="n"><a href="#Database">Database</a></span>, </span><span class="param"><span class="n">num_threads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span></span>)</span>

                <label class="view-source-button" for="Connection.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Connection.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Connection.__init__-26"><a href="#Connection.__init__-26"><span class="linenos">26</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database</span><span class="p">:</span> <span class="n">Database</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
</span><span id="Connection.__init__-27"><a href="#Connection.__init__-27"><span class="linenos">27</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection.__init__-28"><a href="#Connection.__init__-28"><span class="linenos">28</span></a><span class="sd">        Initialise kuzu database connection.</span>
</span><span id="Connection.__init__-29"><a href="#Connection.__init__-29"><span class="linenos">29</span></a>
</span><span id="Connection.__init__-30"><a href="#Connection.__init__-30"><span class="linenos">30</span></a><span class="sd">        Parameters</span>
</span><span id="Connection.__init__-31"><a href="#Connection.__init__-31"><span class="linenos">31</span></a><span class="sd">        ----------</span>
</span><span id="Connection.__init__-32"><a href="#Connection.__init__-32"><span class="linenos">32</span></a><span class="sd">        database : Database</span>
</span><span id="Connection.__init__-33"><a href="#Connection.__init__-33"><span class="linenos">33</span></a><span class="sd">            Database to connect to.</span>
</span><span id="Connection.__init__-34"><a href="#Connection.__init__-34"><span class="linenos">34</span></a>
</span><span id="Connection.__init__-35"><a href="#Connection.__init__-35"><span class="linenos">35</span></a><span class="sd">        num_threads : int</span>
</span><span id="Connection.__init__-36"><a href="#Connection.__init__-36"><span class="linenos">36</span></a><span class="sd">            Maximum number of threads to use for executing queries.</span>
</span><span id="Connection.__init__-37"><a href="#Connection.__init__-37"><span class="linenos">37</span></a>
</span><span id="Connection.__init__-38"><a href="#Connection.__init__-38"><span class="linenos">38</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection.__init__-39"><a href="#Connection.__init__-39"><span class="linenos">39</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># (type: _kuzu.Connection from pybind11)</span>
</span><span id="Connection.__init__-40"><a href="#Connection.__init__-40"><span class="linenos">40</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="o">=</span> <span class="n">database</span>
</span><span id="Connection.__init__-41"><a href="#Connection.__init__-41"><span class="linenos">41</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">num_threads</span> <span class="o">=</span> <span class="n">num_threads</span>
</span><span id="Connection.__init__-42"><a href="#Connection.__init__-42"><span class="linenos">42</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Connection.__init__-43"><a href="#Connection.__init__-43"><span class="linenos">43</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">init_connection</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Initialise kuzu database connection.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>database</strong> (Database):
Database to connect to.</li>
<li><strong>num_threads</strong> (int):
Maximum number of threads to use for executing queries.</li>
</ul>
</div>


                            </div>
                            <div id="Connection.database" class="classattr">
                                <div class="attr variable">
            <span class="name">database</span>

        
    </div>
    <a class="headerlink" href="#Connection.database"></a>
    
    

                            </div>
                            <div id="Connection.num_threads" class="classattr">
                                <div class="attr variable">
            <span class="name">num_threads</span>

        
    </div>
    <a class="headerlink" href="#Connection.num_threads"></a>
    
    

                            </div>
                            <div id="Connection.is_closed" class="classattr">
                                <div class="attr variable">
            <span class="name">is_closed</span>

        
    </div>
    <a class="headerlink" href="#Connection.is_closed"></a>
    
    

                            </div>
                            <div id="Connection.init_connection" class="classattr">
                                        <input id="Connection.init_connection-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">init_connection</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Connection.init_connection-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Connection.init_connection"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Connection.init_connection-53"><a href="#Connection.init_connection-53"><span class="linenos">53</span></a>    <span class="k">def</span> <span class="nf">init_connection</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection.init_connection-54"><a href="#Connection.init_connection-54"><span class="linenos">54</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Establish a connection to the database, if not already initalised.&quot;&quot;&quot;</span>
</span><span id="Connection.init_connection-55"><a href="#Connection.init_connection-55"><span class="linenos">55</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span><span class="p">:</span>
</span><span id="Connection.init_connection-56"><a href="#Connection.init_connection-56"><span class="linenos">56</span></a>            <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;Connection is closed.&quot;</span>
</span><span id="Connection.init_connection-57"><a href="#Connection.init_connection-57"><span class="linenos">57</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">error_msg</span><span class="p">)</span>
</span><span id="Connection.init_connection-58"><a href="#Connection.init_connection-58"><span class="linenos">58</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">init_database</span><span class="p">()</span>
</span><span id="Connection.init_connection-59"><a href="#Connection.init_connection-59"><span class="linenos">59</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection.init_connection-60"><a href="#Connection.init_connection-60"><span class="linenos">60</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span> <span class="o">=</span> <span class="n">_kuzu</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">_database</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_threads</span><span class="p">)</span>  <span class="c1"># type: ignore[union-attr]</span>
</span></pre></div>


            <div class="docstring"><p>Establish a connection to the database, if not already initalised.</p>
</div>


                            </div>
                            <div id="Connection.set_max_threads_for_exec" class="classattr">
                                        <input id="Connection.set_max_threads_for_exec-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_max_threads_for_exec</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">num_threads</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Connection.set_max_threads_for_exec-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Connection.set_max_threads_for_exec"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Connection.set_max_threads_for_exec-62"><a href="#Connection.set_max_threads_for_exec-62"><span class="linenos">62</span></a>    <span class="k">def</span> <span class="nf">set_max_threads_for_exec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection.set_max_threads_for_exec-63"><a href="#Connection.set_max_threads_for_exec-63"><span class="linenos">63</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection.set_max_threads_for_exec-64"><a href="#Connection.set_max_threads_for_exec-64"><span class="linenos">64</span></a><span class="sd">        Set the maximum number of threads for executing queries.</span>
</span><span id="Connection.set_max_threads_for_exec-65"><a href="#Connection.set_max_threads_for_exec-65"><span class="linenos">65</span></a>
</span><span id="Connection.set_max_threads_for_exec-66"><a href="#Connection.set_max_threads_for_exec-66"><span class="linenos">66</span></a><span class="sd">        Parameters</span>
</span><span id="Connection.set_max_threads_for_exec-67"><a href="#Connection.set_max_threads_for_exec-67"><span class="linenos">67</span></a><span class="sd">        ----------</span>
</span><span id="Connection.set_max_threads_for_exec-68"><a href="#Connection.set_max_threads_for_exec-68"><span class="linenos">68</span></a><span class="sd">        num_threads : int</span>
</span><span id="Connection.set_max_threads_for_exec-69"><a href="#Connection.set_max_threads_for_exec-69"><span class="linenos">69</span></a><span class="sd">            Maximum number of threads to use for executing queries.</span>
</span><span id="Connection.set_max_threads_for_exec-70"><a href="#Connection.set_max_threads_for_exec-70"><span class="linenos">70</span></a>
</span><span id="Connection.set_max_threads_for_exec-71"><a href="#Connection.set_max_threads_for_exec-71"><span class="linenos">71</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection.set_max_threads_for_exec-72"><a href="#Connection.set_max_threads_for_exec-72"><span class="linenos">72</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">init_connection</span><span class="p">()</span>
</span><span id="Connection.set_max_threads_for_exec-73"><a href="#Connection.set_max_threads_for_exec-73"><span class="linenos">73</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">set_max_threads_for_exec</span><span class="p">(</span><span class="n">num_threads</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the maximum number of threads for executing queries.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>num_threads</strong> (int):
Maximum number of threads to use for executing queries.</li>
</ul>
</div>


                            </div>
                            <div id="Connection.close" class="classattr">
                                        <input id="Connection.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Connection.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Connection.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Connection.close-75"><a href="#Connection.close-75"><span class="linenos">75</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection.close-76"><a href="#Connection.close-76"><span class="linenos">76</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection.close-77"><a href="#Connection.close-77"><span class="linenos">77</span></a><span class="sd">        Close the connection.</span>
</span><span id="Connection.close-78"><a href="#Connection.close-78"><span class="linenos">78</span></a>
</span><span id="Connection.close-79"><a href="#Connection.close-79"><span class="linenos">79</span></a><span class="sd">        Note: Call to this method is optional. The connection will be closed</span>
</span><span id="Connection.close-80"><a href="#Connection.close-80"><span class="linenos">80</span></a><span class="sd">        automatically when the object goes out of scope.</span>
</span><span id="Connection.close-81"><a href="#Connection.close-81"><span class="linenos">81</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection.close-82"><a href="#Connection.close-82"><span class="linenos">82</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection.close-83"><a href="#Connection.close-83"><span class="linenos">83</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="Connection.close-84"><a href="#Connection.close-84"><span class="linenos">84</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Connection.close-85"><a href="#Connection.close-85"><span class="linenos">85</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Close the connection.</p>

<p>Note: Call to this method is optional. The connection will be closed
automatically when the object goes out of scope.</p>
</div>


                            </div>
                            <div id="Connection.execute" class="classattr">
                                        <input id="Connection.execute-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">execute</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">query</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n"><a href="#PreparedStatement">PreparedStatement</a></span>,</span><span class="param">	<span class="n">parameters</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="#QueryResult">QueryResult</a></span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n"><a href="#QueryResult">QueryResult</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Connection.execute-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Connection.execute"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Connection.execute-98"><a href="#Connection.execute-98"><span class="linenos"> 98</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span>
</span><span id="Connection.execute-99"><a href="#Connection.execute-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Connection.execute-100"><a href="#Connection.execute-100"><span class="linenos">100</span></a>        <span class="n">query</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">PreparedStatement</span><span class="p">,</span>
</span><span id="Connection.execute-101"><a href="#Connection.execute-101"><span class="linenos">101</span></a>        <span class="n">parameters</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Connection.execute-102"><a href="#Connection.execute-102"><span class="linenos">102</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QueryResult</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="n">QueryResult</span><span class="p">]:</span>
</span><span id="Connection.execute-103"><a href="#Connection.execute-103"><span class="linenos">103</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection.execute-104"><a href="#Connection.execute-104"><span class="linenos">104</span></a><span class="sd">        Execute a query.</span>
</span><span id="Connection.execute-105"><a href="#Connection.execute-105"><span class="linenos">105</span></a>
</span><span id="Connection.execute-106"><a href="#Connection.execute-106"><span class="linenos">106</span></a><span class="sd">        Parameters</span>
</span><span id="Connection.execute-107"><a href="#Connection.execute-107"><span class="linenos">107</span></a><span class="sd">        ----------</span>
</span><span id="Connection.execute-108"><a href="#Connection.execute-108"><span class="linenos">108</span></a><span class="sd">        query : str | PreparedStatement</span>
</span><span id="Connection.execute-109"><a href="#Connection.execute-109"><span class="linenos">109</span></a><span class="sd">            A prepared statement or a query string.</span>
</span><span id="Connection.execute-110"><a href="#Connection.execute-110"><span class="linenos">110</span></a><span class="sd">            If a query string is given, a prepared statement will be created</span>
</span><span id="Connection.execute-111"><a href="#Connection.execute-111"><span class="linenos">111</span></a><span class="sd">            automatically.</span>
</span><span id="Connection.execute-112"><a href="#Connection.execute-112"><span class="linenos">112</span></a>
</span><span id="Connection.execute-113"><a href="#Connection.execute-113"><span class="linenos">113</span></a><span class="sd">        parameters : dict[str, Any]</span>
</span><span id="Connection.execute-114"><a href="#Connection.execute-114"><span class="linenos">114</span></a><span class="sd">            Parameters for the query.</span>
</span><span id="Connection.execute-115"><a href="#Connection.execute-115"><span class="linenos">115</span></a>
</span><span id="Connection.execute-116"><a href="#Connection.execute-116"><span class="linenos">116</span></a><span class="sd">        Returns</span>
</span><span id="Connection.execute-117"><a href="#Connection.execute-117"><span class="linenos">117</span></a><span class="sd">        -------</span>
</span><span id="Connection.execute-118"><a href="#Connection.execute-118"><span class="linenos">118</span></a><span class="sd">        QueryResult</span>
</span><span id="Connection.execute-119"><a href="#Connection.execute-119"><span class="linenos">119</span></a><span class="sd">            Query result.</span>
</span><span id="Connection.execute-120"><a href="#Connection.execute-120"><span class="linenos">120</span></a>
</span><span id="Connection.execute-121"><a href="#Connection.execute-121"><span class="linenos">121</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection.execute-122"><a href="#Connection.execute-122"><span class="linenos">122</span></a>        <span class="k">if</span> <span class="n">parameters</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection.execute-123"><a href="#Connection.execute-123"><span class="linenos">123</span></a>            <span class="n">parameters</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Connection.execute-124"><a href="#Connection.execute-124"><span class="linenos">124</span></a>
</span><span id="Connection.execute-125"><a href="#Connection.execute-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">init_connection</span><span class="p">()</span>
</span><span id="Connection.execute-126"><a href="#Connection.execute-126"><span class="linenos">126</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="Connection.execute-127"><a href="#Connection.execute-127"><span class="linenos">127</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Parameters must be a dict; found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
</span><span id="Connection.execute-128"><a href="#Connection.execute-128"><span class="linenos">128</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  <span class="c1"># noqa: TRY004</span>
</span><span id="Connection.execute-129"><a href="#Connection.execute-129"><span class="linenos">129</span></a>
</span><span id="Connection.execute-130"><a href="#Connection.execute-130"><span class="linenos">130</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="Connection.execute-131"><a href="#Connection.execute-131"><span class="linenos">131</span></a>            <span class="n">_query_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="Connection.execute-132"><a href="#Connection.execute-132"><span class="linenos">132</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Connection.execute-133"><a href="#Connection.execute-133"><span class="linenos">133</span></a>            <span class="n">prepared_statement</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="n">query</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="n">query</span>
</span><span id="Connection.execute-134"><a href="#Connection.execute-134"><span class="linenos">134</span></a>            <span class="n">_query_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">prepared_statement</span><span class="o">.</span><span class="n">_prepared_statement</span><span class="p">,</span> <span class="n">parameters</span><span class="p">)</span>
</span><span id="Connection.execute-135"><a href="#Connection.execute-135"><span class="linenos">135</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">_query_result</span><span class="o">.</span><span class="n">isSuccess</span><span class="p">():</span>
</span><span id="Connection.execute-136"><a href="#Connection.execute-136"><span class="linenos">136</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getErrorMessage</span><span class="p">())</span>
</span><span id="Connection.execute-137"><a href="#Connection.execute-137"><span class="linenos">137</span></a>        <span class="n">current_query_result</span> <span class="o">=</span> <span class="n">QueryResult</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_query_result</span><span class="p">)</span>
</span><span id="Connection.execute-138"><a href="#Connection.execute-138"><span class="linenos">138</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">_query_result</span><span class="o">.</span><span class="n">hasNextQueryResult</span><span class="p">():</span>
</span><span id="Connection.execute-139"><a href="#Connection.execute-139"><span class="linenos">139</span></a>            <span class="k">return</span> <span class="n">current_query_result</span>
</span><span id="Connection.execute-140"><a href="#Connection.execute-140"><span class="linenos">140</span></a>        <span class="n">all_query_results</span> <span class="o">=</span> <span class="p">[</span><span class="n">current_query_result</span><span class="p">]</span>
</span><span id="Connection.execute-141"><a href="#Connection.execute-141"><span class="linenos">141</span></a>        <span class="k">while</span> <span class="n">_query_result</span><span class="o">.</span><span class="n">hasNextQueryResult</span><span class="p">():</span>
</span><span id="Connection.execute-142"><a href="#Connection.execute-142"><span class="linenos">142</span></a>            <span class="n">_query_result</span> <span class="o">=</span> <span class="n">_query_result</span><span class="o">.</span><span class="n">getNextQueryResult</span><span class="p">()</span>
</span><span id="Connection.execute-143"><a href="#Connection.execute-143"><span class="linenos">143</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">_query_result</span><span class="o">.</span><span class="n">isSuccess</span><span class="p">():</span>
</span><span id="Connection.execute-144"><a href="#Connection.execute-144"><span class="linenos">144</span></a>                <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getErrorMessage</span><span class="p">())</span>
</span><span id="Connection.execute-145"><a href="#Connection.execute-145"><span class="linenos">145</span></a>            <span class="n">all_query_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">QueryResult</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_query_result</span><span class="p">))</span>
</span><span id="Connection.execute-146"><a href="#Connection.execute-146"><span class="linenos">146</span></a>        <span class="k">return</span> <span class="n">all_query_results</span>
</span></pre></div>


            <div class="docstring"><p>Execute a query.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>query</strong> (str | PreparedStatement):
A prepared statement or a query string.
If a query string is given, a prepared statement will be created
automatically.</li>
<li><strong>parameters</strong> (dict[str, Any]):
Parameters for the query.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>QueryResult</strong>: Query result.</li>
</ul>
</div>


                            </div>
                            <div id="Connection.prepare" class="classattr">
                                        <input id="Connection.prepare-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">prepare</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">query</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n"><a href="#PreparedStatement">PreparedStatement</a></span>:</span></span>

                <label class="view-source-button" for="Connection.prepare-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Connection.prepare"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Connection.prepare-148"><a href="#Connection.prepare-148"><span class="linenos">148</span></a>    <span class="k">def</span> <span class="nf">prepare</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PreparedStatement</span><span class="p">:</span>
</span><span id="Connection.prepare-149"><a href="#Connection.prepare-149"><span class="linenos">149</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection.prepare-150"><a href="#Connection.prepare-150"><span class="linenos">150</span></a><span class="sd">        Create a prepared statement for a query.</span>
</span><span id="Connection.prepare-151"><a href="#Connection.prepare-151"><span class="linenos">151</span></a>
</span><span id="Connection.prepare-152"><a href="#Connection.prepare-152"><span class="linenos">152</span></a><span class="sd">        Parameters</span>
</span><span id="Connection.prepare-153"><a href="#Connection.prepare-153"><span class="linenos">153</span></a><span class="sd">        ----------</span>
</span><span id="Connection.prepare-154"><a href="#Connection.prepare-154"><span class="linenos">154</span></a><span class="sd">        query : str</span>
</span><span id="Connection.prepare-155"><a href="#Connection.prepare-155"><span class="linenos">155</span></a><span class="sd">            Query to prepare.</span>
</span><span id="Connection.prepare-156"><a href="#Connection.prepare-156"><span class="linenos">156</span></a>
</span><span id="Connection.prepare-157"><a href="#Connection.prepare-157"><span class="linenos">157</span></a><span class="sd">        Returns</span>
</span><span id="Connection.prepare-158"><a href="#Connection.prepare-158"><span class="linenos">158</span></a><span class="sd">        -------</span>
</span><span id="Connection.prepare-159"><a href="#Connection.prepare-159"><span class="linenos">159</span></a><span class="sd">        PreparedStatement</span>
</span><span id="Connection.prepare-160"><a href="#Connection.prepare-160"><span class="linenos">160</span></a><span class="sd">            Prepared statement.</span>
</span><span id="Connection.prepare-161"><a href="#Connection.prepare-161"><span class="linenos">161</span></a>
</span><span id="Connection.prepare-162"><a href="#Connection.prepare-162"><span class="linenos">162</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection.prepare-163"><a href="#Connection.prepare-163"><span class="linenos">163</span></a>        <span class="k">return</span> <span class="n">PreparedStatement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Create a prepared statement for a query.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>query</strong> (str):
Query to prepare.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>PreparedStatement</strong>: Prepared statement.</li>
</ul>
</div>


                            </div>
                            <div id="Connection.set_query_timeout" class="classattr">
                                        <input id="Connection.set_query_timeout-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_query_timeout</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">timeout_in_ms</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Connection.set_query_timeout-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Connection.set_query_timeout"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Connection.set_query_timeout-220"><a href="#Connection.set_query_timeout-220"><span class="linenos">220</span></a>    <span class="k">def</span> <span class="nf">set_query_timeout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_in_ms</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection.set_query_timeout-221"><a href="#Connection.set_query_timeout-221"><span class="linenos">221</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection.set_query_timeout-222"><a href="#Connection.set_query_timeout-222"><span class="linenos">222</span></a><span class="sd">        Set the query timeout value in ms for executing queries.</span>
</span><span id="Connection.set_query_timeout-223"><a href="#Connection.set_query_timeout-223"><span class="linenos">223</span></a>
</span><span id="Connection.set_query_timeout-224"><a href="#Connection.set_query_timeout-224"><span class="linenos">224</span></a><span class="sd">        Parameters</span>
</span><span id="Connection.set_query_timeout-225"><a href="#Connection.set_query_timeout-225"><span class="linenos">225</span></a><span class="sd">        ----------</span>
</span><span id="Connection.set_query_timeout-226"><a href="#Connection.set_query_timeout-226"><span class="linenos">226</span></a><span class="sd">        timeout_in_ms : int</span>
</span><span id="Connection.set_query_timeout-227"><a href="#Connection.set_query_timeout-227"><span class="linenos">227</span></a><span class="sd">            query timeout value in ms for executing queries.</span>
</span><span id="Connection.set_query_timeout-228"><a href="#Connection.set_query_timeout-228"><span class="linenos">228</span></a>
</span><span id="Connection.set_query_timeout-229"><a href="#Connection.set_query_timeout-229"><span class="linenos">229</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection.set_query_timeout-230"><a href="#Connection.set_query_timeout-230"><span class="linenos">230</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">init_connection</span><span class="p">()</span>
</span><span id="Connection.set_query_timeout-231"><a href="#Connection.set_query_timeout-231"><span class="linenos">231</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">set_query_timeout</span><span class="p">(</span><span class="n">timeout_in_ms</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Set the query timeout value in ms for executing queries.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>timeout_in_ms</strong> (int):
query timeout value in ms for executing queries.</li>
</ul>
</div>


                            </div>
                            <div id="Connection.create_function" class="classattr">
                                        <input id="Connection.create_function-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">create_function</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">name</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">udf</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>,</span><span class="param">	<span class="n">params_type</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n"><a href="#Type">Type</a></span> <span class="o">|</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">return_type</span><span class="p">:</span> <span class="n"><a href="#Type">Type</a></span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">default_null_handling</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">catch_exceptions</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Connection.create_function-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Connection.create_function"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Connection.create_function-233"><a href="#Connection.create_function-233"><span class="linenos">233</span></a>    <span class="k">def</span> <span class="nf">create_function</span><span class="p">(</span>
</span><span id="Connection.create_function-234"><a href="#Connection.create_function-234"><span class="linenos">234</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Connection.create_function-235"><a href="#Connection.create_function-235"><span class="linenos">235</span></a>        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="Connection.create_function-236"><a href="#Connection.create_function-236"><span class="linenos">236</span></a>        <span class="n">udf</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="o">...</span><span class="p">],</span> <span class="n">Any</span><span class="p">],</span>
</span><span id="Connection.create_function-237"><a href="#Connection.create_function-237"><span class="linenos">237</span></a>        <span class="n">params_type</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Type</span> <span class="o">|</span> <span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Connection.create_function-238"><a href="#Connection.create_function-238"><span class="linenos">238</span></a>        <span class="n">return_type</span><span class="p">:</span> <span class="n">Type</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
</span><span id="Connection.create_function-239"><a href="#Connection.create_function-239"><span class="linenos">239</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="Connection.create_function-240"><a href="#Connection.create_function-240"><span class="linenos">240</span></a>        <span class="n">default_null_handling</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="Connection.create_function-241"><a href="#Connection.create_function-241"><span class="linenos">241</span></a>        <span class="n">catch_exceptions</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="Connection.create_function-242"><a href="#Connection.create_function-242"><span class="linenos">242</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection.create_function-243"><a href="#Connection.create_function-243"><span class="linenos">243</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection.create_function-244"><a href="#Connection.create_function-244"><span class="linenos">244</span></a><span class="sd">        Sets a User Defined Function (UDF) to use in cypher queries.</span>
</span><span id="Connection.create_function-245"><a href="#Connection.create_function-245"><span class="linenos">245</span></a>
</span><span id="Connection.create_function-246"><a href="#Connection.create_function-246"><span class="linenos">246</span></a><span class="sd">        Parameters</span>
</span><span id="Connection.create_function-247"><a href="#Connection.create_function-247"><span class="linenos">247</span></a><span class="sd">        ----------</span>
</span><span id="Connection.create_function-248"><a href="#Connection.create_function-248"><span class="linenos">248</span></a><span class="sd">        name: str</span>
</span><span id="Connection.create_function-249"><a href="#Connection.create_function-249"><span class="linenos">249</span></a><span class="sd">            name of function</span>
</span><span id="Connection.create_function-250"><a href="#Connection.create_function-250"><span class="linenos">250</span></a>
</span><span id="Connection.create_function-251"><a href="#Connection.create_function-251"><span class="linenos">251</span></a><span class="sd">        udf: Callable[[...], Any]</span>
</span><span id="Connection.create_function-252"><a href="#Connection.create_function-252"><span class="linenos">252</span></a><span class="sd">            function to be executed</span>
</span><span id="Connection.create_function-253"><a href="#Connection.create_function-253"><span class="linenos">253</span></a>
</span><span id="Connection.create_function-254"><a href="#Connection.create_function-254"><span class="linenos">254</span></a><span class="sd">        params_type: Optional[list[Type]]</span>
</span><span id="Connection.create_function-255"><a href="#Connection.create_function-255"><span class="linenos">255</span></a><span class="sd">            list of Type enums to describe the input parameters</span>
</span><span id="Connection.create_function-256"><a href="#Connection.create_function-256"><span class="linenos">256</span></a>
</span><span id="Connection.create_function-257"><a href="#Connection.create_function-257"><span class="linenos">257</span></a><span class="sd">        return_type: Optional[Type]</span>
</span><span id="Connection.create_function-258"><a href="#Connection.create_function-258"><span class="linenos">258</span></a><span class="sd">            a Type enum to describe the returned value</span>
</span><span id="Connection.create_function-259"><a href="#Connection.create_function-259"><span class="linenos">259</span></a>
</span><span id="Connection.create_function-260"><a href="#Connection.create_function-260"><span class="linenos">260</span></a><span class="sd">        default_null_handling: Optional[bool]</span>
</span><span id="Connection.create_function-261"><a href="#Connection.create_function-261"><span class="linenos">261</span></a><span class="sd">            if true, when any parameter is null, the resulting value will be null</span>
</span><span id="Connection.create_function-262"><a href="#Connection.create_function-262"><span class="linenos">262</span></a>
</span><span id="Connection.create_function-263"><a href="#Connection.create_function-263"><span class="linenos">263</span></a><span class="sd">        catch_exceptions: Optional[bool]</span>
</span><span id="Connection.create_function-264"><a href="#Connection.create_function-264"><span class="linenos">264</span></a><span class="sd">            if true, when an exception is thrown from python, the function output will be null</span>
</span><span id="Connection.create_function-265"><a href="#Connection.create_function-265"><span class="linenos">265</span></a><span class="sd">            Otherwise, the exception will be rethrown</span>
</span><span id="Connection.create_function-266"><a href="#Connection.create_function-266"><span class="linenos">266</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection.create_function-267"><a href="#Connection.create_function-267"><span class="linenos">267</span></a>        <span class="k">if</span> <span class="n">params_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection.create_function-268"><a href="#Connection.create_function-268"><span class="linenos">268</span></a>            <span class="n">params_type</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Connection.create_function-269"><a href="#Connection.create_function-269"><span class="linenos">269</span></a>        <span class="n">parsed_params_type</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">str</span> <span class="k">else</span> <span class="n">x</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">params_type</span><span class="p">]</span>
</span><span id="Connection.create_function-270"><a href="#Connection.create_function-270"><span class="linenos">270</span></a>        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">return_type</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="Connection.create_function-271"><a href="#Connection.create_function-271"><span class="linenos">271</span></a>            <span class="n">return_type</span> <span class="o">=</span> <span class="n">return_type</span><span class="o">.</span><span class="n">value</span>
</span><span id="Connection.create_function-272"><a href="#Connection.create_function-272"><span class="linenos">272</span></a>
</span><span id="Connection.create_function-273"><a href="#Connection.create_function-273"><span class="linenos">273</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">create_function</span><span class="p">(</span>
</span><span id="Connection.create_function-274"><a href="#Connection.create_function-274"><span class="linenos">274</span></a>            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
</span><span id="Connection.create_function-275"><a href="#Connection.create_function-275"><span class="linenos">275</span></a>            <span class="n">udf</span><span class="o">=</span><span class="n">udf</span><span class="p">,</span>
</span><span id="Connection.create_function-276"><a href="#Connection.create_function-276"><span class="linenos">276</span></a>            <span class="n">params_type</span><span class="o">=</span><span class="n">parsed_params_type</span><span class="p">,</span>
</span><span id="Connection.create_function-277"><a href="#Connection.create_function-277"><span class="linenos">277</span></a>            <span class="n">return_value</span><span class="o">=</span><span class="n">return_type</span><span class="p">,</span>
</span><span id="Connection.create_function-278"><a href="#Connection.create_function-278"><span class="linenos">278</span></a>            <span class="n">default_null</span><span class="o">=</span><span class="n">default_null_handling</span><span class="p">,</span>
</span><span id="Connection.create_function-279"><a href="#Connection.create_function-279"><span class="linenos">279</span></a>            <span class="n">catch_exceptions</span><span class="o">=</span><span class="n">catch_exceptions</span><span class="p">,</span>
</span><span id="Connection.create_function-280"><a href="#Connection.create_function-280"><span class="linenos">280</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Sets a User Defined Function (UDF) to use in cypher queries.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
name of function</li>
<li><strong>udf</strong> (Callable[[...], Any]):
function to be executed</li>
<li><strong>params_type</strong> (Optional[list[Type]]):
list of Type enums to describe the input parameters</li>
<li><strong>return_type</strong> (Optional[Type]):
a Type enum to describe the returned value</li>
<li><strong>default_null_handling</strong> (Optional[bool]):
if true, when any parameter is null, the resulting value will be null</li>
<li><strong>catch_exceptions</strong> (Optional[bool]):
if true, when an exception is thrown from python, the function output will be null
Otherwise, the exception will be rethrown</li>
</ul>
</div>


                            </div>
                            <div id="Connection.remove_function" class="classattr">
                                        <input id="Connection.remove_function-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">remove_function</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Connection.remove_function-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Connection.remove_function"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Connection.remove_function-282"><a href="#Connection.remove_function-282"><span class="linenos">282</span></a>    <span class="k">def</span> <span class="nf">remove_function</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Connection.remove_function-283"><a href="#Connection.remove_function-283"><span class="linenos">283</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Connection.remove_function-284"><a href="#Connection.remove_function-284"><span class="linenos">284</span></a><span class="sd">        Removes a User Defined Function (UDF).</span>
</span><span id="Connection.remove_function-285"><a href="#Connection.remove_function-285"><span class="linenos">285</span></a>
</span><span id="Connection.remove_function-286"><a href="#Connection.remove_function-286"><span class="linenos">286</span></a><span class="sd">        Parameters</span>
</span><span id="Connection.remove_function-287"><a href="#Connection.remove_function-287"><span class="linenos">287</span></a><span class="sd">        ----------</span>
</span><span id="Connection.remove_function-288"><a href="#Connection.remove_function-288"><span class="linenos">288</span></a><span class="sd">        name: str</span>
</span><span id="Connection.remove_function-289"><a href="#Connection.remove_function-289"><span class="linenos">289</span></a><span class="sd">            name of function to be removed.</span>
</span><span id="Connection.remove_function-290"><a href="#Connection.remove_function-290"><span class="linenos">290</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Connection.remove_function-291"><a href="#Connection.remove_function-291"><span class="linenos">291</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">remove_function</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Removes a User Defined Function (UDF).</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>name</strong> (str):
name of function to be removed.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="Database">
                            <input id="Database-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Database</span>:

                <label class="view-source-button" for="Database-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Database"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Database-26"><a href="#Database-26"><span class="linenos"> 26</span></a><span class="k">class</span> <span class="nc">Database</span><span class="p">:</span>
</span><span id="Database-27"><a href="#Database-27"><span class="linenos"> 27</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Kùzu database instance.&quot;&quot;&quot;</span>
</span><span id="Database-28"><a href="#Database-28"><span class="linenos"> 28</span></a>
</span><span id="Database-29"><a href="#Database-29"><span class="linenos"> 29</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="Database-30"><a href="#Database-30"><span class="linenos"> 30</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Database-31"><a href="#Database-31"><span class="linenos"> 31</span></a>        <span class="n">database_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Database-32"><a href="#Database-32"><span class="linenos"> 32</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="Database-33"><a href="#Database-33"><span class="linenos"> 33</span></a>        <span class="n">buffer_pool_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Database-34"><a href="#Database-34"><span class="linenos"> 34</span></a>        <span class="n">max_num_threads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Database-35"><a href="#Database-35"><span class="linenos"> 35</span></a>        <span class="n">compression</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="Database-36"><a href="#Database-36"><span class="linenos"> 36</span></a>        <span class="n">lazy_init</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="Database-37"><a href="#Database-37"><span class="linenos"> 37</span></a>        <span class="n">read_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="Database-38"><a href="#Database-38"><span class="linenos"> 38</span></a>        <span class="n">max_db_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">43</span><span class="p">),</span>
</span><span id="Database-39"><a href="#Database-39"><span class="linenos"> 39</span></a>    <span class="p">):</span>
</span><span id="Database-40"><a href="#Database-40"><span class="linenos"> 40</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Database-41"><a href="#Database-41"><span class="linenos"> 41</span></a><span class="sd">        Parameters</span>
</span><span id="Database-42"><a href="#Database-42"><span class="linenos"> 42</span></a><span class="sd">        ----------</span>
</span><span id="Database-43"><a href="#Database-43"><span class="linenos"> 43</span></a><span class="sd">        database_path : str, Path</span>
</span><span id="Database-44"><a href="#Database-44"><span class="linenos"> 44</span></a><span class="sd">            The path to database files. If the path is not specified, or empty, or equal to `:memory:`, the database</span>
</span><span id="Database-45"><a href="#Database-45"><span class="linenos"> 45</span></a><span class="sd">            will be created in memory.</span>
</span><span id="Database-46"><a href="#Database-46"><span class="linenos"> 46</span></a>
</span><span id="Database-47"><a href="#Database-47"><span class="linenos"> 47</span></a><span class="sd">        buffer_pool_size : int</span>
</span><span id="Database-48"><a href="#Database-48"><span class="linenos"> 48</span></a><span class="sd">            The maximum size of buffer pool in bytes. Defaults to ~80% of system memory.</span>
</span><span id="Database-49"><a href="#Database-49"><span class="linenos"> 49</span></a>
</span><span id="Database-50"><a href="#Database-50"><span class="linenos"> 50</span></a><span class="sd">        max_num_threads : int</span>
</span><span id="Database-51"><a href="#Database-51"><span class="linenos"> 51</span></a><span class="sd">            The maximum number of threads to use for executing queries.</span>
</span><span id="Database-52"><a href="#Database-52"><span class="linenos"> 52</span></a>
</span><span id="Database-53"><a href="#Database-53"><span class="linenos"> 53</span></a><span class="sd">        compression : bool</span>
</span><span id="Database-54"><a href="#Database-54"><span class="linenos"> 54</span></a><span class="sd">            Enable database compression.</span>
</span><span id="Database-55"><a href="#Database-55"><span class="linenos"> 55</span></a>
</span><span id="Database-56"><a href="#Database-56"><span class="linenos"> 56</span></a><span class="sd">        lazy_init : bool</span>
</span><span id="Database-57"><a href="#Database-57"><span class="linenos"> 57</span></a><span class="sd">            If True, the database will not be initialized until the first query.</span>
</span><span id="Database-58"><a href="#Database-58"><span class="linenos"> 58</span></a><span class="sd">            This is useful when the database is not used in the main thread or</span>
</span><span id="Database-59"><a href="#Database-59"><span class="linenos"> 59</span></a><span class="sd">            when the main process is forked.</span>
</span><span id="Database-60"><a href="#Database-60"><span class="linenos"> 60</span></a><span class="sd">            Default to False.</span>
</span><span id="Database-61"><a href="#Database-61"><span class="linenos"> 61</span></a>
</span><span id="Database-62"><a href="#Database-62"><span class="linenos"> 62</span></a><span class="sd">        read_only : bool</span>
</span><span id="Database-63"><a href="#Database-63"><span class="linenos"> 63</span></a><span class="sd">            If true, the database is opened read-only. No write transactions is</span>
</span><span id="Database-64"><a href="#Database-64"><span class="linenos"> 64</span></a><span class="sd">            allowed on the `Database` object. Multiple read-only `Database`</span>
</span><span id="Database-65"><a href="#Database-65"><span class="linenos"> 65</span></a><span class="sd">            objects can be created with the same database path. However, there</span>
</span><span id="Database-66"><a href="#Database-66"><span class="linenos"> 66</span></a><span class="sd">            cannot be multiple `Database` objects created with the same</span>
</span><span id="Database-67"><a href="#Database-67"><span class="linenos"> 67</span></a><span class="sd">            database path.</span>
</span><span id="Database-68"><a href="#Database-68"><span class="linenos"> 68</span></a><span class="sd">            Default to False.</span>
</span><span id="Database-69"><a href="#Database-69"><span class="linenos"> 69</span></a>
</span><span id="Database-70"><a href="#Database-70"><span class="linenos"> 70</span></a><span class="sd">        max_db_size : int</span>
</span><span id="Database-71"><a href="#Database-71"><span class="linenos"> 71</span></a><span class="sd">            The maximum size of the database in bytes. Note that this is introduced</span>
</span><span id="Database-72"><a href="#Database-72"><span class="linenos"> 72</span></a><span class="sd">            temporarily for now to get around with the default 8TB mmap address</span>
</span><span id="Database-73"><a href="#Database-73"><span class="linenos"> 73</span></a><span class="sd">             space limit some environment. This will be removed once we implemente</span>
</span><span id="Database-74"><a href="#Database-74"><span class="linenos"> 74</span></a><span class="sd">             a better solution later. The value is default to 1 &lt;&lt; 43 (8TB) under 64-bit</span>
</span><span id="Database-75"><a href="#Database-75"><span class="linenos"> 75</span></a><span class="sd">             environment and 1GB under 32-bit one.</span>
</span><span id="Database-76"><a href="#Database-76"><span class="linenos"> 76</span></a>
</span><span id="Database-77"><a href="#Database-77"><span class="linenos"> 77</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Database-78"><a href="#Database-78"><span class="linenos"> 78</span></a>        <span class="k">if</span> <span class="n">database_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database-79"><a href="#Database-79"><span class="linenos"> 79</span></a>            <span class="n">database_path</span> <span class="o">=</span> <span class="s2">&quot;:memory:&quot;</span>
</span><span id="Database-80"><a href="#Database-80"><span class="linenos"> 80</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">database_path</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
</span><span id="Database-81"><a href="#Database-81"><span class="linenos"> 81</span></a>            <span class="n">database_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">database_path</span><span class="p">)</span>
</span><span id="Database-82"><a href="#Database-82"><span class="linenos"> 82</span></a>
</span><span id="Database-83"><a href="#Database-83"><span class="linenos"> 83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">database_path</span> <span class="o">=</span> <span class="n">database_path</span>
</span><span id="Database-84"><a href="#Database-84"><span class="linenos"> 84</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">buffer_pool_size</span> <span class="o">=</span> <span class="n">buffer_pool_size</span>
</span><span id="Database-85"><a href="#Database-85"><span class="linenos"> 85</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_num_threads</span> <span class="o">=</span> <span class="n">max_num_threads</span>
</span><span id="Database-86"><a href="#Database-86"><span class="linenos"> 86</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">compression</span> <span class="o">=</span> <span class="n">compression</span>
</span><span id="Database-87"><a href="#Database-87"><span class="linenos"> 87</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">read_only</span> <span class="o">=</span> <span class="n">read_only</span>
</span><span id="Database-88"><a href="#Database-88"><span class="linenos"> 88</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_db_size</span> <span class="o">=</span> <span class="n">max_db_size</span>
</span><span id="Database-89"><a href="#Database-89"><span class="linenos"> 89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Database-90"><a href="#Database-90"><span class="linenos"> 90</span></a>
</span><span id="Database-91"><a href="#Database-91"><span class="linenos"> 91</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_database</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># (type: _kuzu.Database from pybind11)</span>
</span><span id="Database-92"><a href="#Database-92"><span class="linenos"> 92</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">lazy_init</span><span class="p">:</span>
</span><span id="Database-93"><a href="#Database-93"><span class="linenos"> 93</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">init_database</span><span class="p">()</span>
</span><span id="Database-94"><a href="#Database-94"><span class="linenos"> 94</span></a>
</span><span id="Database-95"><a href="#Database-95"><span class="linenos"> 95</span></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="Database-96"><a href="#Database-96"><span class="linenos"> 96</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="Database-97"><a href="#Database-97"><span class="linenos"> 97</span></a>
</span><span id="Database-98"><a href="#Database-98"><span class="linenos"> 98</span></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span>
</span><span id="Database-99"><a href="#Database-99"><span class="linenos"> 99</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Database-100"><a href="#Database-100"><span class="linenos">100</span></a>        <span class="n">exc_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Database-101"><a href="#Database-101"><span class="linenos">101</span></a>        <span class="n">exc_value</span><span class="p">:</span> <span class="ne">BaseException</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Database-102"><a href="#Database-102"><span class="linenos">102</span></a>        <span class="n">exc_traceback</span><span class="p">:</span> <span class="n">TracebackType</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Database-103"><a href="#Database-103"><span class="linenos">103</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database-104"><a href="#Database-104"><span class="linenos">104</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="Database-105"><a href="#Database-105"><span class="linenos">105</span></a>
</span><span id="Database-106"><a href="#Database-106"><span class="linenos">106</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Database-107"><a href="#Database-107"><span class="linenos">107</span></a>    <span class="k">def</span> <span class="nf">get_version</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="Database-108"><a href="#Database-108"><span class="linenos">108</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Database-109"><a href="#Database-109"><span class="linenos">109</span></a><span class="sd">        Get the version of the database.</span>
</span><span id="Database-110"><a href="#Database-110"><span class="linenos">110</span></a>
</span><span id="Database-111"><a href="#Database-111"><span class="linenos">111</span></a><span class="sd">        Returns</span>
</span><span id="Database-112"><a href="#Database-112"><span class="linenos">112</span></a><span class="sd">        -------</span>
</span><span id="Database-113"><a href="#Database-113"><span class="linenos">113</span></a><span class="sd">        str</span>
</span><span id="Database-114"><a href="#Database-114"><span class="linenos">114</span></a><span class="sd">            The version of the database.</span>
</span><span id="Database-115"><a href="#Database-115"><span class="linenos">115</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Database-116"><a href="#Database-116"><span class="linenos">116</span></a>        <span class="k">return</span> <span class="n">_kuzu</span><span class="o">.</span><span class="n">Database</span><span class="o">.</span><span class="n">get_version</span><span class="p">()</span>  <span class="c1"># type: ignore[union-attr]</span>
</span><span id="Database-117"><a href="#Database-117"><span class="linenos">117</span></a>
</span><span id="Database-118"><a href="#Database-118"><span class="linenos">118</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Database-119"><a href="#Database-119"><span class="linenos">119</span></a>    <span class="k">def</span> <span class="nf">get_storage_version</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="Database-120"><a href="#Database-120"><span class="linenos">120</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Database-121"><a href="#Database-121"><span class="linenos">121</span></a><span class="sd">        Get the storage version of the database.</span>
</span><span id="Database-122"><a href="#Database-122"><span class="linenos">122</span></a>
</span><span id="Database-123"><a href="#Database-123"><span class="linenos">123</span></a><span class="sd">        Returns</span>
</span><span id="Database-124"><a href="#Database-124"><span class="linenos">124</span></a><span class="sd">        -------</span>
</span><span id="Database-125"><a href="#Database-125"><span class="linenos">125</span></a><span class="sd">        int</span>
</span><span id="Database-126"><a href="#Database-126"><span class="linenos">126</span></a><span class="sd">            The storage version of the database.</span>
</span><span id="Database-127"><a href="#Database-127"><span class="linenos">127</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Database-128"><a href="#Database-128"><span class="linenos">128</span></a>        <span class="k">return</span> <span class="n">_kuzu</span><span class="o">.</span><span class="n">Database</span><span class="o">.</span><span class="n">get_storage_version</span><span class="p">()</span>  <span class="c1"># type: ignore[union-attr]</span>
</span><span id="Database-129"><a href="#Database-129"><span class="linenos">129</span></a>
</span><span id="Database-130"><a href="#Database-130"><span class="linenos">130</span></a>    <span class="k">def</span> <span class="nf">__getstate__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="Database-131"><a href="#Database-131"><span class="linenos">131</span></a>        <span class="n">state</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="Database-132"><a href="#Database-132"><span class="linenos">132</span></a>            <span class="s2">&quot;database_path&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">database_path</span><span class="p">,</span>
</span><span id="Database-133"><a href="#Database-133"><span class="linenos">133</span></a>            <span class="s2">&quot;buffer_pool_size&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">buffer_pool_size</span><span class="p">,</span>
</span><span id="Database-134"><a href="#Database-134"><span class="linenos">134</span></a>            <span class="s2">&quot;compression&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">compression</span><span class="p">,</span>
</span><span id="Database-135"><a href="#Database-135"><span class="linenos">135</span></a>            <span class="s2">&quot;read_only&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_only</span><span class="p">,</span>
</span><span id="Database-136"><a href="#Database-136"><span class="linenos">136</span></a>            <span class="s2">&quot;_database&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Database-137"><a href="#Database-137"><span class="linenos">137</span></a>        <span class="p">}</span>
</span><span id="Database-138"><a href="#Database-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="n">state</span>
</span><span id="Database-139"><a href="#Database-139"><span class="linenos">139</span></a>
</span><span id="Database-140"><a href="#Database-140"><span class="linenos">140</span></a>    <span class="k">def</span> <span class="nf">init_database</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database-141"><a href="#Database-141"><span class="linenos">141</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the database.&quot;&quot;&quot;</span>
</span><span id="Database-142"><a href="#Database-142"><span class="linenos">142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_database_close</span><span class="p">()</span>
</span><span id="Database-143"><a href="#Database-143"><span class="linenos">143</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_database</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database-144"><a href="#Database-144"><span class="linenos">144</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_database</span> <span class="o">=</span> <span class="n">_kuzu</span><span class="o">.</span><span class="n">Database</span><span class="p">(</span>  <span class="c1"># type: ignore[union-attr]</span>
</span><span id="Database-145"><a href="#Database-145"><span class="linenos">145</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">database_path</span><span class="p">,</span>
</span><span id="Database-146"><a href="#Database-146"><span class="linenos">146</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">buffer_pool_size</span><span class="p">,</span>
</span><span id="Database-147"><a href="#Database-147"><span class="linenos">147</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">max_num_threads</span><span class="p">,</span>
</span><span id="Database-148"><a href="#Database-148"><span class="linenos">148</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">compression</span><span class="p">,</span>
</span><span id="Database-149"><a href="#Database-149"><span class="linenos">149</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">read_only</span><span class="p">,</span>
</span><span id="Database-150"><a href="#Database-150"><span class="linenos">150</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">max_db_size</span><span class="p">,</span>
</span><span id="Database-151"><a href="#Database-151"><span class="linenos">151</span></a>            <span class="p">)</span>
</span><span id="Database-152"><a href="#Database-152"><span class="linenos">152</span></a>
</span><span id="Database-153"><a href="#Database-153"><span class="linenos">153</span></a>    <span class="k">def</span> <span class="nf">get_torch_geometric_remote_backend</span><span class="p">(</span>
</span><span id="Database-154"><a href="#Database-154"><span class="linenos">154</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Database-155"><a href="#Database-155"><span class="linenos">155</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">KuzuFeatureStore</span><span class="p">,</span> <span class="n">KuzuGraphStore</span><span class="p">]:</span>
</span><span id="Database-156"><a href="#Database-156"><span class="linenos">156</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Database-157"><a href="#Database-157"><span class="linenos">157</span></a><span class="sd">        Use the database as the remote backend for torch_geometric.</span>
</span><span id="Database-158"><a href="#Database-158"><span class="linenos">158</span></a>
</span><span id="Database-159"><a href="#Database-159"><span class="linenos">159</span></a><span class="sd">        For the interface of the remote backend, please refer to</span>
</span><span id="Database-160"><a href="#Database-160"><span class="linenos">160</span></a><span class="sd">        https://pytorch-geometric.readthedocs.io/en/latest/advanced/remote.html.</span>
</span><span id="Database-161"><a href="#Database-161"><span class="linenos">161</span></a><span class="sd">        The current implementation is read-only and does not support edge</span>
</span><span id="Database-162"><a href="#Database-162"><span class="linenos">162</span></a><span class="sd">        features. The IDs of the nodes are based on the internal IDs (i.e., node</span>
</span><span id="Database-163"><a href="#Database-163"><span class="linenos">163</span></a><span class="sd">        offsets). For the remote node IDs to be consistent with the positions in</span>
</span><span id="Database-164"><a href="#Database-164"><span class="linenos">164</span></a><span class="sd">        the output tensors, please ensure that no deletion has been performed</span>
</span><span id="Database-165"><a href="#Database-165"><span class="linenos">165</span></a><span class="sd">        on the node tables.</span>
</span><span id="Database-166"><a href="#Database-166"><span class="linenos">166</span></a>
</span><span id="Database-167"><a href="#Database-167"><span class="linenos">167</span></a><span class="sd">        The remote backend can also be plugged into the data loader of</span>
</span><span id="Database-168"><a href="#Database-168"><span class="linenos">168</span></a><span class="sd">        torch_geometric, which is useful for mini-batch training. For example:</span>
</span><span id="Database-169"><a href="#Database-169"><span class="linenos">169</span></a>
</span><span id="Database-170"><a href="#Database-170"><span class="linenos">170</span></a><span class="sd">        ```python</span>
</span><span id="Database-171"><a href="#Database-171"><span class="linenos">171</span></a><span class="sd">            loader_kuzu = NeighborLoader(</span>
</span><span id="Database-172"><a href="#Database-172"><span class="linenos">172</span></a><span class="sd">                data=(feature_store, graph_store),</span>
</span><span id="Database-173"><a href="#Database-173"><span class="linenos">173</span></a><span class="sd">                num_neighbors={(&#39;paper&#39;, &#39;cites&#39;, &#39;paper&#39;): [12, 12, 12]},</span>
</span><span id="Database-174"><a href="#Database-174"><span class="linenos">174</span></a><span class="sd">                batch_size=LOADER_BATCH_SIZE,</span>
</span><span id="Database-175"><a href="#Database-175"><span class="linenos">175</span></a><span class="sd">                input_nodes=(&#39;paper&#39;, input_nodes),</span>
</span><span id="Database-176"><a href="#Database-176"><span class="linenos">176</span></a><span class="sd">                num_workers=4,</span>
</span><span id="Database-177"><a href="#Database-177"><span class="linenos">177</span></a><span class="sd">                filter_per_worker=False,</span>
</span><span id="Database-178"><a href="#Database-178"><span class="linenos">178</span></a><span class="sd">            )</span>
</span><span id="Database-179"><a href="#Database-179"><span class="linenos">179</span></a><span class="sd">        ```</span>
</span><span id="Database-180"><a href="#Database-180"><span class="linenos">180</span></a>
</span><span id="Database-181"><a href="#Database-181"><span class="linenos">181</span></a><span class="sd">        Please note that the database instance is not fork-safe, so if more than</span>
</span><span id="Database-182"><a href="#Database-182"><span class="linenos">182</span></a><span class="sd">        one worker is used, `filter_per_worker` must be set to False.</span>
</span><span id="Database-183"><a href="#Database-183"><span class="linenos">183</span></a>
</span><span id="Database-184"><a href="#Database-184"><span class="linenos">184</span></a><span class="sd">        Parameters</span>
</span><span id="Database-185"><a href="#Database-185"><span class="linenos">185</span></a><span class="sd">        ----------</span>
</span><span id="Database-186"><a href="#Database-186"><span class="linenos">186</span></a><span class="sd">        num_threads : int</span>
</span><span id="Database-187"><a href="#Database-187"><span class="linenos">187</span></a><span class="sd">            Number of threads to use for data loading. Default to None, which</span>
</span><span id="Database-188"><a href="#Database-188"><span class="linenos">188</span></a><span class="sd">            means using the number of CPU cores.</span>
</span><span id="Database-189"><a href="#Database-189"><span class="linenos">189</span></a>
</span><span id="Database-190"><a href="#Database-190"><span class="linenos">190</span></a><span class="sd">        Returns</span>
</span><span id="Database-191"><a href="#Database-191"><span class="linenos">191</span></a><span class="sd">        -------</span>
</span><span id="Database-192"><a href="#Database-192"><span class="linenos">192</span></a><span class="sd">        feature_store : KuzuFeatureStore</span>
</span><span id="Database-193"><a href="#Database-193"><span class="linenos">193</span></a><span class="sd">            Feature store compatible with torch_geometric.</span>
</span><span id="Database-194"><a href="#Database-194"><span class="linenos">194</span></a><span class="sd">        graph_store : KuzuGraphStore</span>
</span><span id="Database-195"><a href="#Database-195"><span class="linenos">195</span></a><span class="sd">            Graph store compatible with torch_geometric.</span>
</span><span id="Database-196"><a href="#Database-196"><span class="linenos">196</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Database-197"><a href="#Database-197"><span class="linenos">197</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_database_close</span><span class="p">()</span>
</span><span id="Database-198"><a href="#Database-198"><span class="linenos">198</span></a>        <span class="kn">from</span> <span class="nn">.torch_geometric_feature_store</span> <span class="kn">import</span> <span class="n">KuzuFeatureStore</span>
</span><span id="Database-199"><a href="#Database-199"><span class="linenos">199</span></a>        <span class="kn">from</span> <span class="nn">.torch_geometric_graph_store</span> <span class="kn">import</span> <span class="n">KuzuGraphStore</span>
</span><span id="Database-200"><a href="#Database-200"><span class="linenos">200</span></a>
</span><span id="Database-201"><a href="#Database-201"><span class="linenos">201</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="Database-202"><a href="#Database-202"><span class="linenos">202</span></a>            <span class="n">KuzuFeatureStore</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">),</span>
</span><span id="Database-203"><a href="#Database-203"><span class="linenos">203</span></a>            <span class="n">KuzuGraphStore</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">),</span>
</span><span id="Database-204"><a href="#Database-204"><span class="linenos">204</span></a>        <span class="p">)</span>
</span><span id="Database-205"><a href="#Database-205"><span class="linenos">205</span></a>
</span><span id="Database-206"><a href="#Database-206"><span class="linenos">206</span></a>    <span class="k">def</span> <span class="nf">_scan_node_table</span><span class="p">(</span>
</span><span id="Database-207"><a href="#Database-207"><span class="linenos">207</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Database-208"><a href="#Database-208"><span class="linenos">208</span></a>        <span class="n">table_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="Database-209"><a href="#Database-209"><span class="linenos">209</span></a>        <span class="n">prop_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="Database-210"><a href="#Database-210"><span class="linenos">210</span></a>        <span class="n">prop_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="Database-211"><a href="#Database-211"><span class="linenos">211</span></a>        <span class="n">dim</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span><span id="Database-212"><a href="#Database-212"><span class="linenos">212</span></a>        <span class="n">indices</span><span class="p">:</span> <span class="n">IndexType</span><span class="p">,</span>
</span><span id="Database-213"><a href="#Database-213"><span class="linenos">213</span></a>        <span class="n">num_threads</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span><span id="Database-214"><a href="#Database-214"><span class="linenos">214</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="Database-215"><a href="#Database-215"><span class="linenos">215</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_database_close</span><span class="p">()</span>
</span><span id="Database-216"><a href="#Database-216"><span class="linenos">216</span></a>        <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span><span id="Database-217"><a href="#Database-217"><span class="linenos">217</span></a>
</span><span id="Database-218"><a href="#Database-218"><span class="linenos">218</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Database-219"><a href="#Database-219"><span class="linenos">219</span></a><span class="sd">        Scan a node table from storage directly, bypassing query engine.</span>
</span><span id="Database-220"><a href="#Database-220"><span class="linenos">220</span></a><span class="sd">        Used internally by torch_geometric remote backend only.</span>
</span><span id="Database-221"><a href="#Database-221"><span class="linenos">221</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Database-222"><a href="#Database-222"><span class="linenos">222</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">init_database</span><span class="p">()</span>
</span><span id="Database-223"><a href="#Database-223"><span class="linenos">223</span></a>        <span class="n">indices_cast</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">indices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint64</span><span class="p">)</span>
</span><span id="Database-224"><a href="#Database-224"><span class="linenos">224</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Database-225"><a href="#Database-225"><span class="linenos">225</span></a>
</span><span id="Database-226"><a href="#Database-226"><span class="linenos">226</span></a>        <span class="k">if</span> <span class="n">prop_type</span> <span class="o">==</span> <span class="n">Type</span><span class="o">.</span><span class="n">INT64</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
</span><span id="Database-227"><a href="#Database-227"><span class="linenos">227</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span> <span class="o">*</span> <span class="n">dim</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
</span><span id="Database-228"><a href="#Database-228"><span class="linenos">228</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_database</span><span class="o">.</span><span class="n">scan_node_table_as_int64</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">prop_name</span><span class="p">,</span> <span class="n">indices_cast</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">)</span>
</span><span id="Database-229"><a href="#Database-229"><span class="linenos">229</span></a>        <span class="k">elif</span> <span class="n">prop_type</span> <span class="o">==</span> <span class="n">Type</span><span class="o">.</span><span class="n">INT32</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
</span><span id="Database-230"><a href="#Database-230"><span class="linenos">230</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span> <span class="o">*</span> <span class="n">dim</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
</span><span id="Database-231"><a href="#Database-231"><span class="linenos">231</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_database</span><span class="o">.</span><span class="n">scan_node_table_as_int32</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">prop_name</span><span class="p">,</span> <span class="n">indices_cast</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">)</span>
</span><span id="Database-232"><a href="#Database-232"><span class="linenos">232</span></a>        <span class="k">elif</span> <span class="n">prop_type</span> <span class="o">==</span> <span class="n">Type</span><span class="o">.</span><span class="n">INT16</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
</span><span id="Database-233"><a href="#Database-233"><span class="linenos">233</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span> <span class="o">*</span> <span class="n">dim</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">)</span>
</span><span id="Database-234"><a href="#Database-234"><span class="linenos">234</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_database</span><span class="o">.</span><span class="n">scan_node_table_as_int16</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">prop_name</span><span class="p">,</span> <span class="n">indices_cast</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">)</span>
</span><span id="Database-235"><a href="#Database-235"><span class="linenos">235</span></a>        <span class="k">elif</span> <span class="n">prop_type</span> <span class="o">==</span> <span class="n">Type</span><span class="o">.</span><span class="n">DOUBLE</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
</span><span id="Database-236"><a href="#Database-236"><span class="linenos">236</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span> <span class="o">*</span> <span class="n">dim</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
</span><span id="Database-237"><a href="#Database-237"><span class="linenos">237</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_database</span><span class="o">.</span><span class="n">scan_node_table_as_double</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">prop_name</span><span class="p">,</span> <span class="n">indices_cast</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">)</span>
</span><span id="Database-238"><a href="#Database-238"><span class="linenos">238</span></a>        <span class="k">elif</span> <span class="n">prop_type</span> <span class="o">==</span> <span class="n">Type</span><span class="o">.</span><span class="n">FLOAT</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
</span><span id="Database-239"><a href="#Database-239"><span class="linenos">239</span></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span> <span class="o">*</span> <span class="n">dim</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</span><span id="Database-240"><a href="#Database-240"><span class="linenos">240</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_database</span><span class="o">.</span><span class="n">scan_node_table_as_float</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">prop_name</span><span class="p">,</span> <span class="n">indices_cast</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">)</span>
</span><span id="Database-241"><a href="#Database-241"><span class="linenos">241</span></a>
</span><span id="Database-242"><a href="#Database-242"><span class="linenos">242</span></a>        <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database-243"><a href="#Database-243"><span class="linenos">243</span></a>            <span class="k">return</span> <span class="n">result</span>
</span><span id="Database-244"><a href="#Database-244"><span class="linenos">244</span></a>
</span><span id="Database-245"><a href="#Database-245"><span class="linenos">245</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Unsupported property type: </span><span class="si">{</span><span class="n">prop_type</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Database-246"><a href="#Database-246"><span class="linenos">246</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Database-247"><a href="#Database-247"><span class="linenos">247</span></a>
</span><span id="Database-248"><a href="#Database-248"><span class="linenos">248</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database-249"><a href="#Database-249"><span class="linenos">249</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Database-250"><a href="#Database-250"><span class="linenos">250</span></a><span class="sd">        Close the database. Once the database is closed, the lock on the database</span>
</span><span id="Database-251"><a href="#Database-251"><span class="linenos">251</span></a><span class="sd">        files is released and the database can be opened in another process.</span>
</span><span id="Database-252"><a href="#Database-252"><span class="linenos">252</span></a>
</span><span id="Database-253"><a href="#Database-253"><span class="linenos">253</span></a><span class="sd">        Note: Call to this method is not required. The Python garbage collector</span>
</span><span id="Database-254"><a href="#Database-254"><span class="linenos">254</span></a><span class="sd">        will automatically close the database when no references to the database</span>
</span><span id="Database-255"><a href="#Database-255"><span class="linenos">255</span></a><span class="sd">        object exist. It is recommended not to call this method explicitly. If you</span>
</span><span id="Database-256"><a href="#Database-256"><span class="linenos">256</span></a><span class="sd">        decide to manually close the database, make sure that all the QueryResult</span>
</span><span id="Database-257"><a href="#Database-257"><span class="linenos">257</span></a><span class="sd">        and Connection objects are closed before calling this method.</span>
</span><span id="Database-258"><a href="#Database-258"><span class="linenos">258</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Database-259"><a href="#Database-259"><span class="linenos">259</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span><span class="p">:</span>
</span><span id="Database-260"><a href="#Database-260"><span class="linenos">260</span></a>            <span class="k">return</span>
</span><span id="Database-261"><a href="#Database-261"><span class="linenos">261</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Database-262"><a href="#Database-262"><span class="linenos">262</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_database</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database-263"><a href="#Database-263"><span class="linenos">263</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_database</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="Database-264"><a href="#Database-264"><span class="linenos">264</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_database</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># (type: _kuzu.Database from pybind11)</span>
</span><span id="Database-265"><a href="#Database-265"><span class="linenos">265</span></a>
</span><span id="Database-266"><a href="#Database-266"><span class="linenos">266</span></a>    <span class="k">def</span> <span class="nf">check_for_database_close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database-267"><a href="#Database-267"><span class="linenos">267</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Database-268"><a href="#Database-268"><span class="linenos">268</span></a><span class="sd">        Check if the database is closed and raise an exception if it is.</span>
</span><span id="Database-269"><a href="#Database-269"><span class="linenos">269</span></a>
</span><span id="Database-270"><a href="#Database-270"><span class="linenos">270</span></a><span class="sd">        Raises</span>
</span><span id="Database-271"><a href="#Database-271"><span class="linenos">271</span></a><span class="sd">        ------</span>
</span><span id="Database-272"><a href="#Database-272"><span class="linenos">272</span></a><span class="sd">        Exception</span>
</span><span id="Database-273"><a href="#Database-273"><span class="linenos">273</span></a><span class="sd">            If the database is closed.</span>
</span><span id="Database-274"><a href="#Database-274"><span class="linenos">274</span></a>
</span><span id="Database-275"><a href="#Database-275"><span class="linenos">275</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Database-276"><a href="#Database-276"><span class="linenos">276</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span><span class="p">:</span>
</span><span id="Database-277"><a href="#Database-277"><span class="linenos">277</span></a>            <span class="k">return</span>
</span><span id="Database-278"><a href="#Database-278"><span class="linenos">278</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Database is closed&quot;</span>
</span><span id="Database-279"><a href="#Database-279"><span class="linenos">279</span></a>        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Kùzu database instance.</p>
</div>


                            <div id="Database.__init__" class="classattr">
                                        <input id="Database.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Database</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">database_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">buffer_pool_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">max_num_threads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">compression</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">lazy_init</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">read_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">max_db_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">8796093022208</span></span>)</span>

                <label class="view-source-button" for="Database.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Database.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Database.__init__-29"><a href="#Database.__init__-29"><span class="linenos">29</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
</span><span id="Database.__init__-30"><a href="#Database.__init__-30"><span class="linenos">30</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="Database.__init__-31"><a href="#Database.__init__-31"><span class="linenos">31</span></a>        <span class="n">database_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Path</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Database.__init__-32"><a href="#Database.__init__-32"><span class="linenos">32</span></a>        <span class="o">*</span><span class="p">,</span>
</span><span id="Database.__init__-33"><a href="#Database.__init__-33"><span class="linenos">33</span></a>        <span class="n">buffer_pool_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Database.__init__-34"><a href="#Database.__init__-34"><span class="linenos">34</span></a>        <span class="n">max_num_threads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
</span><span id="Database.__init__-35"><a href="#Database.__init__-35"><span class="linenos">35</span></a>        <span class="n">compression</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="Database.__init__-36"><a href="#Database.__init__-36"><span class="linenos">36</span></a>        <span class="n">lazy_init</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="Database.__init__-37"><a href="#Database.__init__-37"><span class="linenos">37</span></a>        <span class="n">read_only</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
</span><span id="Database.__init__-38"><a href="#Database.__init__-38"><span class="linenos">38</span></a>        <span class="n">max_db_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">43</span><span class="p">),</span>
</span><span id="Database.__init__-39"><a href="#Database.__init__-39"><span class="linenos">39</span></a>    <span class="p">):</span>
</span><span id="Database.__init__-40"><a href="#Database.__init__-40"><span class="linenos">40</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Database.__init__-41"><a href="#Database.__init__-41"><span class="linenos">41</span></a><span class="sd">        Parameters</span>
</span><span id="Database.__init__-42"><a href="#Database.__init__-42"><span class="linenos">42</span></a><span class="sd">        ----------</span>
</span><span id="Database.__init__-43"><a href="#Database.__init__-43"><span class="linenos">43</span></a><span class="sd">        database_path : str, Path</span>
</span><span id="Database.__init__-44"><a href="#Database.__init__-44"><span class="linenos">44</span></a><span class="sd">            The path to database files. If the path is not specified, or empty, or equal to `:memory:`, the database</span>
</span><span id="Database.__init__-45"><a href="#Database.__init__-45"><span class="linenos">45</span></a><span class="sd">            will be created in memory.</span>
</span><span id="Database.__init__-46"><a href="#Database.__init__-46"><span class="linenos">46</span></a>
</span><span id="Database.__init__-47"><a href="#Database.__init__-47"><span class="linenos">47</span></a><span class="sd">        buffer_pool_size : int</span>
</span><span id="Database.__init__-48"><a href="#Database.__init__-48"><span class="linenos">48</span></a><span class="sd">            The maximum size of buffer pool in bytes. Defaults to ~80% of system memory.</span>
</span><span id="Database.__init__-49"><a href="#Database.__init__-49"><span class="linenos">49</span></a>
</span><span id="Database.__init__-50"><a href="#Database.__init__-50"><span class="linenos">50</span></a><span class="sd">        max_num_threads : int</span>
</span><span id="Database.__init__-51"><a href="#Database.__init__-51"><span class="linenos">51</span></a><span class="sd">            The maximum number of threads to use for executing queries.</span>
</span><span id="Database.__init__-52"><a href="#Database.__init__-52"><span class="linenos">52</span></a>
</span><span id="Database.__init__-53"><a href="#Database.__init__-53"><span class="linenos">53</span></a><span class="sd">        compression : bool</span>
</span><span id="Database.__init__-54"><a href="#Database.__init__-54"><span class="linenos">54</span></a><span class="sd">            Enable database compression.</span>
</span><span id="Database.__init__-55"><a href="#Database.__init__-55"><span class="linenos">55</span></a>
</span><span id="Database.__init__-56"><a href="#Database.__init__-56"><span class="linenos">56</span></a><span class="sd">        lazy_init : bool</span>
</span><span id="Database.__init__-57"><a href="#Database.__init__-57"><span class="linenos">57</span></a><span class="sd">            If True, the database will not be initialized until the first query.</span>
</span><span id="Database.__init__-58"><a href="#Database.__init__-58"><span class="linenos">58</span></a><span class="sd">            This is useful when the database is not used in the main thread or</span>
</span><span id="Database.__init__-59"><a href="#Database.__init__-59"><span class="linenos">59</span></a><span class="sd">            when the main process is forked.</span>
</span><span id="Database.__init__-60"><a href="#Database.__init__-60"><span class="linenos">60</span></a><span class="sd">            Default to False.</span>
</span><span id="Database.__init__-61"><a href="#Database.__init__-61"><span class="linenos">61</span></a>
</span><span id="Database.__init__-62"><a href="#Database.__init__-62"><span class="linenos">62</span></a><span class="sd">        read_only : bool</span>
</span><span id="Database.__init__-63"><a href="#Database.__init__-63"><span class="linenos">63</span></a><span class="sd">            If true, the database is opened read-only. No write transactions is</span>
</span><span id="Database.__init__-64"><a href="#Database.__init__-64"><span class="linenos">64</span></a><span class="sd">            allowed on the `Database` object. Multiple read-only `Database`</span>
</span><span id="Database.__init__-65"><a href="#Database.__init__-65"><span class="linenos">65</span></a><span class="sd">            objects can be created with the same database path. However, there</span>
</span><span id="Database.__init__-66"><a href="#Database.__init__-66"><span class="linenos">66</span></a><span class="sd">            cannot be multiple `Database` objects created with the same</span>
</span><span id="Database.__init__-67"><a href="#Database.__init__-67"><span class="linenos">67</span></a><span class="sd">            database path.</span>
</span><span id="Database.__init__-68"><a href="#Database.__init__-68"><span class="linenos">68</span></a><span class="sd">            Default to False.</span>
</span><span id="Database.__init__-69"><a href="#Database.__init__-69"><span class="linenos">69</span></a>
</span><span id="Database.__init__-70"><a href="#Database.__init__-70"><span class="linenos">70</span></a><span class="sd">        max_db_size : int</span>
</span><span id="Database.__init__-71"><a href="#Database.__init__-71"><span class="linenos">71</span></a><span class="sd">            The maximum size of the database in bytes. Note that this is introduced</span>
</span><span id="Database.__init__-72"><a href="#Database.__init__-72"><span class="linenos">72</span></a><span class="sd">            temporarily for now to get around with the default 8TB mmap address</span>
</span><span id="Database.__init__-73"><a href="#Database.__init__-73"><span class="linenos">73</span></a><span class="sd">             space limit some environment. This will be removed once we implemente</span>
</span><span id="Database.__init__-74"><a href="#Database.__init__-74"><span class="linenos">74</span></a><span class="sd">             a better solution later. The value is default to 1 &lt;&lt; 43 (8TB) under 64-bit</span>
</span><span id="Database.__init__-75"><a href="#Database.__init__-75"><span class="linenos">75</span></a><span class="sd">             environment and 1GB under 32-bit one.</span>
</span><span id="Database.__init__-76"><a href="#Database.__init__-76"><span class="linenos">76</span></a>
</span><span id="Database.__init__-77"><a href="#Database.__init__-77"><span class="linenos">77</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Database.__init__-78"><a href="#Database.__init__-78"><span class="linenos">78</span></a>        <span class="k">if</span> <span class="n">database_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database.__init__-79"><a href="#Database.__init__-79"><span class="linenos">79</span></a>            <span class="n">database_path</span> <span class="o">=</span> <span class="s2">&quot;:memory:&quot;</span>
</span><span id="Database.__init__-80"><a href="#Database.__init__-80"><span class="linenos">80</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">database_path</span><span class="p">,</span> <span class="n">Path</span><span class="p">):</span>
</span><span id="Database.__init__-81"><a href="#Database.__init__-81"><span class="linenos">81</span></a>            <span class="n">database_path</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">database_path</span><span class="p">)</span>
</span><span id="Database.__init__-82"><a href="#Database.__init__-82"><span class="linenos">82</span></a>
</span><span id="Database.__init__-83"><a href="#Database.__init__-83"><span class="linenos">83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">database_path</span> <span class="o">=</span> <span class="n">database_path</span>
</span><span id="Database.__init__-84"><a href="#Database.__init__-84"><span class="linenos">84</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">buffer_pool_size</span> <span class="o">=</span> <span class="n">buffer_pool_size</span>
</span><span id="Database.__init__-85"><a href="#Database.__init__-85"><span class="linenos">85</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_num_threads</span> <span class="o">=</span> <span class="n">max_num_threads</span>
</span><span id="Database.__init__-86"><a href="#Database.__init__-86"><span class="linenos">86</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">compression</span> <span class="o">=</span> <span class="n">compression</span>
</span><span id="Database.__init__-87"><a href="#Database.__init__-87"><span class="linenos">87</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">read_only</span> <span class="o">=</span> <span class="n">read_only</span>
</span><span id="Database.__init__-88"><a href="#Database.__init__-88"><span class="linenos">88</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_db_size</span> <span class="o">=</span> <span class="n">max_db_size</span>
</span><span id="Database.__init__-89"><a href="#Database.__init__-89"><span class="linenos">89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Database.__init__-90"><a href="#Database.__init__-90"><span class="linenos">90</span></a>
</span><span id="Database.__init__-91"><a href="#Database.__init__-91"><span class="linenos">91</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_database</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># (type: _kuzu.Database from pybind11)</span>
</span><span id="Database.__init__-92"><a href="#Database.__init__-92"><span class="linenos">92</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">lazy_init</span><span class="p">:</span>
</span><span id="Database.__init__-93"><a href="#Database.__init__-93"><span class="linenos">93</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">init_database</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><h6 id="parameters">Parameters</h6>

<ul>
<li><strong>database_path</strong> (str, Path):
The path to database files. If the path is not specified, or empty, or equal to <code>:memory:</code>, the database
will be created in memory.</li>
<li><strong>buffer_pool_size</strong> (int):
The maximum size of buffer pool in bytes. Defaults to ~80% of system memory.</li>
<li><strong>max_num_threads</strong> (int):
The maximum number of threads to use for executing queries.</li>
<li><strong>compression</strong> (bool):
Enable database compression.</li>
<li><strong>lazy_init</strong> (bool):
If True, the database will not be initialized until the first query.
This is useful when the database is not used in the main thread or
when the main process is forked.
Default to False.</li>
<li><strong>read_only</strong> (bool):
If true, the database is opened read-only. No write transactions is
allowed on the <code><a href="#Database">Database</a></code> object. Multiple read-only <code><a href="#Database">Database</a></code>
objects can be created with the same database path. However, there
cannot be multiple <code><a href="#Database">Database</a></code> objects created with the same
database path.
Default to False.</li>
<li><strong>max_db_size</strong> (int):
The maximum size of the database in bytes. Note that this is introduced
temporarily for now to get around with the default 8TB mmap address
 space limit some environment. This will be removed once we implemente
 a better solution later. The value is default to 1 &lt;&lt; 43 (8TB) under 64-bit
 environment and 1GB under 32-bit one.</li>
</ul>
</div>


                            </div>
                            <div id="Database.database_path" class="classattr">
                                <div class="attr variable">
            <span class="name">database_path</span>

        
    </div>
    <a class="headerlink" href="#Database.database_path"></a>
    
    

                            </div>
                            <div id="Database.buffer_pool_size" class="classattr">
                                <div class="attr variable">
            <span class="name">buffer_pool_size</span>

        
    </div>
    <a class="headerlink" href="#Database.buffer_pool_size"></a>
    
    

                            </div>
                            <div id="Database.max_num_threads" class="classattr">
                                <div class="attr variable">
            <span class="name">max_num_threads</span>

        
    </div>
    <a class="headerlink" href="#Database.max_num_threads"></a>
    
    

                            </div>
                            <div id="Database.compression" class="classattr">
                                <div class="attr variable">
            <span class="name">compression</span>

        
    </div>
    <a class="headerlink" href="#Database.compression"></a>
    
    

                            </div>
                            <div id="Database.read_only" class="classattr">
                                <div class="attr variable">
            <span class="name">read_only</span>

        
    </div>
    <a class="headerlink" href="#Database.read_only"></a>
    
    

                            </div>
                            <div id="Database.max_db_size" class="classattr">
                                <div class="attr variable">
            <span class="name">max_db_size</span>

        
    </div>
    <a class="headerlink" href="#Database.max_db_size"></a>
    
    

                            </div>
                            <div id="Database.is_closed" class="classattr">
                                <div class="attr variable">
            <span class="name">is_closed</span>

        
    </div>
    <a class="headerlink" href="#Database.is_closed"></a>
    
    

                            </div>
                            <div id="Database.get_version" class="classattr">
                                        <input id="Database.get_version-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">get_version</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="Database.get_version-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Database.get_version"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Database.get_version-106"><a href="#Database.get_version-106"><span class="linenos">106</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Database.get_version-107"><a href="#Database.get_version-107"><span class="linenos">107</span></a>    <span class="k">def</span> <span class="nf">get_version</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="Database.get_version-108"><a href="#Database.get_version-108"><span class="linenos">108</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Database.get_version-109"><a href="#Database.get_version-109"><span class="linenos">109</span></a><span class="sd">        Get the version of the database.</span>
</span><span id="Database.get_version-110"><a href="#Database.get_version-110"><span class="linenos">110</span></a>
</span><span id="Database.get_version-111"><a href="#Database.get_version-111"><span class="linenos">111</span></a><span class="sd">        Returns</span>
</span><span id="Database.get_version-112"><a href="#Database.get_version-112"><span class="linenos">112</span></a><span class="sd">        -------</span>
</span><span id="Database.get_version-113"><a href="#Database.get_version-113"><span class="linenos">113</span></a><span class="sd">        str</span>
</span><span id="Database.get_version-114"><a href="#Database.get_version-114"><span class="linenos">114</span></a><span class="sd">            The version of the database.</span>
</span><span id="Database.get_version-115"><a href="#Database.get_version-115"><span class="linenos">115</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Database.get_version-116"><a href="#Database.get_version-116"><span class="linenos">116</span></a>        <span class="k">return</span> <span class="n">_kuzu</span><span class="o">.</span><span class="n">Database</span><span class="o">.</span><span class="n">get_version</span><span class="p">()</span>  <span class="c1"># type: ignore[union-attr]</span>
</span></pre></div>


            <div class="docstring"><p>Get the version of the database.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>str</strong>: The version of the database.</li>
</ul>
</div>


                            </div>
                            <div id="Database.get_storage_version" class="classattr">
                                        <input id="Database.get_storage_version-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">get_storage_version</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="Database.get_storage_version-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Database.get_storage_version"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Database.get_storage_version-118"><a href="#Database.get_storage_version-118"><span class="linenos">118</span></a>    <span class="nd">@staticmethod</span>
</span><span id="Database.get_storage_version-119"><a href="#Database.get_storage_version-119"><span class="linenos">119</span></a>    <span class="k">def</span> <span class="nf">get_storage_version</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="Database.get_storage_version-120"><a href="#Database.get_storage_version-120"><span class="linenos">120</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Database.get_storage_version-121"><a href="#Database.get_storage_version-121"><span class="linenos">121</span></a><span class="sd">        Get the storage version of the database.</span>
</span><span id="Database.get_storage_version-122"><a href="#Database.get_storage_version-122"><span class="linenos">122</span></a>
</span><span id="Database.get_storage_version-123"><a href="#Database.get_storage_version-123"><span class="linenos">123</span></a><span class="sd">        Returns</span>
</span><span id="Database.get_storage_version-124"><a href="#Database.get_storage_version-124"><span class="linenos">124</span></a><span class="sd">        -------</span>
</span><span id="Database.get_storage_version-125"><a href="#Database.get_storage_version-125"><span class="linenos">125</span></a><span class="sd">        int</span>
</span><span id="Database.get_storage_version-126"><a href="#Database.get_storage_version-126"><span class="linenos">126</span></a><span class="sd">            The storage version of the database.</span>
</span><span id="Database.get_storage_version-127"><a href="#Database.get_storage_version-127"><span class="linenos">127</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Database.get_storage_version-128"><a href="#Database.get_storage_version-128"><span class="linenos">128</span></a>        <span class="k">return</span> <span class="n">_kuzu</span><span class="o">.</span><span class="n">Database</span><span class="o">.</span><span class="n">get_storage_version</span><span class="p">()</span>  <span class="c1"># type: ignore[union-attr]</span>
</span></pre></div>


            <div class="docstring"><p>Get the storage version of the database.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>int</strong>: The storage version of the database.</li>
</ul>
</div>


                            </div>
                            <div id="Database.init_database" class="classattr">
                                        <input id="Database.init_database-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">init_database</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Database.init_database-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Database.init_database"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Database.init_database-140"><a href="#Database.init_database-140"><span class="linenos">140</span></a>    <span class="k">def</span> <span class="nf">init_database</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database.init_database-141"><a href="#Database.init_database-141"><span class="linenos">141</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the database.&quot;&quot;&quot;</span>
</span><span id="Database.init_database-142"><a href="#Database.init_database-142"><span class="linenos">142</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_database_close</span><span class="p">()</span>
</span><span id="Database.init_database-143"><a href="#Database.init_database-143"><span class="linenos">143</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_database</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database.init_database-144"><a href="#Database.init_database-144"><span class="linenos">144</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_database</span> <span class="o">=</span> <span class="n">_kuzu</span><span class="o">.</span><span class="n">Database</span><span class="p">(</span>  <span class="c1"># type: ignore[union-attr]</span>
</span><span id="Database.init_database-145"><a href="#Database.init_database-145"><span class="linenos">145</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">database_path</span><span class="p">,</span>
</span><span id="Database.init_database-146"><a href="#Database.init_database-146"><span class="linenos">146</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">buffer_pool_size</span><span class="p">,</span>
</span><span id="Database.init_database-147"><a href="#Database.init_database-147"><span class="linenos">147</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">max_num_threads</span><span class="p">,</span>
</span><span id="Database.init_database-148"><a href="#Database.init_database-148"><span class="linenos">148</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">compression</span><span class="p">,</span>
</span><span id="Database.init_database-149"><a href="#Database.init_database-149"><span class="linenos">149</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">read_only</span><span class="p">,</span>
</span><span id="Database.init_database-150"><a href="#Database.init_database-150"><span class="linenos">150</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">max_db_size</span><span class="p">,</span>
</span><span id="Database.init_database-151"><a href="#Database.init_database-151"><span class="linenos">151</span></a>            <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initialize the database.</p>
</div>


                            </div>
                            <div id="Database.get_torch_geometric_remote_backend" class="classattr">
                                        <input id="Database.get_torch_geometric_remote_backend-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_torch_geometric_remote_backend</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">num_threads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="n">kuzu</span><span class="o">.</span><span class="n">torch_geometric_feature_store</span><span class="o">.</span><span class="n">KuzuFeatureStore</span><span class="p">,</span> <span class="n">kuzu</span><span class="o">.</span><span class="n">torch_geometric_graph_store</span><span class="o">.</span><span class="n">KuzuGraphStore</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="Database.get_torch_geometric_remote_backend-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Database.get_torch_geometric_remote_backend"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Database.get_torch_geometric_remote_backend-153"><a href="#Database.get_torch_geometric_remote_backend-153"><span class="linenos">153</span></a>    <span class="k">def</span> <span class="nf">get_torch_geometric_remote_backend</span><span class="p">(</span>
</span><span id="Database.get_torch_geometric_remote_backend-154"><a href="#Database.get_torch_geometric_remote_backend-154"><span class="linenos">154</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="Database.get_torch_geometric_remote_backend-155"><a href="#Database.get_torch_geometric_remote_backend-155"><span class="linenos">155</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">KuzuFeatureStore</span><span class="p">,</span> <span class="n">KuzuGraphStore</span><span class="p">]:</span>
</span><span id="Database.get_torch_geometric_remote_backend-156"><a href="#Database.get_torch_geometric_remote_backend-156"><span class="linenos">156</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Database.get_torch_geometric_remote_backend-157"><a href="#Database.get_torch_geometric_remote_backend-157"><span class="linenos">157</span></a><span class="sd">        Use the database as the remote backend for torch_geometric.</span>
</span><span id="Database.get_torch_geometric_remote_backend-158"><a href="#Database.get_torch_geometric_remote_backend-158"><span class="linenos">158</span></a>
</span><span id="Database.get_torch_geometric_remote_backend-159"><a href="#Database.get_torch_geometric_remote_backend-159"><span class="linenos">159</span></a><span class="sd">        For the interface of the remote backend, please refer to</span>
</span><span id="Database.get_torch_geometric_remote_backend-160"><a href="#Database.get_torch_geometric_remote_backend-160"><span class="linenos">160</span></a><span class="sd">        https://pytorch-geometric.readthedocs.io/en/latest/advanced/remote.html.</span>
</span><span id="Database.get_torch_geometric_remote_backend-161"><a href="#Database.get_torch_geometric_remote_backend-161"><span class="linenos">161</span></a><span class="sd">        The current implementation is read-only and does not support edge</span>
</span><span id="Database.get_torch_geometric_remote_backend-162"><a href="#Database.get_torch_geometric_remote_backend-162"><span class="linenos">162</span></a><span class="sd">        features. The IDs of the nodes are based on the internal IDs (i.e., node</span>
</span><span id="Database.get_torch_geometric_remote_backend-163"><a href="#Database.get_torch_geometric_remote_backend-163"><span class="linenos">163</span></a><span class="sd">        offsets). For the remote node IDs to be consistent with the positions in</span>
</span><span id="Database.get_torch_geometric_remote_backend-164"><a href="#Database.get_torch_geometric_remote_backend-164"><span class="linenos">164</span></a><span class="sd">        the output tensors, please ensure that no deletion has been performed</span>
</span><span id="Database.get_torch_geometric_remote_backend-165"><a href="#Database.get_torch_geometric_remote_backend-165"><span class="linenos">165</span></a><span class="sd">        on the node tables.</span>
</span><span id="Database.get_torch_geometric_remote_backend-166"><a href="#Database.get_torch_geometric_remote_backend-166"><span class="linenos">166</span></a>
</span><span id="Database.get_torch_geometric_remote_backend-167"><a href="#Database.get_torch_geometric_remote_backend-167"><span class="linenos">167</span></a><span class="sd">        The remote backend can also be plugged into the data loader of</span>
</span><span id="Database.get_torch_geometric_remote_backend-168"><a href="#Database.get_torch_geometric_remote_backend-168"><span class="linenos">168</span></a><span class="sd">        torch_geometric, which is useful for mini-batch training. For example:</span>
</span><span id="Database.get_torch_geometric_remote_backend-169"><a href="#Database.get_torch_geometric_remote_backend-169"><span class="linenos">169</span></a>
</span><span id="Database.get_torch_geometric_remote_backend-170"><a href="#Database.get_torch_geometric_remote_backend-170"><span class="linenos">170</span></a><span class="sd">        ```python</span>
</span><span id="Database.get_torch_geometric_remote_backend-171"><a href="#Database.get_torch_geometric_remote_backend-171"><span class="linenos">171</span></a><span class="sd">            loader_kuzu = NeighborLoader(</span>
</span><span id="Database.get_torch_geometric_remote_backend-172"><a href="#Database.get_torch_geometric_remote_backend-172"><span class="linenos">172</span></a><span class="sd">                data=(feature_store, graph_store),</span>
</span><span id="Database.get_torch_geometric_remote_backend-173"><a href="#Database.get_torch_geometric_remote_backend-173"><span class="linenos">173</span></a><span class="sd">                num_neighbors={(&#39;paper&#39;, &#39;cites&#39;, &#39;paper&#39;): [12, 12, 12]},</span>
</span><span id="Database.get_torch_geometric_remote_backend-174"><a href="#Database.get_torch_geometric_remote_backend-174"><span class="linenos">174</span></a><span class="sd">                batch_size=LOADER_BATCH_SIZE,</span>
</span><span id="Database.get_torch_geometric_remote_backend-175"><a href="#Database.get_torch_geometric_remote_backend-175"><span class="linenos">175</span></a><span class="sd">                input_nodes=(&#39;paper&#39;, input_nodes),</span>
</span><span id="Database.get_torch_geometric_remote_backend-176"><a href="#Database.get_torch_geometric_remote_backend-176"><span class="linenos">176</span></a><span class="sd">                num_workers=4,</span>
</span><span id="Database.get_torch_geometric_remote_backend-177"><a href="#Database.get_torch_geometric_remote_backend-177"><span class="linenos">177</span></a><span class="sd">                filter_per_worker=False,</span>
</span><span id="Database.get_torch_geometric_remote_backend-178"><a href="#Database.get_torch_geometric_remote_backend-178"><span class="linenos">178</span></a><span class="sd">            )</span>
</span><span id="Database.get_torch_geometric_remote_backend-179"><a href="#Database.get_torch_geometric_remote_backend-179"><span class="linenos">179</span></a><span class="sd">        ```</span>
</span><span id="Database.get_torch_geometric_remote_backend-180"><a href="#Database.get_torch_geometric_remote_backend-180"><span class="linenos">180</span></a>
</span><span id="Database.get_torch_geometric_remote_backend-181"><a href="#Database.get_torch_geometric_remote_backend-181"><span class="linenos">181</span></a><span class="sd">        Please note that the database instance is not fork-safe, so if more than</span>
</span><span id="Database.get_torch_geometric_remote_backend-182"><a href="#Database.get_torch_geometric_remote_backend-182"><span class="linenos">182</span></a><span class="sd">        one worker is used, `filter_per_worker` must be set to False.</span>
</span><span id="Database.get_torch_geometric_remote_backend-183"><a href="#Database.get_torch_geometric_remote_backend-183"><span class="linenos">183</span></a>
</span><span id="Database.get_torch_geometric_remote_backend-184"><a href="#Database.get_torch_geometric_remote_backend-184"><span class="linenos">184</span></a><span class="sd">        Parameters</span>
</span><span id="Database.get_torch_geometric_remote_backend-185"><a href="#Database.get_torch_geometric_remote_backend-185"><span class="linenos">185</span></a><span class="sd">        ----------</span>
</span><span id="Database.get_torch_geometric_remote_backend-186"><a href="#Database.get_torch_geometric_remote_backend-186"><span class="linenos">186</span></a><span class="sd">        num_threads : int</span>
</span><span id="Database.get_torch_geometric_remote_backend-187"><a href="#Database.get_torch_geometric_remote_backend-187"><span class="linenos">187</span></a><span class="sd">            Number of threads to use for data loading. Default to None, which</span>
</span><span id="Database.get_torch_geometric_remote_backend-188"><a href="#Database.get_torch_geometric_remote_backend-188"><span class="linenos">188</span></a><span class="sd">            means using the number of CPU cores.</span>
</span><span id="Database.get_torch_geometric_remote_backend-189"><a href="#Database.get_torch_geometric_remote_backend-189"><span class="linenos">189</span></a>
</span><span id="Database.get_torch_geometric_remote_backend-190"><a href="#Database.get_torch_geometric_remote_backend-190"><span class="linenos">190</span></a><span class="sd">        Returns</span>
</span><span id="Database.get_torch_geometric_remote_backend-191"><a href="#Database.get_torch_geometric_remote_backend-191"><span class="linenos">191</span></a><span class="sd">        -------</span>
</span><span id="Database.get_torch_geometric_remote_backend-192"><a href="#Database.get_torch_geometric_remote_backend-192"><span class="linenos">192</span></a><span class="sd">        feature_store : KuzuFeatureStore</span>
</span><span id="Database.get_torch_geometric_remote_backend-193"><a href="#Database.get_torch_geometric_remote_backend-193"><span class="linenos">193</span></a><span class="sd">            Feature store compatible with torch_geometric.</span>
</span><span id="Database.get_torch_geometric_remote_backend-194"><a href="#Database.get_torch_geometric_remote_backend-194"><span class="linenos">194</span></a><span class="sd">        graph_store : KuzuGraphStore</span>
</span><span id="Database.get_torch_geometric_remote_backend-195"><a href="#Database.get_torch_geometric_remote_backend-195"><span class="linenos">195</span></a><span class="sd">            Graph store compatible with torch_geometric.</span>
</span><span id="Database.get_torch_geometric_remote_backend-196"><a href="#Database.get_torch_geometric_remote_backend-196"><span class="linenos">196</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Database.get_torch_geometric_remote_backend-197"><a href="#Database.get_torch_geometric_remote_backend-197"><span class="linenos">197</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_database_close</span><span class="p">()</span>
</span><span id="Database.get_torch_geometric_remote_backend-198"><a href="#Database.get_torch_geometric_remote_backend-198"><span class="linenos">198</span></a>        <span class="kn">from</span> <span class="nn">.torch_geometric_feature_store</span> <span class="kn">import</span> <span class="n">KuzuFeatureStore</span>
</span><span id="Database.get_torch_geometric_remote_backend-199"><a href="#Database.get_torch_geometric_remote_backend-199"><span class="linenos">199</span></a>        <span class="kn">from</span> <span class="nn">.torch_geometric_graph_store</span> <span class="kn">import</span> <span class="n">KuzuGraphStore</span>
</span><span id="Database.get_torch_geometric_remote_backend-200"><a href="#Database.get_torch_geometric_remote_backend-200"><span class="linenos">200</span></a>
</span><span id="Database.get_torch_geometric_remote_backend-201"><a href="#Database.get_torch_geometric_remote_backend-201"><span class="linenos">201</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="Database.get_torch_geometric_remote_backend-202"><a href="#Database.get_torch_geometric_remote_backend-202"><span class="linenos">202</span></a>            <span class="n">KuzuFeatureStore</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">),</span>
</span><span id="Database.get_torch_geometric_remote_backend-203"><a href="#Database.get_torch_geometric_remote_backend-203"><span class="linenos">203</span></a>            <span class="n">KuzuGraphStore</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_threads</span><span class="p">),</span>
</span><span id="Database.get_torch_geometric_remote_backend-204"><a href="#Database.get_torch_geometric_remote_backend-204"><span class="linenos">204</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Use the database as the remote backend for torch_geometric.</p>

<p>For the interface of the remote backend, please refer to
<a href="https://pytorch-geometric.readthedocs.io/en/latest/advanced/remote.html">https://pytorch-geometric.readthedocs.io/en/latest/advanced/remote.html</a>.
The current implementation is read-only and does not support edge
features. The IDs of the nodes are based on the internal IDs (i.e., node
offsets). For the remote node IDs to be consistent with the positions in
the output tensors, please ensure that no deletion has been performed
on the node tables.</p>

<p>The remote backend can also be plugged into the data loader of
torch_geometric, which is useful for mini-batch training. For example:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code>    <span class="n">loader_kuzu</span> <span class="o">=</span> <span class="n">NeighborLoader</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="p">(</span><span class="n">feature_store</span><span class="p">,</span> <span class="n">graph_store</span><span class="p">),</span>
        <span class="n">num_neighbors</span><span class="o">=</span><span class="p">{(</span><span class="s1">&#39;paper&#39;</span><span class="p">,</span> <span class="s1">&#39;cites&#39;</span><span class="p">,</span> <span class="s1">&#39;paper&#39;</span><span class="p">):</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">]},</span>
        <span class="n">batch_size</span><span class="o">=</span><span class="n">LOADER_BATCH_SIZE</span><span class="p">,</span>
        <span class="n">input_nodes</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;paper&#39;</span><span class="p">,</span> <span class="n">input_nodes</span><span class="p">),</span>
        <span class="n">num_workers</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
        <span class="n">filter_per_worker</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre>
</div>

<p>Please note that the database instance is not fork-safe, so if more than
one worker is used, <code>filter_per_worker</code> must be set to False.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>num_threads</strong> (int):
Number of threads to use for data loading. Default to None, which
means using the number of CPU cores.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>feature_store</strong> (KuzuFeatureStore):
Feature store compatible with torch_geometric.</li>
<li><strong>graph_store</strong> (KuzuGraphStore):
Graph store compatible with torch_geometric.</li>
</ul>
</div>


                            </div>
                            <div id="Database.close" class="classattr">
                                        <input id="Database.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Database.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Database.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Database.close-248"><a href="#Database.close-248"><span class="linenos">248</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database.close-249"><a href="#Database.close-249"><span class="linenos">249</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Database.close-250"><a href="#Database.close-250"><span class="linenos">250</span></a><span class="sd">        Close the database. Once the database is closed, the lock on the database</span>
</span><span id="Database.close-251"><a href="#Database.close-251"><span class="linenos">251</span></a><span class="sd">        files is released and the database can be opened in another process.</span>
</span><span id="Database.close-252"><a href="#Database.close-252"><span class="linenos">252</span></a>
</span><span id="Database.close-253"><a href="#Database.close-253"><span class="linenos">253</span></a><span class="sd">        Note: Call to this method is not required. The Python garbage collector</span>
</span><span id="Database.close-254"><a href="#Database.close-254"><span class="linenos">254</span></a><span class="sd">        will automatically close the database when no references to the database</span>
</span><span id="Database.close-255"><a href="#Database.close-255"><span class="linenos">255</span></a><span class="sd">        object exist. It is recommended not to call this method explicitly. If you</span>
</span><span id="Database.close-256"><a href="#Database.close-256"><span class="linenos">256</span></a><span class="sd">        decide to manually close the database, make sure that all the QueryResult</span>
</span><span id="Database.close-257"><a href="#Database.close-257"><span class="linenos">257</span></a><span class="sd">        and Connection objects are closed before calling this method.</span>
</span><span id="Database.close-258"><a href="#Database.close-258"><span class="linenos">258</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Database.close-259"><a href="#Database.close-259"><span class="linenos">259</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span><span class="p">:</span>
</span><span id="Database.close-260"><a href="#Database.close-260"><span class="linenos">260</span></a>            <span class="k">return</span>
</span><span id="Database.close-261"><a href="#Database.close-261"><span class="linenos">261</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Database.close-262"><a href="#Database.close-262"><span class="linenos">262</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_database</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database.close-263"><a href="#Database.close-263"><span class="linenos">263</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_database</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="Database.close-264"><a href="#Database.close-264"><span class="linenos">264</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_database</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># (type: _kuzu.Database from pybind11)</span>
</span></pre></div>


            <div class="docstring"><p>Close the database. Once the database is closed, the lock on the database
files is released and the database can be opened in another process.</p>

<p>Note: Call to this method is not required. The Python garbage collector
will automatically close the database when no references to the database
object exist. It is recommended not to call this method explicitly. If you
decide to manually close the database, make sure that all the QueryResult
and Connection objects are closed before calling this method.</p>
</div>


                            </div>
                            <div id="Database.check_for_database_close" class="classattr">
                                        <input id="Database.check_for_database_close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">check_for_database_close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="Database.check_for_database_close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Database.check_for_database_close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Database.check_for_database_close-266"><a href="#Database.check_for_database_close-266"><span class="linenos">266</span></a>    <span class="k">def</span> <span class="nf">check_for_database_close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="Database.check_for_database_close-267"><a href="#Database.check_for_database_close-267"><span class="linenos">267</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="Database.check_for_database_close-268"><a href="#Database.check_for_database_close-268"><span class="linenos">268</span></a><span class="sd">        Check if the database is closed and raise an exception if it is.</span>
</span><span id="Database.check_for_database_close-269"><a href="#Database.check_for_database_close-269"><span class="linenos">269</span></a>
</span><span id="Database.check_for_database_close-270"><a href="#Database.check_for_database_close-270"><span class="linenos">270</span></a><span class="sd">        Raises</span>
</span><span id="Database.check_for_database_close-271"><a href="#Database.check_for_database_close-271"><span class="linenos">271</span></a><span class="sd">        ------</span>
</span><span id="Database.check_for_database_close-272"><a href="#Database.check_for_database_close-272"><span class="linenos">272</span></a><span class="sd">        Exception</span>
</span><span id="Database.check_for_database_close-273"><a href="#Database.check_for_database_close-273"><span class="linenos">273</span></a><span class="sd">            If the database is closed.</span>
</span><span id="Database.check_for_database_close-274"><a href="#Database.check_for_database_close-274"><span class="linenos">274</span></a>
</span><span id="Database.check_for_database_close-275"><a href="#Database.check_for_database_close-275"><span class="linenos">275</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="Database.check_for_database_close-276"><a href="#Database.check_for_database_close-276"><span class="linenos">276</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span><span class="p">:</span>
</span><span id="Database.check_for_database_close-277"><a href="#Database.check_for_database_close-277"><span class="linenos">277</span></a>            <span class="k">return</span>
</span><span id="Database.check_for_database_close-278"><a href="#Database.check_for_database_close-278"><span class="linenos">278</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Database is closed&quot;</span>
</span><span id="Database.check_for_database_close-279"><a href="#Database.check_for_database_close-279"><span class="linenos">279</span></a>        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Check if the database is closed and raise an exception if it is.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>Exception</strong>: If the database is closed.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="PreparedStatement">
                            <input id="PreparedStatement-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">PreparedStatement</span>:

                <label class="view-source-button" for="PreparedStatement-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PreparedStatement"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PreparedStatement-10"><a href="#PreparedStatement-10"><span class="linenos">10</span></a><span class="k">class</span> <span class="nc">PreparedStatement</span><span class="p">:</span>
</span><span id="PreparedStatement-11"><a href="#PreparedStatement-11"><span class="linenos">11</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PreparedStatement-12"><a href="#PreparedStatement-12"><span class="linenos">12</span></a><span class="sd">    A prepared statement is a parameterized query which can avoid planning the</span>
</span><span id="PreparedStatement-13"><a href="#PreparedStatement-13"><span class="linenos">13</span></a><span class="sd">    same query for repeated execution.</span>
</span><span id="PreparedStatement-14"><a href="#PreparedStatement-14"><span class="linenos">14</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="PreparedStatement-15"><a href="#PreparedStatement-15"><span class="linenos">15</span></a>
</span><span id="PreparedStatement-16"><a href="#PreparedStatement-16"><span class="linenos">16</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connection</span><span class="p">:</span> <span class="n">Connection</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="PreparedStatement-17"><a href="#PreparedStatement-17"><span class="linenos">17</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PreparedStatement-18"><a href="#PreparedStatement-18"><span class="linenos">18</span></a><span class="sd">        Parameters</span>
</span><span id="PreparedStatement-19"><a href="#PreparedStatement-19"><span class="linenos">19</span></a><span class="sd">        ----------</span>
</span><span id="PreparedStatement-20"><a href="#PreparedStatement-20"><span class="linenos">20</span></a><span class="sd">        connection : Connection</span>
</span><span id="PreparedStatement-21"><a href="#PreparedStatement-21"><span class="linenos">21</span></a><span class="sd">            Connection to a database.</span>
</span><span id="PreparedStatement-22"><a href="#PreparedStatement-22"><span class="linenos">22</span></a><span class="sd">        query : str</span>
</span><span id="PreparedStatement-23"><a href="#PreparedStatement-23"><span class="linenos">23</span></a><span class="sd">            Query to prepare.</span>
</span><span id="PreparedStatement-24"><a href="#PreparedStatement-24"><span class="linenos">24</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PreparedStatement-25"><a href="#PreparedStatement-25"><span class="linenos">25</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_prepared_statement</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span><span id="PreparedStatement-26"><a href="#PreparedStatement-26"><span class="linenos">26</span></a>
</span><span id="PreparedStatement-27"><a href="#PreparedStatement-27"><span class="linenos">27</span></a>    <span class="k">def</span> <span class="nf">is_success</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="PreparedStatement-28"><a href="#PreparedStatement-28"><span class="linenos">28</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PreparedStatement-29"><a href="#PreparedStatement-29"><span class="linenos">29</span></a><span class="sd">        Check if the prepared statement is successfully prepared.</span>
</span><span id="PreparedStatement-30"><a href="#PreparedStatement-30"><span class="linenos">30</span></a>
</span><span id="PreparedStatement-31"><a href="#PreparedStatement-31"><span class="linenos">31</span></a><span class="sd">        Returns</span>
</span><span id="PreparedStatement-32"><a href="#PreparedStatement-32"><span class="linenos">32</span></a><span class="sd">        -------</span>
</span><span id="PreparedStatement-33"><a href="#PreparedStatement-33"><span class="linenos">33</span></a><span class="sd">        bool</span>
</span><span id="PreparedStatement-34"><a href="#PreparedStatement-34"><span class="linenos">34</span></a><span class="sd">            True if the prepared statement is successfully prepared.</span>
</span><span id="PreparedStatement-35"><a href="#PreparedStatement-35"><span class="linenos">35</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PreparedStatement-36"><a href="#PreparedStatement-36"><span class="linenos">36</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepared_statement</span><span class="o">.</span><span class="n">is_success</span><span class="p">()</span>
</span><span id="PreparedStatement-37"><a href="#PreparedStatement-37"><span class="linenos">37</span></a>
</span><span id="PreparedStatement-38"><a href="#PreparedStatement-38"><span class="linenos">38</span></a>    <span class="k">def</span> <span class="nf">get_error_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="PreparedStatement-39"><a href="#PreparedStatement-39"><span class="linenos">39</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PreparedStatement-40"><a href="#PreparedStatement-40"><span class="linenos">40</span></a><span class="sd">        Get the error message if the query is not prepared successfully.</span>
</span><span id="PreparedStatement-41"><a href="#PreparedStatement-41"><span class="linenos">41</span></a>
</span><span id="PreparedStatement-42"><a href="#PreparedStatement-42"><span class="linenos">42</span></a><span class="sd">        Returns</span>
</span><span id="PreparedStatement-43"><a href="#PreparedStatement-43"><span class="linenos">43</span></a><span class="sd">        -------</span>
</span><span id="PreparedStatement-44"><a href="#PreparedStatement-44"><span class="linenos">44</span></a><span class="sd">        str</span>
</span><span id="PreparedStatement-45"><a href="#PreparedStatement-45"><span class="linenos">45</span></a><span class="sd">            Error message.</span>
</span><span id="PreparedStatement-46"><a href="#PreparedStatement-46"><span class="linenos">46</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PreparedStatement-47"><a href="#PreparedStatement-47"><span class="linenos">47</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepared_statement</span><span class="o">.</span><span class="n">get_error_message</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>A prepared statement is a parameterized query which can avoid planning the
same query for repeated execution.</p>
</div>


                            <div id="PreparedStatement.__init__" class="classattr">
                                        <input id="PreparedStatement.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">PreparedStatement</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">connection</span><span class="p">:</span> <span class="n"><a href="#Connection">Connection</a></span>, </span><span class="param"><span class="n">query</span><span class="p">:</span> <span class="nb">str</span></span>)</span>

                <label class="view-source-button" for="PreparedStatement.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PreparedStatement.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PreparedStatement.__init__-16"><a href="#PreparedStatement.__init__-16"><span class="linenos">16</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connection</span><span class="p">:</span> <span class="n">Connection</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="PreparedStatement.__init__-17"><a href="#PreparedStatement.__init__-17"><span class="linenos">17</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PreparedStatement.__init__-18"><a href="#PreparedStatement.__init__-18"><span class="linenos">18</span></a><span class="sd">        Parameters</span>
</span><span id="PreparedStatement.__init__-19"><a href="#PreparedStatement.__init__-19"><span class="linenos">19</span></a><span class="sd">        ----------</span>
</span><span id="PreparedStatement.__init__-20"><a href="#PreparedStatement.__init__-20"><span class="linenos">20</span></a><span class="sd">        connection : Connection</span>
</span><span id="PreparedStatement.__init__-21"><a href="#PreparedStatement.__init__-21"><span class="linenos">21</span></a><span class="sd">            Connection to a database.</span>
</span><span id="PreparedStatement.__init__-22"><a href="#PreparedStatement.__init__-22"><span class="linenos">22</span></a><span class="sd">        query : str</span>
</span><span id="PreparedStatement.__init__-23"><a href="#PreparedStatement.__init__-23"><span class="linenos">23</span></a><span class="sd">            Query to prepare.</span>
</span><span id="PreparedStatement.__init__-24"><a href="#PreparedStatement.__init__-24"><span class="linenos">24</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PreparedStatement.__init__-25"><a href="#PreparedStatement.__init__-25"><span class="linenos">25</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_prepared_statement</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">_connection</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><h6 id="parameters">Parameters</h6>

<ul>
<li><strong>connection</strong> (Connection):
Connection to a database.</li>
<li><strong>query</strong> (str):
Query to prepare.</li>
</ul>
</div>


                            </div>
                            <div id="PreparedStatement.is_success" class="classattr">
                                        <input id="PreparedStatement.is_success-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_success</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="PreparedStatement.is_success-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PreparedStatement.is_success"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PreparedStatement.is_success-27"><a href="#PreparedStatement.is_success-27"><span class="linenos">27</span></a>    <span class="k">def</span> <span class="nf">is_success</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="PreparedStatement.is_success-28"><a href="#PreparedStatement.is_success-28"><span class="linenos">28</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PreparedStatement.is_success-29"><a href="#PreparedStatement.is_success-29"><span class="linenos">29</span></a><span class="sd">        Check if the prepared statement is successfully prepared.</span>
</span><span id="PreparedStatement.is_success-30"><a href="#PreparedStatement.is_success-30"><span class="linenos">30</span></a>
</span><span id="PreparedStatement.is_success-31"><a href="#PreparedStatement.is_success-31"><span class="linenos">31</span></a><span class="sd">        Returns</span>
</span><span id="PreparedStatement.is_success-32"><a href="#PreparedStatement.is_success-32"><span class="linenos">32</span></a><span class="sd">        -------</span>
</span><span id="PreparedStatement.is_success-33"><a href="#PreparedStatement.is_success-33"><span class="linenos">33</span></a><span class="sd">        bool</span>
</span><span id="PreparedStatement.is_success-34"><a href="#PreparedStatement.is_success-34"><span class="linenos">34</span></a><span class="sd">            True if the prepared statement is successfully prepared.</span>
</span><span id="PreparedStatement.is_success-35"><a href="#PreparedStatement.is_success-35"><span class="linenos">35</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PreparedStatement.is_success-36"><a href="#PreparedStatement.is_success-36"><span class="linenos">36</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepared_statement</span><span class="o">.</span><span class="n">is_success</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Check if the prepared statement is successfully prepared.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>bool</strong>: True if the prepared statement is successfully prepared.</li>
</ul>
</div>


                            </div>
                            <div id="PreparedStatement.get_error_message" class="classattr">
                                        <input id="PreparedStatement.get_error_message-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_error_message</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="PreparedStatement.get_error_message-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PreparedStatement.get_error_message"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PreparedStatement.get_error_message-38"><a href="#PreparedStatement.get_error_message-38"><span class="linenos">38</span></a>    <span class="k">def</span> <span class="nf">get_error_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="PreparedStatement.get_error_message-39"><a href="#PreparedStatement.get_error_message-39"><span class="linenos">39</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PreparedStatement.get_error_message-40"><a href="#PreparedStatement.get_error_message-40"><span class="linenos">40</span></a><span class="sd">        Get the error message if the query is not prepared successfully.</span>
</span><span id="PreparedStatement.get_error_message-41"><a href="#PreparedStatement.get_error_message-41"><span class="linenos">41</span></a>
</span><span id="PreparedStatement.get_error_message-42"><a href="#PreparedStatement.get_error_message-42"><span class="linenos">42</span></a><span class="sd">        Returns</span>
</span><span id="PreparedStatement.get_error_message-43"><a href="#PreparedStatement.get_error_message-43"><span class="linenos">43</span></a><span class="sd">        -------</span>
</span><span id="PreparedStatement.get_error_message-44"><a href="#PreparedStatement.get_error_message-44"><span class="linenos">44</span></a><span class="sd">        str</span>
</span><span id="PreparedStatement.get_error_message-45"><a href="#PreparedStatement.get_error_message-45"><span class="linenos">45</span></a><span class="sd">            Error message.</span>
</span><span id="PreparedStatement.get_error_message-46"><a href="#PreparedStatement.get_error_message-46"><span class="linenos">46</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="PreparedStatement.get_error_message-47"><a href="#PreparedStatement.get_error_message-47"><span class="linenos">47</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepared_statement</span><span class="o">.</span><span class="n">get_error_message</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get the error message if the query is not prepared successfully.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>str</strong>: Error message.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="QueryResult">
                            <input id="QueryResult-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">QueryResult</span>:

                <label class="view-source-button" for="QueryResult-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult-27"><a href="#QueryResult-27"><span class="linenos"> 27</span></a><span class="k">class</span> <span class="nc">QueryResult</span><span class="p">:</span>
</span><span id="QueryResult-28"><a href="#QueryResult-28"><span class="linenos"> 28</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;QueryResult stores the result of a query execution.&quot;&quot;&quot;</span>
</span><span id="QueryResult-29"><a href="#QueryResult-29"><span class="linenos"> 29</span></a>
</span><span id="QueryResult-30"><a href="#QueryResult-30"><span class="linenos"> 30</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connection</span><span class="p">:</span> <span class="n">_kuzu</span><span class="o">.</span><span class="n">Connection</span><span class="p">,</span> <span class="n">query_result</span><span class="p">:</span> <span class="n">_kuzu</span><span class="o">.</span><span class="n">QueryResult</span><span class="p">):</span>  <span class="c1"># type: ignore[name-defined]</span>
</span><span id="QueryResult-31"><a href="#QueryResult-31"><span class="linenos"> 31</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-32"><a href="#QueryResult-32"><span class="linenos"> 32</span></a><span class="sd">        Parameters</span>
</span><span id="QueryResult-33"><a href="#QueryResult-33"><span class="linenos"> 33</span></a><span class="sd">        ----------</span>
</span><span id="QueryResult-34"><a href="#QueryResult-34"><span class="linenos"> 34</span></a><span class="sd">        connection : _kuzu.Connection</span>
</span><span id="QueryResult-35"><a href="#QueryResult-35"><span class="linenos"> 35</span></a><span class="sd">            The underlying C++ connection object from pybind11.</span>
</span><span id="QueryResult-36"><a href="#QueryResult-36"><span class="linenos"> 36</span></a>
</span><span id="QueryResult-37"><a href="#QueryResult-37"><span class="linenos"> 37</span></a><span class="sd">        query_result : _kuzu.QueryResult</span>
</span><span id="QueryResult-38"><a href="#QueryResult-38"><span class="linenos"> 38</span></a><span class="sd">            The underlying C++ query result object from pybind11.</span>
</span><span id="QueryResult-39"><a href="#QueryResult-39"><span class="linenos"> 39</span></a>
</span><span id="QueryResult-40"><a href="#QueryResult-40"><span class="linenos"> 40</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-41"><a href="#QueryResult-41"><span class="linenos"> 41</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">connection</span> <span class="o">=</span> <span class="n">connection</span>
</span><span id="QueryResult-42"><a href="#QueryResult-42"><span class="linenos"> 42</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span> <span class="o">=</span> <span class="n">query_result</span>
</span><span id="QueryResult-43"><a href="#QueryResult-43"><span class="linenos"> 43</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="QueryResult-44"><a href="#QueryResult-44"><span class="linenos"> 44</span></a>
</span><span id="QueryResult-45"><a href="#QueryResult-45"><span class="linenos"> 45</span></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
</span><span id="QueryResult-46"><a href="#QueryResult-46"><span class="linenos"> 46</span></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="QueryResult-47"><a href="#QueryResult-47"><span class="linenos"> 47</span></a>
</span><span id="QueryResult-48"><a href="#QueryResult-48"><span class="linenos"> 48</span></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span>
</span><span id="QueryResult-49"><a href="#QueryResult-49"><span class="linenos"> 49</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="QueryResult-50"><a href="#QueryResult-50"><span class="linenos"> 50</span></a>        <span class="n">exc_type</span><span class="p">:</span> <span class="nb">type</span><span class="p">[</span><span class="ne">BaseException</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="QueryResult-51"><a href="#QueryResult-51"><span class="linenos"> 51</span></a>        <span class="n">exc_value</span><span class="p">:</span> <span class="ne">BaseException</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="QueryResult-52"><a href="#QueryResult-52"><span class="linenos"> 52</span></a>        <span class="n">exc_traceback</span><span class="p">:</span> <span class="n">TracebackType</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="QueryResult-53"><a href="#QueryResult-53"><span class="linenos"> 53</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="QueryResult-54"><a href="#QueryResult-54"><span class="linenos"> 54</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="QueryResult-55"><a href="#QueryResult-55"><span class="linenos"> 55</span></a>
</span><span id="QueryResult-56"><a href="#QueryResult-56"><span class="linenos"> 56</span></a>    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="QueryResult-57"><a href="#QueryResult-57"><span class="linenos"> 57</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="QueryResult-58"><a href="#QueryResult-58"><span class="linenos"> 58</span></a>
</span><span id="QueryResult-59"><a href="#QueryResult-59"><span class="linenos"> 59</span></a>    <span class="k">def</span> <span class="nf">check_for_query_result_close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="QueryResult-60"><a href="#QueryResult-60"><span class="linenos"> 60</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-61"><a href="#QueryResult-61"><span class="linenos"> 61</span></a><span class="sd">        Check if the query result is closed and raise an exception if it is.</span>
</span><span id="QueryResult-62"><a href="#QueryResult-62"><span class="linenos"> 62</span></a>
</span><span id="QueryResult-63"><a href="#QueryResult-63"><span class="linenos"> 63</span></a><span class="sd">        Raises</span>
</span><span id="QueryResult-64"><a href="#QueryResult-64"><span class="linenos"> 64</span></a><span class="sd">        ------</span>
</span><span id="QueryResult-65"><a href="#QueryResult-65"><span class="linenos"> 65</span></a><span class="sd">        Exception</span>
</span><span id="QueryResult-66"><a href="#QueryResult-66"><span class="linenos"> 66</span></a><span class="sd">            If the query result is closed.</span>
</span><span id="QueryResult-67"><a href="#QueryResult-67"><span class="linenos"> 67</span></a>
</span><span id="QueryResult-68"><a href="#QueryResult-68"><span class="linenos"> 68</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-69"><a href="#QueryResult-69"><span class="linenos"> 69</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span><span class="p">:</span>
</span><span id="QueryResult-70"><a href="#QueryResult-70"><span class="linenos"> 70</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Query result is closed&quot;</span>
</span><span id="QueryResult-71"><a href="#QueryResult-71"><span class="linenos"> 71</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="QueryResult-72"><a href="#QueryResult-72"><span class="linenos"> 72</span></a>
</span><span id="QueryResult-73"><a href="#QueryResult-73"><span class="linenos"> 73</span></a>    <span class="k">def</span> <span class="nf">has_next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="QueryResult-74"><a href="#QueryResult-74"><span class="linenos"> 74</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-75"><a href="#QueryResult-75"><span class="linenos"> 75</span></a><span class="sd">        Check if there are more rows in the query result.</span>
</span><span id="QueryResult-76"><a href="#QueryResult-76"><span class="linenos"> 76</span></a>
</span><span id="QueryResult-77"><a href="#QueryResult-77"><span class="linenos"> 77</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult-78"><a href="#QueryResult-78"><span class="linenos"> 78</span></a><span class="sd">        -------</span>
</span><span id="QueryResult-79"><a href="#QueryResult-79"><span class="linenos"> 79</span></a><span class="sd">        bool</span>
</span><span id="QueryResult-80"><a href="#QueryResult-80"><span class="linenos"> 80</span></a><span class="sd">            True if there are more rows in the query result, False otherwise.</span>
</span><span id="QueryResult-81"><a href="#QueryResult-81"><span class="linenos"> 81</span></a>
</span><span id="QueryResult-82"><a href="#QueryResult-82"><span class="linenos"> 82</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-83"><a href="#QueryResult-83"><span class="linenos"> 83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-84"><a href="#QueryResult-84"><span class="linenos"> 84</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">hasNext</span><span class="p">()</span>
</span><span id="QueryResult-85"><a href="#QueryResult-85"><span class="linenos"> 85</span></a>
</span><span id="QueryResult-86"><a href="#QueryResult-86"><span class="linenos"> 86</span></a>    <span class="k">def</span> <span class="nf">get_next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="QueryResult-87"><a href="#QueryResult-87"><span class="linenos"> 87</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-88"><a href="#QueryResult-88"><span class="linenos"> 88</span></a><span class="sd">        Get the next row in the query result.</span>
</span><span id="QueryResult-89"><a href="#QueryResult-89"><span class="linenos"> 89</span></a>
</span><span id="QueryResult-90"><a href="#QueryResult-90"><span class="linenos"> 90</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult-91"><a href="#QueryResult-91"><span class="linenos"> 91</span></a><span class="sd">        -------</span>
</span><span id="QueryResult-92"><a href="#QueryResult-92"><span class="linenos"> 92</span></a><span class="sd">        list</span>
</span><span id="QueryResult-93"><a href="#QueryResult-93"><span class="linenos"> 93</span></a><span class="sd">            Next row in the query result.</span>
</span><span id="QueryResult-94"><a href="#QueryResult-94"><span class="linenos"> 94</span></a>
</span><span id="QueryResult-95"><a href="#QueryResult-95"><span class="linenos"> 95</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-96"><a href="#QueryResult-96"><span class="linenos"> 96</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-97"><a href="#QueryResult-97"><span class="linenos"> 97</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
</span><span id="QueryResult-98"><a href="#QueryResult-98"><span class="linenos"> 98</span></a>
</span><span id="QueryResult-99"><a href="#QueryResult-99"><span class="linenos"> 99</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="QueryResult-100"><a href="#QueryResult-100"><span class="linenos">100</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the query result.&quot;&quot;&quot;</span>
</span><span id="QueryResult-101"><a href="#QueryResult-101"><span class="linenos">101</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span><span class="p">:</span>
</span><span id="QueryResult-102"><a href="#QueryResult-102"><span class="linenos">102</span></a>            <span class="c1"># Allows the connection to be garbage collected if the query result</span>
</span><span id="QueryResult-103"><a href="#QueryResult-103"><span class="linenos">103</span></a>            <span class="c1"># is closed manually by the user.</span>
</span><span id="QueryResult-104"><a href="#QueryResult-104"><span class="linenos">104</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="QueryResult-105"><a href="#QueryResult-105"><span class="linenos">105</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="QueryResult-106"><a href="#QueryResult-106"><span class="linenos">106</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="QueryResult-107"><a href="#QueryResult-107"><span class="linenos">107</span></a>
</span><span id="QueryResult-108"><a href="#QueryResult-108"><span class="linenos">108</span></a>    <span class="k">def</span> <span class="nf">get_as_df</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="QueryResult-109"><a href="#QueryResult-109"><span class="linenos">109</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-110"><a href="#QueryResult-110"><span class="linenos">110</span></a><span class="sd">        Get the query result as a Pandas DataFrame.</span>
</span><span id="QueryResult-111"><a href="#QueryResult-111"><span class="linenos">111</span></a>
</span><span id="QueryResult-112"><a href="#QueryResult-112"><span class="linenos">112</span></a><span class="sd">        See Also</span>
</span><span id="QueryResult-113"><a href="#QueryResult-113"><span class="linenos">113</span></a><span class="sd">        --------</span>
</span><span id="QueryResult-114"><a href="#QueryResult-114"><span class="linenos">114</span></a><span class="sd">        get_as_pl : Get the query result as a Polars DataFrame.</span>
</span><span id="QueryResult-115"><a href="#QueryResult-115"><span class="linenos">115</span></a><span class="sd">        get_as_arrow : Get the query result as a PyArrow Table.</span>
</span><span id="QueryResult-116"><a href="#QueryResult-116"><span class="linenos">116</span></a>
</span><span id="QueryResult-117"><a href="#QueryResult-117"><span class="linenos">117</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult-118"><a href="#QueryResult-118"><span class="linenos">118</span></a><span class="sd">        -------</span>
</span><span id="QueryResult-119"><a href="#QueryResult-119"><span class="linenos">119</span></a><span class="sd">        pandas.DataFrame</span>
</span><span id="QueryResult-120"><a href="#QueryResult-120"><span class="linenos">120</span></a><span class="sd">            Query result as a Pandas DataFrame.</span>
</span><span id="QueryResult-121"><a href="#QueryResult-121"><span class="linenos">121</span></a>
</span><span id="QueryResult-122"><a href="#QueryResult-122"><span class="linenos">122</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-123"><a href="#QueryResult-123"><span class="linenos">123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-124"><a href="#QueryResult-124"><span class="linenos">124</span></a>
</span><span id="QueryResult-125"><a href="#QueryResult-125"><span class="linenos">125</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getAsDF</span><span class="p">()</span>
</span><span id="QueryResult-126"><a href="#QueryResult-126"><span class="linenos">126</span></a>
</span><span id="QueryResult-127"><a href="#QueryResult-127"><span class="linenos">127</span></a>    <span class="k">def</span> <span class="nf">get_as_pl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="QueryResult-128"><a href="#QueryResult-128"><span class="linenos">128</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-129"><a href="#QueryResult-129"><span class="linenos">129</span></a><span class="sd">        Get the query result as a Polars DataFrame.</span>
</span><span id="QueryResult-130"><a href="#QueryResult-130"><span class="linenos">130</span></a>
</span><span id="QueryResult-131"><a href="#QueryResult-131"><span class="linenos">131</span></a><span class="sd">        See Also</span>
</span><span id="QueryResult-132"><a href="#QueryResult-132"><span class="linenos">132</span></a><span class="sd">        --------</span>
</span><span id="QueryResult-133"><a href="#QueryResult-133"><span class="linenos">133</span></a><span class="sd">        get_as_df : Get the query result as a Pandas DataFrame.</span>
</span><span id="QueryResult-134"><a href="#QueryResult-134"><span class="linenos">134</span></a><span class="sd">        get_as_arrow : Get the query result as a PyArrow Table.</span>
</span><span id="QueryResult-135"><a href="#QueryResult-135"><span class="linenos">135</span></a>
</span><span id="QueryResult-136"><a href="#QueryResult-136"><span class="linenos">136</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult-137"><a href="#QueryResult-137"><span class="linenos">137</span></a><span class="sd">        -------</span>
</span><span id="QueryResult-138"><a href="#QueryResult-138"><span class="linenos">138</span></a><span class="sd">        polars.DataFrame</span>
</span><span id="QueryResult-139"><a href="#QueryResult-139"><span class="linenos">139</span></a><span class="sd">            Query result as a Polars DataFrame.</span>
</span><span id="QueryResult-140"><a href="#QueryResult-140"><span class="linenos">140</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-141"><a href="#QueryResult-141"><span class="linenos">141</span></a>        <span class="kn">import</span> <span class="nn">polars</span> <span class="k">as</span> <span class="nn">pl</span>
</span><span id="QueryResult-142"><a href="#QueryResult-142"><span class="linenos">142</span></a>
</span><span id="QueryResult-143"><a href="#QueryResult-143"><span class="linenos">143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-144"><a href="#QueryResult-144"><span class="linenos">144</span></a>
</span><span id="QueryResult-145"><a href="#QueryResult-145"><span class="linenos">145</span></a>        <span class="c1"># note: polars should always export just a single chunk,</span>
</span><span id="QueryResult-146"><a href="#QueryResult-146"><span class="linenos">146</span></a>        <span class="c1"># (eg: &quot;-1&quot;) otherwise it will just need to rechunk anyway</span>
</span><span id="QueryResult-147"><a href="#QueryResult-147"><span class="linenos">147</span></a>        <span class="k">return</span> <span class="n">pl</span><span class="o">.</span><span class="n">from_arrow</span><span class="p">(</span>  <span class="c1"># type: ignore[return-value]</span>
</span><span id="QueryResult-148"><a href="#QueryResult-148"><span class="linenos">148</span></a>            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_as_arrow</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span>
</span><span id="QueryResult-149"><a href="#QueryResult-149"><span class="linenos">149</span></a>        <span class="p">)</span>
</span><span id="QueryResult-150"><a href="#QueryResult-150"><span class="linenos">150</span></a>
</span><span id="QueryResult-151"><a href="#QueryResult-151"><span class="linenos">151</span></a>    <span class="k">def</span> <span class="nf">get_as_arrow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chunk_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="p">:</span>
</span><span id="QueryResult-152"><a href="#QueryResult-152"><span class="linenos">152</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-153"><a href="#QueryResult-153"><span class="linenos">153</span></a><span class="sd">        Get the query result as a PyArrow Table.</span>
</span><span id="QueryResult-154"><a href="#QueryResult-154"><span class="linenos">154</span></a>
</span><span id="QueryResult-155"><a href="#QueryResult-155"><span class="linenos">155</span></a><span class="sd">        Parameters</span>
</span><span id="QueryResult-156"><a href="#QueryResult-156"><span class="linenos">156</span></a><span class="sd">        ----------</span>
</span><span id="QueryResult-157"><a href="#QueryResult-157"><span class="linenos">157</span></a><span class="sd">        chunk_size : Number of rows to include in each chunk.</span>
</span><span id="QueryResult-158"><a href="#QueryResult-158"><span class="linenos">158</span></a><span class="sd">            None</span>
</span><span id="QueryResult-159"><a href="#QueryResult-159"><span class="linenos">159</span></a><span class="sd">                The chunk size is adaptive and depends on the number of columns in the query result.</span>
</span><span id="QueryResult-160"><a href="#QueryResult-160"><span class="linenos">160</span></a><span class="sd">            -1 or 0</span>
</span><span id="QueryResult-161"><a href="#QueryResult-161"><span class="linenos">161</span></a><span class="sd">                The entire result is returned as a single chunk.</span>
</span><span id="QueryResult-162"><a href="#QueryResult-162"><span class="linenos">162</span></a><span class="sd">            &gt; 0</span>
</span><span id="QueryResult-163"><a href="#QueryResult-163"><span class="linenos">163</span></a><span class="sd">                The chunk size is the number of rows specified.</span>
</span><span id="QueryResult-164"><a href="#QueryResult-164"><span class="linenos">164</span></a>
</span><span id="QueryResult-165"><a href="#QueryResult-165"><span class="linenos">165</span></a><span class="sd">        See Also</span>
</span><span id="QueryResult-166"><a href="#QueryResult-166"><span class="linenos">166</span></a><span class="sd">        --------</span>
</span><span id="QueryResult-167"><a href="#QueryResult-167"><span class="linenos">167</span></a><span class="sd">        get_as_pl : Get the query result as a Polars DataFrame.</span>
</span><span id="QueryResult-168"><a href="#QueryResult-168"><span class="linenos">168</span></a><span class="sd">        get_as_df : Get the query result as a Pandas DataFrame.</span>
</span><span id="QueryResult-169"><a href="#QueryResult-169"><span class="linenos">169</span></a>
</span><span id="QueryResult-170"><a href="#QueryResult-170"><span class="linenos">170</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult-171"><a href="#QueryResult-171"><span class="linenos">171</span></a><span class="sd">        -------</span>
</span><span id="QueryResult-172"><a href="#QueryResult-172"><span class="linenos">172</span></a><span class="sd">        pyarrow.Table</span>
</span><span id="QueryResult-173"><a href="#QueryResult-173"><span class="linenos">173</span></a><span class="sd">            Query result as a PyArrow Table.</span>
</span><span id="QueryResult-174"><a href="#QueryResult-174"><span class="linenos">174</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-175"><a href="#QueryResult-175"><span class="linenos">175</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-176"><a href="#QueryResult-176"><span class="linenos">176</span></a>
</span><span id="QueryResult-177"><a href="#QueryResult-177"><span class="linenos">177</span></a>        <span class="k">if</span> <span class="n">chunk_size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="QueryResult-178"><a href="#QueryResult-178"><span class="linenos">178</span></a>            <span class="c1"># Adaptive; target 10m total elements in each chunk.</span>
</span><span id="QueryResult-179"><a href="#QueryResult-179"><span class="linenos">179</span></a>            <span class="c1"># (eg: if we had 10 cols, this would result in a 1m row chunk_size).</span>
</span><span id="QueryResult-180"><a href="#QueryResult-180"><span class="linenos">180</span></a>            <span class="n">target_n_elems</span> <span class="o">=</span> <span class="mi">10_000_000</span>
</span><span id="QueryResult-181"><a href="#QueryResult-181"><span class="linenos">181</span></a>            <span class="n">chunk_size</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">target_n_elems</span> <span class="o">//</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">()),</span> <span class="mi">10</span><span class="p">)</span>
</span><span id="QueryResult-182"><a href="#QueryResult-182"><span class="linenos">182</span></a>        <span class="k">elif</span> <span class="n">chunk_size</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="QueryResult-183"><a href="#QueryResult-183"><span class="linenos">183</span></a>            <span class="c1"># No chunking: return the entire result as a single chunk</span>
</span><span id="QueryResult-184"><a href="#QueryResult-184"><span class="linenos">184</span></a>            <span class="n">chunk_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_num_tuples</span><span class="p">()</span>
</span><span id="QueryResult-185"><a href="#QueryResult-185"><span class="linenos">185</span></a>
</span><span id="QueryResult-186"><a href="#QueryResult-186"><span class="linenos">186</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getAsArrow</span><span class="p">(</span><span class="n">chunk_size</span><span class="p">)</span>
</span><span id="QueryResult-187"><a href="#QueryResult-187"><span class="linenos">187</span></a>
</span><span id="QueryResult-188"><a href="#QueryResult-188"><span class="linenos">188</span></a>    <span class="k">def</span> <span class="nf">get_column_data_types</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="QueryResult-189"><a href="#QueryResult-189"><span class="linenos">189</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-190"><a href="#QueryResult-190"><span class="linenos">190</span></a><span class="sd">        Get the data types of the columns in the query result.</span>
</span><span id="QueryResult-191"><a href="#QueryResult-191"><span class="linenos">191</span></a>
</span><span id="QueryResult-192"><a href="#QueryResult-192"><span class="linenos">192</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult-193"><a href="#QueryResult-193"><span class="linenos">193</span></a><span class="sd">        -------</span>
</span><span id="QueryResult-194"><a href="#QueryResult-194"><span class="linenos">194</span></a><span class="sd">        list</span>
</span><span id="QueryResult-195"><a href="#QueryResult-195"><span class="linenos">195</span></a><span class="sd">            Data types of the columns in the query result.</span>
</span><span id="QueryResult-196"><a href="#QueryResult-196"><span class="linenos">196</span></a>
</span><span id="QueryResult-197"><a href="#QueryResult-197"><span class="linenos">197</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-198"><a href="#QueryResult-198"><span class="linenos">198</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-199"><a href="#QueryResult-199"><span class="linenos">199</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getColumnDataTypes</span><span class="p">()</span>
</span><span id="QueryResult-200"><a href="#QueryResult-200"><span class="linenos">200</span></a>
</span><span id="QueryResult-201"><a href="#QueryResult-201"><span class="linenos">201</span></a>    <span class="k">def</span> <span class="nf">get_column_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="QueryResult-202"><a href="#QueryResult-202"><span class="linenos">202</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-203"><a href="#QueryResult-203"><span class="linenos">203</span></a><span class="sd">        Get the names of the columns in the query result.</span>
</span><span id="QueryResult-204"><a href="#QueryResult-204"><span class="linenos">204</span></a>
</span><span id="QueryResult-205"><a href="#QueryResult-205"><span class="linenos">205</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult-206"><a href="#QueryResult-206"><span class="linenos">206</span></a><span class="sd">        -------</span>
</span><span id="QueryResult-207"><a href="#QueryResult-207"><span class="linenos">207</span></a><span class="sd">        list</span>
</span><span id="QueryResult-208"><a href="#QueryResult-208"><span class="linenos">208</span></a><span class="sd">            Names of the columns in the query result.</span>
</span><span id="QueryResult-209"><a href="#QueryResult-209"><span class="linenos">209</span></a>
</span><span id="QueryResult-210"><a href="#QueryResult-210"><span class="linenos">210</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-211"><a href="#QueryResult-211"><span class="linenos">211</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-212"><a href="#QueryResult-212"><span class="linenos">212</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getColumnNames</span><span class="p">()</span>
</span><span id="QueryResult-213"><a href="#QueryResult-213"><span class="linenos">213</span></a>
</span><span id="QueryResult-214"><a href="#QueryResult-214"><span class="linenos">214</span></a>    <span class="k">def</span> <span class="nf">get_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
</span><span id="QueryResult-215"><a href="#QueryResult-215"><span class="linenos">215</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-216"><a href="#QueryResult-216"><span class="linenos">216</span></a><span class="sd">        Get the column schema of the query result.</span>
</span><span id="QueryResult-217"><a href="#QueryResult-217"><span class="linenos">217</span></a>
</span><span id="QueryResult-218"><a href="#QueryResult-218"><span class="linenos">218</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult-219"><a href="#QueryResult-219"><span class="linenos">219</span></a><span class="sd">        -------</span>
</span><span id="QueryResult-220"><a href="#QueryResult-220"><span class="linenos">220</span></a><span class="sd">        dict</span>
</span><span id="QueryResult-221"><a href="#QueryResult-221"><span class="linenos">221</span></a><span class="sd">            Schema of the query result.</span>
</span><span id="QueryResult-222"><a href="#QueryResult-222"><span class="linenos">222</span></a>
</span><span id="QueryResult-223"><a href="#QueryResult-223"><span class="linenos">223</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-224"><a href="#QueryResult-224"><span class="linenos">224</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-225"><a href="#QueryResult-225"><span class="linenos">225</span></a>        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span>
</span><span id="QueryResult-226"><a href="#QueryResult-226"><span class="linenos">226</span></a>            <span class="nb">zip</span><span class="p">(</span>
</span><span id="QueryResult-227"><a href="#QueryResult-227"><span class="linenos">227</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getColumnNames</span><span class="p">(),</span>
</span><span id="QueryResult-228"><a href="#QueryResult-228"><span class="linenos">228</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getColumnDataTypes</span><span class="p">(),</span>
</span><span id="QueryResult-229"><a href="#QueryResult-229"><span class="linenos">229</span></a>            <span class="p">)</span>
</span><span id="QueryResult-230"><a href="#QueryResult-230"><span class="linenos">230</span></a>        <span class="p">)</span>
</span><span id="QueryResult-231"><a href="#QueryResult-231"><span class="linenos">231</span></a>
</span><span id="QueryResult-232"><a href="#QueryResult-232"><span class="linenos">232</span></a>    <span class="k">def</span> <span class="nf">reset_iterator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="QueryResult-233"><a href="#QueryResult-233"><span class="linenos">233</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Reset the iterator of the query result.&quot;&quot;&quot;</span>
</span><span id="QueryResult-234"><a href="#QueryResult-234"><span class="linenos">234</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-235"><a href="#QueryResult-235"><span class="linenos">235</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">resetIterator</span><span class="p">()</span>
</span><span id="QueryResult-236"><a href="#QueryResult-236"><span class="linenos">236</span></a>
</span><span id="QueryResult-237"><a href="#QueryResult-237"><span class="linenos">237</span></a>    <span class="k">def</span> <span class="nf">get_as_networkx</span><span class="p">(</span>
</span><span id="QueryResult-238"><a href="#QueryResult-238"><span class="linenos">238</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="QueryResult-239"><a href="#QueryResult-239"><span class="linenos">239</span></a>        <span class="n">directed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>  <span class="c1"># noqa: FBT001</span>
</span><span id="QueryResult-240"><a href="#QueryResult-240"><span class="linenos">240</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiGraph</span> <span class="o">|</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">:</span>
</span><span id="QueryResult-241"><a href="#QueryResult-241"><span class="linenos">241</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-242"><a href="#QueryResult-242"><span class="linenos">242</span></a><span class="sd">        Convert the nodes and rels in query result into a NetworkX directed or undirected graph</span>
</span><span id="QueryResult-243"><a href="#QueryResult-243"><span class="linenos">243</span></a><span class="sd">        with the following rules:</span>
</span><span id="QueryResult-244"><a href="#QueryResult-244"><span class="linenos">244</span></a><span class="sd">        Columns with data type other than node or rel will be ignored.</span>
</span><span id="QueryResult-245"><a href="#QueryResult-245"><span class="linenos">245</span></a><span class="sd">        Duplicated nodes and rels will be converted only once.</span>
</span><span id="QueryResult-246"><a href="#QueryResult-246"><span class="linenos">246</span></a>
</span><span id="QueryResult-247"><a href="#QueryResult-247"><span class="linenos">247</span></a><span class="sd">        Parameters</span>
</span><span id="QueryResult-248"><a href="#QueryResult-248"><span class="linenos">248</span></a><span class="sd">        ----------</span>
</span><span id="QueryResult-249"><a href="#QueryResult-249"><span class="linenos">249</span></a><span class="sd">        directed : bool</span>
</span><span id="QueryResult-250"><a href="#QueryResult-250"><span class="linenos">250</span></a><span class="sd">            Whether the graph should be directed. Defaults to True.</span>
</span><span id="QueryResult-251"><a href="#QueryResult-251"><span class="linenos">251</span></a>
</span><span id="QueryResult-252"><a href="#QueryResult-252"><span class="linenos">252</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult-253"><a href="#QueryResult-253"><span class="linenos">253</span></a><span class="sd">        -------</span>
</span><span id="QueryResult-254"><a href="#QueryResult-254"><span class="linenos">254</span></a><span class="sd">        networkx.MultiDiGraph or networkx.MultiGraph</span>
</span><span id="QueryResult-255"><a href="#QueryResult-255"><span class="linenos">255</span></a><span class="sd">            Query result as a NetworkX graph.</span>
</span><span id="QueryResult-256"><a href="#QueryResult-256"><span class="linenos">256</span></a>
</span><span id="QueryResult-257"><a href="#QueryResult-257"><span class="linenos">257</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-258"><a href="#QueryResult-258"><span class="linenos">258</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-259"><a href="#QueryResult-259"><span class="linenos">259</span></a>        <span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
</span><span id="QueryResult-260"><a href="#QueryResult-260"><span class="linenos">260</span></a>
</span><span id="QueryResult-261"><a href="#QueryResult-261"><span class="linenos">261</span></a>        <span class="n">nx_graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">()</span> <span class="k">if</span> <span class="n">directed</span> <span class="k">else</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiGraph</span><span class="p">()</span>
</span><span id="QueryResult-262"><a href="#QueryResult-262"><span class="linenos">262</span></a>        <span class="n">properties_to_extract</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_properties_to_extract</span><span class="p">()</span>
</span><span id="QueryResult-263"><a href="#QueryResult-263"><span class="linenos">263</span></a>
</span><span id="QueryResult-264"><a href="#QueryResult-264"><span class="linenos">264</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">reset_iterator</span><span class="p">()</span>
</span><span id="QueryResult-265"><a href="#QueryResult-265"><span class="linenos">265</span></a>
</span><span id="QueryResult-266"><a href="#QueryResult-266"><span class="linenos">266</span></a>        <span class="n">nodes</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="QueryResult-267"><a href="#QueryResult-267"><span class="linenos">267</span></a>        <span class="n">rels</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="QueryResult-268"><a href="#QueryResult-268"><span class="linenos">268</span></a>        <span class="n">table_to_label_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="QueryResult-269"><a href="#QueryResult-269"><span class="linenos">269</span></a>        <span class="n">table_primary_key_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="QueryResult-270"><a href="#QueryResult-270"><span class="linenos">270</span></a>
</span><span id="QueryResult-271"><a href="#QueryResult-271"><span class="linenos">271</span></a>        <span class="k">def</span> <span class="nf">encode_node_id</span><span class="p">(</span><span class="n">node</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">table_primary_key_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="QueryResult-272"><a href="#QueryResult-272"><span class="linenos">272</span></a>            <span class="n">node_label</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">]</span>
</span><span id="QueryResult-273"><a href="#QueryResult-273"><span class="linenos">273</span></a>            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">node_label</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">node</span><span class="p">[</span><span class="n">table_primary_key_dict</span><span class="p">[</span><span class="n">node_label</span><span class="p">]]</span><span class="si">!s}</span><span class="s2">&quot;</span>
</span><span id="QueryResult-274"><a href="#QueryResult-274"><span class="linenos">274</span></a>
</span><span id="QueryResult-275"><a href="#QueryResult-275"><span class="linenos">275</span></a>        <span class="k">def</span> <span class="nf">encode_rel_id</span><span class="p">(</span><span class="n">rel</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
</span><span id="QueryResult-276"><a href="#QueryResult-276"><span class="linenos">276</span></a>            <span class="k">return</span> <span class="n">rel</span><span class="p">[</span><span class="s2">&quot;_id&quot;</span><span class="p">][</span><span class="s2">&quot;table&quot;</span><span class="p">],</span> <span class="n">rel</span><span class="p">[</span><span class="s2">&quot;_id&quot;</span><span class="p">][</span><span class="s2">&quot;offset&quot;</span><span class="p">]</span>
</span><span id="QueryResult-277"><a href="#QueryResult-277"><span class="linenos">277</span></a>
</span><span id="QueryResult-278"><a href="#QueryResult-278"><span class="linenos">278</span></a>        <span class="c1"># De-duplicate nodes and rels</span>
</span><span id="QueryResult-279"><a href="#QueryResult-279"><span class="linenos">279</span></a>        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_next</span><span class="p">():</span>
</span><span id="QueryResult-280"><a href="#QueryResult-280"><span class="linenos">280</span></a>            <span class="n">row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_next</span><span class="p">()</span>
</span><span id="QueryResult-281"><a href="#QueryResult-281"><span class="linenos">281</span></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">properties_to_extract</span><span class="p">:</span>
</span><span id="QueryResult-282"><a href="#QueryResult-282"><span class="linenos">282</span></a>                <span class="c1"># Skip empty nodes and rels, which may be returned by</span>
</span><span id="QueryResult-283"><a href="#QueryResult-283"><span class="linenos">283</span></a>                <span class="c1"># OPTIONAL MATCH</span>
</span><span id="QueryResult-284"><a href="#QueryResult-284"><span class="linenos">284</span></a>                <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="p">{}:</span>
</span><span id="QueryResult-285"><a href="#QueryResult-285"><span class="linenos">285</span></a>                    <span class="k">continue</span>
</span><span id="QueryResult-286"><a href="#QueryResult-286"><span class="linenos">286</span></a>                <span class="n">column_type</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">properties_to_extract</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="QueryResult-287"><a href="#QueryResult-287"><span class="linenos">287</span></a>                <span class="k">if</span> <span class="n">column_type</span> <span class="o">==</span> <span class="n">Type</span><span class="o">.</span><span class="n">NODE</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
</span><span id="QueryResult-288"><a href="#QueryResult-288"><span class="linenos">288</span></a>                    <span class="n">_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;_id&quot;</span><span class="p">]</span>
</span><span id="QueryResult-289"><a href="#QueryResult-289"><span class="linenos">289</span></a>                    <span class="n">nodes</span><span class="p">[(</span><span class="n">_id</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">],</span> <span class="n">_id</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">])]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="QueryResult-290"><a href="#QueryResult-290"><span class="linenos">290</span></a>                    <span class="n">table_to_label_dict</span><span class="p">[</span><span class="n">_id</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;_label&quot;</span><span class="p">]</span>
</span><span id="QueryResult-291"><a href="#QueryResult-291"><span class="linenos">291</span></a>
</span><span id="QueryResult-292"><a href="#QueryResult-292"><span class="linenos">292</span></a>                <span class="k">elif</span> <span class="n">column_type</span> <span class="o">==</span> <span class="n">Type</span><span class="o">.</span><span class="n">REL</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
</span><span id="QueryResult-293"><a href="#QueryResult-293"><span class="linenos">293</span></a>                    <span class="n">_src</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;_src&quot;</span><span class="p">]</span>
</span><span id="QueryResult-294"><a href="#QueryResult-294"><span class="linenos">294</span></a>                    <span class="n">_dst</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;_dst&quot;</span><span class="p">]</span>
</span><span id="QueryResult-295"><a href="#QueryResult-295"><span class="linenos">295</span></a>                    <span class="n">rels</span><span class="p">[</span><span class="n">encode_rel_id</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">])]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="QueryResult-296"><a href="#QueryResult-296"><span class="linenos">296</span></a>
</span><span id="QueryResult-297"><a href="#QueryResult-297"><span class="linenos">297</span></a>                <span class="k">elif</span> <span class="n">column_type</span> <span class="o">==</span> <span class="n">Type</span><span class="o">.</span><span class="n">RECURSIVE_REL</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
</span><span id="QueryResult-298"><a href="#QueryResult-298"><span class="linenos">298</span></a>                    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;_nodes&quot;</span><span class="p">]:</span>
</span><span id="QueryResult-299"><a href="#QueryResult-299"><span class="linenos">299</span></a>                        <span class="n">_id</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;_id&quot;</span><span class="p">]</span>
</span><span id="QueryResult-300"><a href="#QueryResult-300"><span class="linenos">300</span></a>                        <span class="n">nodes</span><span class="p">[(</span><span class="n">_id</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">],</span> <span class="n">_id</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">])]</span> <span class="o">=</span> <span class="n">node</span>
</span><span id="QueryResult-301"><a href="#QueryResult-301"><span class="linenos">301</span></a>                        <span class="n">table_to_label_dict</span><span class="p">[</span><span class="n">_id</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">]</span>
</span><span id="QueryResult-302"><a href="#QueryResult-302"><span class="linenos">302</span></a>                    <span class="k">for</span> <span class="n">rel</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;_rels&quot;</span><span class="p">]:</span>
</span><span id="QueryResult-303"><a href="#QueryResult-303"><span class="linenos">303</span></a>                        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">rel</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
</span><span id="QueryResult-304"><a href="#QueryResult-304"><span class="linenos">304</span></a>                            <span class="k">if</span> <span class="n">rel</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="QueryResult-305"><a href="#QueryResult-305"><span class="linenos">305</span></a>                                <span class="k">del</span> <span class="n">rel</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="QueryResult-306"><a href="#QueryResult-306"><span class="linenos">306</span></a>                        <span class="n">_src</span> <span class="o">=</span> <span class="n">rel</span><span class="p">[</span><span class="s2">&quot;_src&quot;</span><span class="p">]</span>
</span><span id="QueryResult-307"><a href="#QueryResult-307"><span class="linenos">307</span></a>                        <span class="n">_dst</span> <span class="o">=</span> <span class="n">rel</span><span class="p">[</span><span class="s2">&quot;_dst&quot;</span><span class="p">]</span>
</span><span id="QueryResult-308"><a href="#QueryResult-308"><span class="linenos">308</span></a>                        <span class="n">rels</span><span class="p">[</span><span class="n">encode_rel_id</span><span class="p">(</span><span class="n">rel</span><span class="p">)]</span> <span class="o">=</span> <span class="n">rel</span>
</span><span id="QueryResult-309"><a href="#QueryResult-309"><span class="linenos">309</span></a>
</span><span id="QueryResult-310"><a href="#QueryResult-310"><span class="linenos">310</span></a>        <span class="c1"># Add nodes</span>
</span><span id="QueryResult-311"><a href="#QueryResult-311"><span class="linenos">311</span></a>        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="QueryResult-312"><a href="#QueryResult-312"><span class="linenos">312</span></a>            <span class="n">_id</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;_id&quot;</span><span class="p">]</span>
</span><span id="QueryResult-313"><a href="#QueryResult-313"><span class="linenos">313</span></a>            <span class="n">node_id</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">_id</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">])</span>
</span><span id="QueryResult-314"><a href="#QueryResult-314"><span class="linenos">314</span></a>            <span class="k">if</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">table_primary_key_dict</span><span class="p">:</span>
</span><span id="QueryResult-315"><a href="#QueryResult-315"><span class="linenos">315</span></a>                <span class="n">props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">_get_node_property_names</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">])</span>
</span><span id="QueryResult-316"><a href="#QueryResult-316"><span class="linenos">316</span></a>                <span class="k">for</span> <span class="n">prop_name</span> <span class="ow">in</span> <span class="n">props</span><span class="p">:</span>
</span><span id="QueryResult-317"><a href="#QueryResult-317"><span class="linenos">317</span></a>                    <span class="k">if</span> <span class="n">props</span><span class="p">[</span><span class="n">prop_name</span><span class="p">][</span><span class="s2">&quot;is_primary_key&quot;</span><span class="p">]:</span>
</span><span id="QueryResult-318"><a href="#QueryResult-318"><span class="linenos">318</span></a>                        <span class="n">table_primary_key_dict</span><span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">prop_name</span>
</span><span id="QueryResult-319"><a href="#QueryResult-319"><span class="linenos">319</span></a>                        <span class="k">break</span>
</span><span id="QueryResult-320"><a href="#QueryResult-320"><span class="linenos">320</span></a>            <span class="n">node_id</span> <span class="o">=</span> <span class="n">encode_node_id</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">table_primary_key_dict</span><span class="p">)</span>
</span><span id="QueryResult-321"><a href="#QueryResult-321"><span class="linenos">321</span></a>            <span class="n">node</span><span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="QueryResult-322"><a href="#QueryResult-322"><span class="linenos">322</span></a>            <span class="n">nx_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="o">**</span><span class="n">node</span><span class="p">)</span>
</span><span id="QueryResult-323"><a href="#QueryResult-323"><span class="linenos">323</span></a>
</span><span id="QueryResult-324"><a href="#QueryResult-324"><span class="linenos">324</span></a>        <span class="c1"># Add rels</span>
</span><span id="QueryResult-325"><a href="#QueryResult-325"><span class="linenos">325</span></a>        <span class="k">for</span> <span class="n">rel</span> <span class="ow">in</span> <span class="n">rels</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="QueryResult-326"><a href="#QueryResult-326"><span class="linenos">326</span></a>            <span class="n">_src</span> <span class="o">=</span> <span class="n">rel</span><span class="p">[</span><span class="s2">&quot;_src&quot;</span><span class="p">]</span>
</span><span id="QueryResult-327"><a href="#QueryResult-327"><span class="linenos">327</span></a>            <span class="n">_dst</span> <span class="o">=</span> <span class="n">rel</span><span class="p">[</span><span class="s2">&quot;_dst&quot;</span><span class="p">]</span>
</span><span id="QueryResult-328"><a href="#QueryResult-328"><span class="linenos">328</span></a>            <span class="n">src_node</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[(</span><span class="n">_src</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">],</span> <span class="n">_src</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">])]</span>
</span><span id="QueryResult-329"><a href="#QueryResult-329"><span class="linenos">329</span></a>            <span class="n">dst_node</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[(</span><span class="n">_dst</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">],</span> <span class="n">_dst</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">])]</span>
</span><span id="QueryResult-330"><a href="#QueryResult-330"><span class="linenos">330</span></a>            <span class="n">src_id</span> <span class="o">=</span> <span class="n">encode_node_id</span><span class="p">(</span><span class="n">src_node</span><span class="p">,</span> <span class="n">table_primary_key_dict</span><span class="p">)</span>
</span><span id="QueryResult-331"><a href="#QueryResult-331"><span class="linenos">331</span></a>            <span class="n">dst_id</span> <span class="o">=</span> <span class="n">encode_node_id</span><span class="p">(</span><span class="n">dst_node</span><span class="p">,</span> <span class="n">table_primary_key_dict</span><span class="p">)</span>
</span><span id="QueryResult-332"><a href="#QueryResult-332"><span class="linenos">332</span></a>            <span class="n">nx_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">src_id</span><span class="p">,</span> <span class="n">dst_id</span><span class="p">,</span> <span class="o">**</span><span class="n">rel</span><span class="p">)</span>
</span><span id="QueryResult-333"><a href="#QueryResult-333"><span class="linenos">333</span></a>        <span class="k">return</span> <span class="n">nx_graph</span>
</span><span id="QueryResult-334"><a href="#QueryResult-334"><span class="linenos">334</span></a>
</span><span id="QueryResult-335"><a href="#QueryResult-335"><span class="linenos">335</span></a>    <span class="k">def</span> <span class="nf">_get_properties_to_extract</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
</span><span id="QueryResult-336"><a href="#QueryResult-336"><span class="linenos">336</span></a>        <span class="n">column_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">()</span>
</span><span id="QueryResult-337"><a href="#QueryResult-337"><span class="linenos">337</span></a>        <span class="n">column_types</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_column_data_types</span><span class="p">()</span>
</span><span id="QueryResult-338"><a href="#QueryResult-338"><span class="linenos">338</span></a>        <span class="n">properties_to_extract</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="QueryResult-339"><a href="#QueryResult-339"><span class="linenos">339</span></a>
</span><span id="QueryResult-340"><a href="#QueryResult-340"><span class="linenos">340</span></a>        <span class="c1"># Iterate over columns and extract nodes and rels, ignoring other columns</span>
</span><span id="QueryResult-341"><a href="#QueryResult-341"><span class="linenos">341</span></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">column_names</span><span class="p">)):</span>
</span><span id="QueryResult-342"><a href="#QueryResult-342"><span class="linenos">342</span></a>            <span class="n">column_name</span> <span class="o">=</span> <span class="n">column_names</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="QueryResult-343"><a href="#QueryResult-343"><span class="linenos">343</span></a>            <span class="n">column_type</span> <span class="o">=</span> <span class="n">column_types</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="QueryResult-344"><a href="#QueryResult-344"><span class="linenos">344</span></a>            <span class="k">if</span> <span class="n">column_type</span> <span class="ow">in</span> <span class="p">[</span>
</span><span id="QueryResult-345"><a href="#QueryResult-345"><span class="linenos">345</span></a>                <span class="n">Type</span><span class="o">.</span><span class="n">NODE</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
</span><span id="QueryResult-346"><a href="#QueryResult-346"><span class="linenos">346</span></a>                <span class="n">Type</span><span class="o">.</span><span class="n">REL</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
</span><span id="QueryResult-347"><a href="#QueryResult-347"><span class="linenos">347</span></a>                <span class="n">Type</span><span class="o">.</span><span class="n">RECURSIVE_REL</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
</span><span id="QueryResult-348"><a href="#QueryResult-348"><span class="linenos">348</span></a>            <span class="p">]:</span>
</span><span id="QueryResult-349"><a href="#QueryResult-349"><span class="linenos">349</span></a>                <span class="n">properties_to_extract</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">column_type</span><span class="p">,</span> <span class="n">column_name</span><span class="p">)</span>
</span><span id="QueryResult-350"><a href="#QueryResult-350"><span class="linenos">350</span></a>        <span class="k">return</span> <span class="n">properties_to_extract</span>
</span><span id="QueryResult-351"><a href="#QueryResult-351"><span class="linenos">351</span></a>
</span><span id="QueryResult-352"><a href="#QueryResult-352"><span class="linenos">352</span></a>    <span class="k">def</span> <span class="nf">get_as_torch_geometric</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">geo</span><span class="o">.</span><span class="n">Data</span> <span class="o">|</span> <span class="n">geo</span><span class="o">.</span><span class="n">HeteroData</span><span class="p">,</span> <span class="nb">dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]:</span>  <span class="c1"># type: ignore[type-arg]</span>
</span><span id="QueryResult-353"><a href="#QueryResult-353"><span class="linenos">353</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-354"><a href="#QueryResult-354"><span class="linenos">354</span></a><span class="sd">        Converts the nodes and rels in query result into a PyTorch Geometric graph representation</span>
</span><span id="QueryResult-355"><a href="#QueryResult-355"><span class="linenos">355</span></a><span class="sd">        torch_geometric.data.Data or torch_geometric.data.HeteroData.</span>
</span><span id="QueryResult-356"><a href="#QueryResult-356"><span class="linenos">356</span></a>
</span><span id="QueryResult-357"><a href="#QueryResult-357"><span class="linenos">357</span></a><span class="sd">        For node conversion, numerical and boolean properties are directly converted into tensor and</span>
</span><span id="QueryResult-358"><a href="#QueryResult-358"><span class="linenos">358</span></a><span class="sd">        stored in Data/HeteroData. For properties cannot be converted into tensor automatically</span>
</span><span id="QueryResult-359"><a href="#QueryResult-359"><span class="linenos">359</span></a><span class="sd">        (please refer to the notes below for more detail), they are returned as unconverted_properties.</span>
</span><span id="QueryResult-360"><a href="#QueryResult-360"><span class="linenos">360</span></a>
</span><span id="QueryResult-361"><a href="#QueryResult-361"><span class="linenos">361</span></a><span class="sd">        For rel conversion, rel is converted into edge_index tensor director. Edge properties are returned</span>
</span><span id="QueryResult-362"><a href="#QueryResult-362"><span class="linenos">362</span></a><span class="sd">        as edge_properties.</span>
</span><span id="QueryResult-363"><a href="#QueryResult-363"><span class="linenos">363</span></a>
</span><span id="QueryResult-364"><a href="#QueryResult-364"><span class="linenos">364</span></a><span class="sd">        Node properties that cannot be converted into tensor automatically:</span>
</span><span id="QueryResult-365"><a href="#QueryResult-365"><span class="linenos">365</span></a><span class="sd">        - If the type of a node property is not one of INT64, DOUBLE, or BOOL, it cannot be converted</span>
</span><span id="QueryResult-366"><a href="#QueryResult-366"><span class="linenos">366</span></a><span class="sd">          automatically.</span>
</span><span id="QueryResult-367"><a href="#QueryResult-367"><span class="linenos">367</span></a><span class="sd">        - If a node property contains a null value, it cannot be converted automatically.</span>
</span><span id="QueryResult-368"><a href="#QueryResult-368"><span class="linenos">368</span></a><span class="sd">        - If a node property contains a nested list of variable length (e.g. [[1,2],[3]]), it cannot be</span>
</span><span id="QueryResult-369"><a href="#QueryResult-369"><span class="linenos">369</span></a><span class="sd">          converted automatically.</span>
</span><span id="QueryResult-370"><a href="#QueryResult-370"><span class="linenos">370</span></a><span class="sd">        - If a node property is a list or nested list, but the shape is inconsistent (e.g. the list length</span>
</span><span id="QueryResult-371"><a href="#QueryResult-371"><span class="linenos">371</span></a><span class="sd">          is 6 for one node but 5 for another node), it cannot be converted automatically.</span>
</span><span id="QueryResult-372"><a href="#QueryResult-372"><span class="linenos">372</span></a>
</span><span id="QueryResult-373"><a href="#QueryResult-373"><span class="linenos">373</span></a><span class="sd">        Additional conversion rules:</span>
</span><span id="QueryResult-374"><a href="#QueryResult-374"><span class="linenos">374</span></a><span class="sd">        - Columns with data type other than node or rel will be ignored.</span>
</span><span id="QueryResult-375"><a href="#QueryResult-375"><span class="linenos">375</span></a><span class="sd">        - Duplicated nodes and rels will be converted only once.</span>
</span><span id="QueryResult-376"><a href="#QueryResult-376"><span class="linenos">376</span></a>
</span><span id="QueryResult-377"><a href="#QueryResult-377"><span class="linenos">377</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult-378"><a href="#QueryResult-378"><span class="linenos">378</span></a><span class="sd">        -------</span>
</span><span id="QueryResult-379"><a href="#QueryResult-379"><span class="linenos">379</span></a><span class="sd">        torch_geometric.data.Data or torch_geometric.data.HeteroData</span>
</span><span id="QueryResult-380"><a href="#QueryResult-380"><span class="linenos">380</span></a><span class="sd">            Query result as a PyTorch Geometric graph. Containing numeric or boolean node properties</span>
</span><span id="QueryResult-381"><a href="#QueryResult-381"><span class="linenos">381</span></a><span class="sd">            and edge_index tensor.</span>
</span><span id="QueryResult-382"><a href="#QueryResult-382"><span class="linenos">382</span></a>
</span><span id="QueryResult-383"><a href="#QueryResult-383"><span class="linenos">383</span></a><span class="sd">        dict</span>
</span><span id="QueryResult-384"><a href="#QueryResult-384"><span class="linenos">384</span></a><span class="sd">            A dictionary that maps the positional offset of each node in Data/HeteroData to its primary</span>
</span><span id="QueryResult-385"><a href="#QueryResult-385"><span class="linenos">385</span></a><span class="sd">            key in the database.</span>
</span><span id="QueryResult-386"><a href="#QueryResult-386"><span class="linenos">386</span></a>
</span><span id="QueryResult-387"><a href="#QueryResult-387"><span class="linenos">387</span></a><span class="sd">        dict</span>
</span><span id="QueryResult-388"><a href="#QueryResult-388"><span class="linenos">388</span></a><span class="sd">            A dictionary contains node properties that cannot be converted into tensor automatically. The</span>
</span><span id="QueryResult-389"><a href="#QueryResult-389"><span class="linenos">389</span></a><span class="sd">            order of values for each property is aligned with nodes in Data/HeteroData.</span>
</span><span id="QueryResult-390"><a href="#QueryResult-390"><span class="linenos">390</span></a>
</span><span id="QueryResult-391"><a href="#QueryResult-391"><span class="linenos">391</span></a><span class="sd">        dict</span>
</span><span id="QueryResult-392"><a href="#QueryResult-392"><span class="linenos">392</span></a><span class="sd">            A dictionary contains edge properties. The order of values for each property is aligned with</span>
</span><span id="QueryResult-393"><a href="#QueryResult-393"><span class="linenos">393</span></a><span class="sd">            edge_index in Data/HeteroData.</span>
</span><span id="QueryResult-394"><a href="#QueryResult-394"><span class="linenos">394</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-395"><a href="#QueryResult-395"><span class="linenos">395</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-396"><a href="#QueryResult-396"><span class="linenos">396</span></a>        <span class="c1"># Despite we are not using torch_geometric in this file, we need to</span>
</span><span id="QueryResult-397"><a href="#QueryResult-397"><span class="linenos">397</span></a>        <span class="c1"># import it here to throw an error early if the user does not have</span>
</span><span id="QueryResult-398"><a href="#QueryResult-398"><span class="linenos">398</span></a>        <span class="c1"># torch_geometric or torch installed.</span>
</span><span id="QueryResult-399"><a href="#QueryResult-399"><span class="linenos">399</span></a>
</span><span id="QueryResult-400"><a href="#QueryResult-400"><span class="linenos">400</span></a>        <span class="n">converter</span> <span class="o">=</span> <span class="n">TorchGeometricResultConverter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="QueryResult-401"><a href="#QueryResult-401"><span class="linenos">401</span></a>        <span class="k">return</span> <span class="n">converter</span><span class="o">.</span><span class="n">get_as_torch_geometric</span><span class="p">()</span>
</span><span id="QueryResult-402"><a href="#QueryResult-402"><span class="linenos">402</span></a>
</span><span id="QueryResult-403"><a href="#QueryResult-403"><span class="linenos">403</span></a>    <span class="k">def</span> <span class="nf">get_execution_time</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="QueryResult-404"><a href="#QueryResult-404"><span class="linenos">404</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-405"><a href="#QueryResult-405"><span class="linenos">405</span></a><span class="sd">        Get the time in ms which was required for executing the query.</span>
</span><span id="QueryResult-406"><a href="#QueryResult-406"><span class="linenos">406</span></a>
</span><span id="QueryResult-407"><a href="#QueryResult-407"><span class="linenos">407</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult-408"><a href="#QueryResult-408"><span class="linenos">408</span></a><span class="sd">        -------</span>
</span><span id="QueryResult-409"><a href="#QueryResult-409"><span class="linenos">409</span></a><span class="sd">        double</span>
</span><span id="QueryResult-410"><a href="#QueryResult-410"><span class="linenos">410</span></a><span class="sd">            Query execution time as double in ms.</span>
</span><span id="QueryResult-411"><a href="#QueryResult-411"><span class="linenos">411</span></a>
</span><span id="QueryResult-412"><a href="#QueryResult-412"><span class="linenos">412</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-413"><a href="#QueryResult-413"><span class="linenos">413</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-414"><a href="#QueryResult-414"><span class="linenos">414</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getExecutionTime</span><span class="p">()</span>
</span><span id="QueryResult-415"><a href="#QueryResult-415"><span class="linenos">415</span></a>
</span><span id="QueryResult-416"><a href="#QueryResult-416"><span class="linenos">416</span></a>    <span class="k">def</span> <span class="nf">get_compiling_time</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="QueryResult-417"><a href="#QueryResult-417"><span class="linenos">417</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-418"><a href="#QueryResult-418"><span class="linenos">418</span></a><span class="sd">        Get the time in ms which was required for compiling the query.</span>
</span><span id="QueryResult-419"><a href="#QueryResult-419"><span class="linenos">419</span></a>
</span><span id="QueryResult-420"><a href="#QueryResult-420"><span class="linenos">420</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult-421"><a href="#QueryResult-421"><span class="linenos">421</span></a><span class="sd">        -------</span>
</span><span id="QueryResult-422"><a href="#QueryResult-422"><span class="linenos">422</span></a><span class="sd">        double</span>
</span><span id="QueryResult-423"><a href="#QueryResult-423"><span class="linenos">423</span></a><span class="sd">            Query compile time as double in ms.</span>
</span><span id="QueryResult-424"><a href="#QueryResult-424"><span class="linenos">424</span></a>
</span><span id="QueryResult-425"><a href="#QueryResult-425"><span class="linenos">425</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-426"><a href="#QueryResult-426"><span class="linenos">426</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-427"><a href="#QueryResult-427"><span class="linenos">427</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getCompilingTime</span><span class="p">()</span>
</span><span id="QueryResult-428"><a href="#QueryResult-428"><span class="linenos">428</span></a>
</span><span id="QueryResult-429"><a href="#QueryResult-429"><span class="linenos">429</span></a>    <span class="k">def</span> <span class="nf">get_num_tuples</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="QueryResult-430"><a href="#QueryResult-430"><span class="linenos">430</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult-431"><a href="#QueryResult-431"><span class="linenos">431</span></a><span class="sd">        Get the number of tuples which the query returned.</span>
</span><span id="QueryResult-432"><a href="#QueryResult-432"><span class="linenos">432</span></a>
</span><span id="QueryResult-433"><a href="#QueryResult-433"><span class="linenos">433</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult-434"><a href="#QueryResult-434"><span class="linenos">434</span></a><span class="sd">        -------</span>
</span><span id="QueryResult-435"><a href="#QueryResult-435"><span class="linenos">435</span></a><span class="sd">        int</span>
</span><span id="QueryResult-436"><a href="#QueryResult-436"><span class="linenos">436</span></a><span class="sd">            Number of tuples.</span>
</span><span id="QueryResult-437"><a href="#QueryResult-437"><span class="linenos">437</span></a>
</span><span id="QueryResult-438"><a href="#QueryResult-438"><span class="linenos">438</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult-439"><a href="#QueryResult-439"><span class="linenos">439</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult-440"><a href="#QueryResult-440"><span class="linenos">440</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getNumTuples</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>QueryResult stores the result of a query execution.</p>
</div>


                            <div id="QueryResult.__init__" class="classattr">
                                        <input id="QueryResult.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">QueryResult</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">connection</span><span class="p">:</span> <span class="n"><a href="#Connection">Connection</a></span>, </span><span class="param"><span class="n">query_result</span><span class="p">:</span> <span class="s1">&#39;_kuzu.QueryResult&#39;</span></span>)</span>

                <label class="view-source-button" for="QueryResult.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.__init__-30"><a href="#QueryResult.__init__-30"><span class="linenos">30</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">connection</span><span class="p">:</span> <span class="n">_kuzu</span><span class="o">.</span><span class="n">Connection</span><span class="p">,</span> <span class="n">query_result</span><span class="p">:</span> <span class="n">_kuzu</span><span class="o">.</span><span class="n">QueryResult</span><span class="p">):</span>  <span class="c1"># type: ignore[name-defined]</span>
</span><span id="QueryResult.__init__-31"><a href="#QueryResult.__init__-31"><span class="linenos">31</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.__init__-32"><a href="#QueryResult.__init__-32"><span class="linenos">32</span></a><span class="sd">        Parameters</span>
</span><span id="QueryResult.__init__-33"><a href="#QueryResult.__init__-33"><span class="linenos">33</span></a><span class="sd">        ----------</span>
</span><span id="QueryResult.__init__-34"><a href="#QueryResult.__init__-34"><span class="linenos">34</span></a><span class="sd">        connection : _kuzu.Connection</span>
</span><span id="QueryResult.__init__-35"><a href="#QueryResult.__init__-35"><span class="linenos">35</span></a><span class="sd">            The underlying C++ connection object from pybind11.</span>
</span><span id="QueryResult.__init__-36"><a href="#QueryResult.__init__-36"><span class="linenos">36</span></a>
</span><span id="QueryResult.__init__-37"><a href="#QueryResult.__init__-37"><span class="linenos">37</span></a><span class="sd">        query_result : _kuzu.QueryResult</span>
</span><span id="QueryResult.__init__-38"><a href="#QueryResult.__init__-38"><span class="linenos">38</span></a><span class="sd">            The underlying C++ query result object from pybind11.</span>
</span><span id="QueryResult.__init__-39"><a href="#QueryResult.__init__-39"><span class="linenos">39</span></a>
</span><span id="QueryResult.__init__-40"><a href="#QueryResult.__init__-40"><span class="linenos">40</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.__init__-41"><a href="#QueryResult.__init__-41"><span class="linenos">41</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">connection</span> <span class="o">=</span> <span class="n">connection</span>
</span><span id="QueryResult.__init__-42"><a href="#QueryResult.__init__-42"><span class="linenos">42</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span> <span class="o">=</span> <span class="n">query_result</span>
</span><span id="QueryResult.__init__-43"><a href="#QueryResult.__init__-43"><span class="linenos">43</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><h6 id="parameters">Parameters</h6>

<ul>
<li><strong>connection</strong> (_kuzu.Connection):
The underlying C++ connection object from pybind11.</li>
<li><strong>query_result</strong> (_kuzu.QueryResult):
The underlying C++ query result object from pybind11.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.connection" class="classattr">
                                <div class="attr variable">
            <span class="name">connection</span>

        
    </div>
    <a class="headerlink" href="#QueryResult.connection"></a>
    
    

                            </div>
                            <div id="QueryResult.is_closed" class="classattr">
                                <div class="attr variable">
            <span class="name">is_closed</span>

        
    </div>
    <a class="headerlink" href="#QueryResult.is_closed"></a>
    
    

                            </div>
                            <div id="QueryResult.check_for_query_result_close" class="classattr">
                                        <input id="QueryResult.check_for_query_result_close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">check_for_query_result_close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="QueryResult.check_for_query_result_close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.check_for_query_result_close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.check_for_query_result_close-59"><a href="#QueryResult.check_for_query_result_close-59"><span class="linenos">59</span></a>    <span class="k">def</span> <span class="nf">check_for_query_result_close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="QueryResult.check_for_query_result_close-60"><a href="#QueryResult.check_for_query_result_close-60"><span class="linenos">60</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.check_for_query_result_close-61"><a href="#QueryResult.check_for_query_result_close-61"><span class="linenos">61</span></a><span class="sd">        Check if the query result is closed and raise an exception if it is.</span>
</span><span id="QueryResult.check_for_query_result_close-62"><a href="#QueryResult.check_for_query_result_close-62"><span class="linenos">62</span></a>
</span><span id="QueryResult.check_for_query_result_close-63"><a href="#QueryResult.check_for_query_result_close-63"><span class="linenos">63</span></a><span class="sd">        Raises</span>
</span><span id="QueryResult.check_for_query_result_close-64"><a href="#QueryResult.check_for_query_result_close-64"><span class="linenos">64</span></a><span class="sd">        ------</span>
</span><span id="QueryResult.check_for_query_result_close-65"><a href="#QueryResult.check_for_query_result_close-65"><span class="linenos">65</span></a><span class="sd">        Exception</span>
</span><span id="QueryResult.check_for_query_result_close-66"><a href="#QueryResult.check_for_query_result_close-66"><span class="linenos">66</span></a><span class="sd">            If the query result is closed.</span>
</span><span id="QueryResult.check_for_query_result_close-67"><a href="#QueryResult.check_for_query_result_close-67"><span class="linenos">67</span></a>
</span><span id="QueryResult.check_for_query_result_close-68"><a href="#QueryResult.check_for_query_result_close-68"><span class="linenos">68</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.check_for_query_result_close-69"><a href="#QueryResult.check_for_query_result_close-69"><span class="linenos">69</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span><span class="p">:</span>
</span><span id="QueryResult.check_for_query_result_close-70"><a href="#QueryResult.check_for_query_result_close-70"><span class="linenos">70</span></a>            <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Query result is closed&quot;</span>
</span><span id="QueryResult.check_for_query_result_close-71"><a href="#QueryResult.check_for_query_result_close-71"><span class="linenos">71</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Check if the query result is closed and raise an exception if it is.</p>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>Exception</strong>: If the query result is closed.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.has_next" class="classattr">
                                        <input id="QueryResult.has_next-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">has_next</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="QueryResult.has_next-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.has_next"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.has_next-73"><a href="#QueryResult.has_next-73"><span class="linenos">73</span></a>    <span class="k">def</span> <span class="nf">has_next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="QueryResult.has_next-74"><a href="#QueryResult.has_next-74"><span class="linenos">74</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.has_next-75"><a href="#QueryResult.has_next-75"><span class="linenos">75</span></a><span class="sd">        Check if there are more rows in the query result.</span>
</span><span id="QueryResult.has_next-76"><a href="#QueryResult.has_next-76"><span class="linenos">76</span></a>
</span><span id="QueryResult.has_next-77"><a href="#QueryResult.has_next-77"><span class="linenos">77</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult.has_next-78"><a href="#QueryResult.has_next-78"><span class="linenos">78</span></a><span class="sd">        -------</span>
</span><span id="QueryResult.has_next-79"><a href="#QueryResult.has_next-79"><span class="linenos">79</span></a><span class="sd">        bool</span>
</span><span id="QueryResult.has_next-80"><a href="#QueryResult.has_next-80"><span class="linenos">80</span></a><span class="sd">            True if there are more rows in the query result, False otherwise.</span>
</span><span id="QueryResult.has_next-81"><a href="#QueryResult.has_next-81"><span class="linenos">81</span></a>
</span><span id="QueryResult.has_next-82"><a href="#QueryResult.has_next-82"><span class="linenos">82</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.has_next-83"><a href="#QueryResult.has_next-83"><span class="linenos">83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.has_next-84"><a href="#QueryResult.has_next-84"><span class="linenos">84</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">hasNext</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Check if there are more rows in the query result.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>bool</strong>: True if there are more rows in the query result, False otherwise.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.get_next" class="classattr">
                                        <input id="QueryResult.get_next-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_next</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="QueryResult.get_next-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.get_next"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.get_next-86"><a href="#QueryResult.get_next-86"><span class="linenos">86</span></a>    <span class="k">def</span> <span class="nf">get_next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
</span><span id="QueryResult.get_next-87"><a href="#QueryResult.get_next-87"><span class="linenos">87</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.get_next-88"><a href="#QueryResult.get_next-88"><span class="linenos">88</span></a><span class="sd">        Get the next row in the query result.</span>
</span><span id="QueryResult.get_next-89"><a href="#QueryResult.get_next-89"><span class="linenos">89</span></a>
</span><span id="QueryResult.get_next-90"><a href="#QueryResult.get_next-90"><span class="linenos">90</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult.get_next-91"><a href="#QueryResult.get_next-91"><span class="linenos">91</span></a><span class="sd">        -------</span>
</span><span id="QueryResult.get_next-92"><a href="#QueryResult.get_next-92"><span class="linenos">92</span></a><span class="sd">        list</span>
</span><span id="QueryResult.get_next-93"><a href="#QueryResult.get_next-93"><span class="linenos">93</span></a><span class="sd">            Next row in the query result.</span>
</span><span id="QueryResult.get_next-94"><a href="#QueryResult.get_next-94"><span class="linenos">94</span></a>
</span><span id="QueryResult.get_next-95"><a href="#QueryResult.get_next-95"><span class="linenos">95</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.get_next-96"><a href="#QueryResult.get_next-96"><span class="linenos">96</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.get_next-97"><a href="#QueryResult.get_next-97"><span class="linenos">97</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getNext</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get the next row in the query result.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>list</strong>: Next row in the query result.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.close" class="classattr">
                                        <input id="QueryResult.close-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">close</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="QueryResult.close-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.close"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.close-99"><a href="#QueryResult.close-99"><span class="linenos"> 99</span></a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="QueryResult.close-100"><a href="#QueryResult.close-100"><span class="linenos">100</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Close the query result.&quot;&quot;&quot;</span>
</span><span id="QueryResult.close-101"><a href="#QueryResult.close-101"><span class="linenos">101</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span><span class="p">:</span>
</span><span id="QueryResult.close-102"><a href="#QueryResult.close-102"><span class="linenos">102</span></a>            <span class="c1"># Allows the connection to be garbage collected if the query result</span>
</span><span id="QueryResult.close-103"><a href="#QueryResult.close-103"><span class="linenos">103</span></a>            <span class="c1"># is closed manually by the user.</span>
</span><span id="QueryResult.close-104"><a href="#QueryResult.close-104"><span class="linenos">104</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="QueryResult.close-105"><a href="#QueryResult.close-105"><span class="linenos">105</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">connection</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="QueryResult.close-106"><a href="#QueryResult.close-106"><span class="linenos">106</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">is_closed</span> <span class="o">=</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Close the query result.</p>
</div>


                            </div>
                            <div id="QueryResult.get_as_df" class="classattr">
                                        <input id="QueryResult.get_as_df-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_as_df</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

                <label class="view-source-button" for="QueryResult.get_as_df-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.get_as_df"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.get_as_df-108"><a href="#QueryResult.get_as_df-108"><span class="linenos">108</span></a>    <span class="k">def</span> <span class="nf">get_as_df</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="QueryResult.get_as_df-109"><a href="#QueryResult.get_as_df-109"><span class="linenos">109</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.get_as_df-110"><a href="#QueryResult.get_as_df-110"><span class="linenos">110</span></a><span class="sd">        Get the query result as a Pandas DataFrame.</span>
</span><span id="QueryResult.get_as_df-111"><a href="#QueryResult.get_as_df-111"><span class="linenos">111</span></a>
</span><span id="QueryResult.get_as_df-112"><a href="#QueryResult.get_as_df-112"><span class="linenos">112</span></a><span class="sd">        See Also</span>
</span><span id="QueryResult.get_as_df-113"><a href="#QueryResult.get_as_df-113"><span class="linenos">113</span></a><span class="sd">        --------</span>
</span><span id="QueryResult.get_as_df-114"><a href="#QueryResult.get_as_df-114"><span class="linenos">114</span></a><span class="sd">        get_as_pl : Get the query result as a Polars DataFrame.</span>
</span><span id="QueryResult.get_as_df-115"><a href="#QueryResult.get_as_df-115"><span class="linenos">115</span></a><span class="sd">        get_as_arrow : Get the query result as a PyArrow Table.</span>
</span><span id="QueryResult.get_as_df-116"><a href="#QueryResult.get_as_df-116"><span class="linenos">116</span></a>
</span><span id="QueryResult.get_as_df-117"><a href="#QueryResult.get_as_df-117"><span class="linenos">117</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult.get_as_df-118"><a href="#QueryResult.get_as_df-118"><span class="linenos">118</span></a><span class="sd">        -------</span>
</span><span id="QueryResult.get_as_df-119"><a href="#QueryResult.get_as_df-119"><span class="linenos">119</span></a><span class="sd">        pandas.DataFrame</span>
</span><span id="QueryResult.get_as_df-120"><a href="#QueryResult.get_as_df-120"><span class="linenos">120</span></a><span class="sd">            Query result as a Pandas DataFrame.</span>
</span><span id="QueryResult.get_as_df-121"><a href="#QueryResult.get_as_df-121"><span class="linenos">121</span></a>
</span><span id="QueryResult.get_as_df-122"><a href="#QueryResult.get_as_df-122"><span class="linenos">122</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.get_as_df-123"><a href="#QueryResult.get_as_df-123"><span class="linenos">123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.get_as_df-124"><a href="#QueryResult.get_as_df-124"><span class="linenos">124</span></a>
</span><span id="QueryResult.get_as_df-125"><a href="#QueryResult.get_as_df-125"><span class="linenos">125</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getAsDF</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get the query result as a Pandas DataFrame.</p>

<h6 id="see-also">See Also</h6>

<p><code><a href="#QueryResult.get_as_pl">get_as_pl</a></code>:  Get the query result as a Polars DataFrame.<br />
<code><a href="#QueryResult.get_as_arrow">get_as_arrow</a></code>:  Get the query result as a PyArrow Table.  </p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>pandas.DataFrame</strong>: Query result as a Pandas DataFrame.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.get_as_pl" class="classattr">
                                        <input id="QueryResult.get_as_pl-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_as_pl</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">polars</span><span class="o">.</span><span class="n">dataframe</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

                <label class="view-source-button" for="QueryResult.get_as_pl-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.get_as_pl"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.get_as_pl-127"><a href="#QueryResult.get_as_pl-127"><span class="linenos">127</span></a>    <span class="k">def</span> <span class="nf">get_as_pl</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
</span><span id="QueryResult.get_as_pl-128"><a href="#QueryResult.get_as_pl-128"><span class="linenos">128</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.get_as_pl-129"><a href="#QueryResult.get_as_pl-129"><span class="linenos">129</span></a><span class="sd">        Get the query result as a Polars DataFrame.</span>
</span><span id="QueryResult.get_as_pl-130"><a href="#QueryResult.get_as_pl-130"><span class="linenos">130</span></a>
</span><span id="QueryResult.get_as_pl-131"><a href="#QueryResult.get_as_pl-131"><span class="linenos">131</span></a><span class="sd">        See Also</span>
</span><span id="QueryResult.get_as_pl-132"><a href="#QueryResult.get_as_pl-132"><span class="linenos">132</span></a><span class="sd">        --------</span>
</span><span id="QueryResult.get_as_pl-133"><a href="#QueryResult.get_as_pl-133"><span class="linenos">133</span></a><span class="sd">        get_as_df : Get the query result as a Pandas DataFrame.</span>
</span><span id="QueryResult.get_as_pl-134"><a href="#QueryResult.get_as_pl-134"><span class="linenos">134</span></a><span class="sd">        get_as_arrow : Get the query result as a PyArrow Table.</span>
</span><span id="QueryResult.get_as_pl-135"><a href="#QueryResult.get_as_pl-135"><span class="linenos">135</span></a>
</span><span id="QueryResult.get_as_pl-136"><a href="#QueryResult.get_as_pl-136"><span class="linenos">136</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult.get_as_pl-137"><a href="#QueryResult.get_as_pl-137"><span class="linenos">137</span></a><span class="sd">        -------</span>
</span><span id="QueryResult.get_as_pl-138"><a href="#QueryResult.get_as_pl-138"><span class="linenos">138</span></a><span class="sd">        polars.DataFrame</span>
</span><span id="QueryResult.get_as_pl-139"><a href="#QueryResult.get_as_pl-139"><span class="linenos">139</span></a><span class="sd">            Query result as a Polars DataFrame.</span>
</span><span id="QueryResult.get_as_pl-140"><a href="#QueryResult.get_as_pl-140"><span class="linenos">140</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.get_as_pl-141"><a href="#QueryResult.get_as_pl-141"><span class="linenos">141</span></a>        <span class="kn">import</span> <span class="nn">polars</span> <span class="k">as</span> <span class="nn">pl</span>
</span><span id="QueryResult.get_as_pl-142"><a href="#QueryResult.get_as_pl-142"><span class="linenos">142</span></a>
</span><span id="QueryResult.get_as_pl-143"><a href="#QueryResult.get_as_pl-143"><span class="linenos">143</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.get_as_pl-144"><a href="#QueryResult.get_as_pl-144"><span class="linenos">144</span></a>
</span><span id="QueryResult.get_as_pl-145"><a href="#QueryResult.get_as_pl-145"><span class="linenos">145</span></a>        <span class="c1"># note: polars should always export just a single chunk,</span>
</span><span id="QueryResult.get_as_pl-146"><a href="#QueryResult.get_as_pl-146"><span class="linenos">146</span></a>        <span class="c1"># (eg: &quot;-1&quot;) otherwise it will just need to rechunk anyway</span>
</span><span id="QueryResult.get_as_pl-147"><a href="#QueryResult.get_as_pl-147"><span class="linenos">147</span></a>        <span class="k">return</span> <span class="n">pl</span><span class="o">.</span><span class="n">from_arrow</span><span class="p">(</span>  <span class="c1"># type: ignore[return-value]</span>
</span><span id="QueryResult.get_as_pl-148"><a href="#QueryResult.get_as_pl-148"><span class="linenos">148</span></a>            <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_as_arrow</span><span class="p">(</span><span class="n">chunk_size</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span>
</span><span id="QueryResult.get_as_pl-149"><a href="#QueryResult.get_as_pl-149"><span class="linenos">149</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the query result as a Polars DataFrame.</p>

<h6 id="see-also">See Also</h6>

<p><code><a href="#QueryResult.get_as_df">get_as_df</a></code>:  Get the query result as a Pandas DataFrame.<br />
<code><a href="#QueryResult.get_as_arrow">get_as_arrow</a></code>:  Get the query result as a PyArrow Table.  </p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>polars.DataFrame</strong>: Query result as a Polars DataFrame.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.get_as_arrow" class="classattr">
                                        <input id="QueryResult.get_as_arrow-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_as_arrow</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">chunk_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">pyarrow</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">Table</span>:</span></span>

                <label class="view-source-button" for="QueryResult.get_as_arrow-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.get_as_arrow"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.get_as_arrow-151"><a href="#QueryResult.get_as_arrow-151"><span class="linenos">151</span></a>    <span class="k">def</span> <span class="nf">get_as_arrow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chunk_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pa</span><span class="o">.</span><span class="n">Table</span><span class="p">:</span>
</span><span id="QueryResult.get_as_arrow-152"><a href="#QueryResult.get_as_arrow-152"><span class="linenos">152</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.get_as_arrow-153"><a href="#QueryResult.get_as_arrow-153"><span class="linenos">153</span></a><span class="sd">        Get the query result as a PyArrow Table.</span>
</span><span id="QueryResult.get_as_arrow-154"><a href="#QueryResult.get_as_arrow-154"><span class="linenos">154</span></a>
</span><span id="QueryResult.get_as_arrow-155"><a href="#QueryResult.get_as_arrow-155"><span class="linenos">155</span></a><span class="sd">        Parameters</span>
</span><span id="QueryResult.get_as_arrow-156"><a href="#QueryResult.get_as_arrow-156"><span class="linenos">156</span></a><span class="sd">        ----------</span>
</span><span id="QueryResult.get_as_arrow-157"><a href="#QueryResult.get_as_arrow-157"><span class="linenos">157</span></a><span class="sd">        chunk_size : Number of rows to include in each chunk.</span>
</span><span id="QueryResult.get_as_arrow-158"><a href="#QueryResult.get_as_arrow-158"><span class="linenos">158</span></a><span class="sd">            None</span>
</span><span id="QueryResult.get_as_arrow-159"><a href="#QueryResult.get_as_arrow-159"><span class="linenos">159</span></a><span class="sd">                The chunk size is adaptive and depends on the number of columns in the query result.</span>
</span><span id="QueryResult.get_as_arrow-160"><a href="#QueryResult.get_as_arrow-160"><span class="linenos">160</span></a><span class="sd">            -1 or 0</span>
</span><span id="QueryResult.get_as_arrow-161"><a href="#QueryResult.get_as_arrow-161"><span class="linenos">161</span></a><span class="sd">                The entire result is returned as a single chunk.</span>
</span><span id="QueryResult.get_as_arrow-162"><a href="#QueryResult.get_as_arrow-162"><span class="linenos">162</span></a><span class="sd">            &gt; 0</span>
</span><span id="QueryResult.get_as_arrow-163"><a href="#QueryResult.get_as_arrow-163"><span class="linenos">163</span></a><span class="sd">                The chunk size is the number of rows specified.</span>
</span><span id="QueryResult.get_as_arrow-164"><a href="#QueryResult.get_as_arrow-164"><span class="linenos">164</span></a>
</span><span id="QueryResult.get_as_arrow-165"><a href="#QueryResult.get_as_arrow-165"><span class="linenos">165</span></a><span class="sd">        See Also</span>
</span><span id="QueryResult.get_as_arrow-166"><a href="#QueryResult.get_as_arrow-166"><span class="linenos">166</span></a><span class="sd">        --------</span>
</span><span id="QueryResult.get_as_arrow-167"><a href="#QueryResult.get_as_arrow-167"><span class="linenos">167</span></a><span class="sd">        get_as_pl : Get the query result as a Polars DataFrame.</span>
</span><span id="QueryResult.get_as_arrow-168"><a href="#QueryResult.get_as_arrow-168"><span class="linenos">168</span></a><span class="sd">        get_as_df : Get the query result as a Pandas DataFrame.</span>
</span><span id="QueryResult.get_as_arrow-169"><a href="#QueryResult.get_as_arrow-169"><span class="linenos">169</span></a>
</span><span id="QueryResult.get_as_arrow-170"><a href="#QueryResult.get_as_arrow-170"><span class="linenos">170</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult.get_as_arrow-171"><a href="#QueryResult.get_as_arrow-171"><span class="linenos">171</span></a><span class="sd">        -------</span>
</span><span id="QueryResult.get_as_arrow-172"><a href="#QueryResult.get_as_arrow-172"><span class="linenos">172</span></a><span class="sd">        pyarrow.Table</span>
</span><span id="QueryResult.get_as_arrow-173"><a href="#QueryResult.get_as_arrow-173"><span class="linenos">173</span></a><span class="sd">            Query result as a PyArrow Table.</span>
</span><span id="QueryResult.get_as_arrow-174"><a href="#QueryResult.get_as_arrow-174"><span class="linenos">174</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.get_as_arrow-175"><a href="#QueryResult.get_as_arrow-175"><span class="linenos">175</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.get_as_arrow-176"><a href="#QueryResult.get_as_arrow-176"><span class="linenos">176</span></a>
</span><span id="QueryResult.get_as_arrow-177"><a href="#QueryResult.get_as_arrow-177"><span class="linenos">177</span></a>        <span class="k">if</span> <span class="n">chunk_size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="QueryResult.get_as_arrow-178"><a href="#QueryResult.get_as_arrow-178"><span class="linenos">178</span></a>            <span class="c1"># Adaptive; target 10m total elements in each chunk.</span>
</span><span id="QueryResult.get_as_arrow-179"><a href="#QueryResult.get_as_arrow-179"><span class="linenos">179</span></a>            <span class="c1"># (eg: if we had 10 cols, this would result in a 1m row chunk_size).</span>
</span><span id="QueryResult.get_as_arrow-180"><a href="#QueryResult.get_as_arrow-180"><span class="linenos">180</span></a>            <span class="n">target_n_elems</span> <span class="o">=</span> <span class="mi">10_000_000</span>
</span><span id="QueryResult.get_as_arrow-181"><a href="#QueryResult.get_as_arrow-181"><span class="linenos">181</span></a>            <span class="n">chunk_size</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">target_n_elems</span> <span class="o">//</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_column_names</span><span class="p">()),</span> <span class="mi">10</span><span class="p">)</span>
</span><span id="QueryResult.get_as_arrow-182"><a href="#QueryResult.get_as_arrow-182"><span class="linenos">182</span></a>        <span class="k">elif</span> <span class="n">chunk_size</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="QueryResult.get_as_arrow-183"><a href="#QueryResult.get_as_arrow-183"><span class="linenos">183</span></a>            <span class="c1"># No chunking: return the entire result as a single chunk</span>
</span><span id="QueryResult.get_as_arrow-184"><a href="#QueryResult.get_as_arrow-184"><span class="linenos">184</span></a>            <span class="n">chunk_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_num_tuples</span><span class="p">()</span>
</span><span id="QueryResult.get_as_arrow-185"><a href="#QueryResult.get_as_arrow-185"><span class="linenos">185</span></a>
</span><span id="QueryResult.get_as_arrow-186"><a href="#QueryResult.get_as_arrow-186"><span class="linenos">186</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getAsArrow</span><span class="p">(</span><span class="n">chunk_size</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the query result as a PyArrow Table.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>chunk_size</strong> (Number of rows to include in each chunk.):
None
    The chunk size is adaptive and depends on the number of columns in the query result.
-1 or 0
    The entire result is returned as a single chunk.
&gt; 0
    The chunk size is the number of rows specified.</li>
</ul>

<h6 id="see-also">See Also</h6>

<p><code><a href="#QueryResult.get_as_pl">get_as_pl</a></code>:  Get the query result as a Polars DataFrame.<br />
<code><a href="#QueryResult.get_as_df">get_as_df</a></code>:  Get the query result as a Pandas DataFrame.  </p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>pyarrow.Table</strong>: Query result as a PyArrow Table.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.get_column_data_types" class="classattr">
                                        <input id="QueryResult.get_column_data_types-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_column_data_types</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="QueryResult.get_column_data_types-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.get_column_data_types"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.get_column_data_types-188"><a href="#QueryResult.get_column_data_types-188"><span class="linenos">188</span></a>    <span class="k">def</span> <span class="nf">get_column_data_types</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="QueryResult.get_column_data_types-189"><a href="#QueryResult.get_column_data_types-189"><span class="linenos">189</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.get_column_data_types-190"><a href="#QueryResult.get_column_data_types-190"><span class="linenos">190</span></a><span class="sd">        Get the data types of the columns in the query result.</span>
</span><span id="QueryResult.get_column_data_types-191"><a href="#QueryResult.get_column_data_types-191"><span class="linenos">191</span></a>
</span><span id="QueryResult.get_column_data_types-192"><a href="#QueryResult.get_column_data_types-192"><span class="linenos">192</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult.get_column_data_types-193"><a href="#QueryResult.get_column_data_types-193"><span class="linenos">193</span></a><span class="sd">        -------</span>
</span><span id="QueryResult.get_column_data_types-194"><a href="#QueryResult.get_column_data_types-194"><span class="linenos">194</span></a><span class="sd">        list</span>
</span><span id="QueryResult.get_column_data_types-195"><a href="#QueryResult.get_column_data_types-195"><span class="linenos">195</span></a><span class="sd">            Data types of the columns in the query result.</span>
</span><span id="QueryResult.get_column_data_types-196"><a href="#QueryResult.get_column_data_types-196"><span class="linenos">196</span></a>
</span><span id="QueryResult.get_column_data_types-197"><a href="#QueryResult.get_column_data_types-197"><span class="linenos">197</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.get_column_data_types-198"><a href="#QueryResult.get_column_data_types-198"><span class="linenos">198</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.get_column_data_types-199"><a href="#QueryResult.get_column_data_types-199"><span class="linenos">199</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getColumnDataTypes</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get the data types of the columns in the query result.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>list</strong>: Data types of the columns in the query result.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.get_column_names" class="classattr">
                                        <input id="QueryResult.get_column_names-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_column_names</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="QueryResult.get_column_names-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.get_column_names"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.get_column_names-201"><a href="#QueryResult.get_column_names-201"><span class="linenos">201</span></a>    <span class="k">def</span> <span class="nf">get_column_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="QueryResult.get_column_names-202"><a href="#QueryResult.get_column_names-202"><span class="linenos">202</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.get_column_names-203"><a href="#QueryResult.get_column_names-203"><span class="linenos">203</span></a><span class="sd">        Get the names of the columns in the query result.</span>
</span><span id="QueryResult.get_column_names-204"><a href="#QueryResult.get_column_names-204"><span class="linenos">204</span></a>
</span><span id="QueryResult.get_column_names-205"><a href="#QueryResult.get_column_names-205"><span class="linenos">205</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult.get_column_names-206"><a href="#QueryResult.get_column_names-206"><span class="linenos">206</span></a><span class="sd">        -------</span>
</span><span id="QueryResult.get_column_names-207"><a href="#QueryResult.get_column_names-207"><span class="linenos">207</span></a><span class="sd">        list</span>
</span><span id="QueryResult.get_column_names-208"><a href="#QueryResult.get_column_names-208"><span class="linenos">208</span></a><span class="sd">            Names of the columns in the query result.</span>
</span><span id="QueryResult.get_column_names-209"><a href="#QueryResult.get_column_names-209"><span class="linenos">209</span></a>
</span><span id="QueryResult.get_column_names-210"><a href="#QueryResult.get_column_names-210"><span class="linenos">210</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.get_column_names-211"><a href="#QueryResult.get_column_names-211"><span class="linenos">211</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.get_column_names-212"><a href="#QueryResult.get_column_names-212"><span class="linenos">212</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getColumnNames</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get the names of the columns in the query result.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>list</strong>: Names of the columns in the query result.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.get_schema" class="classattr">
                                        <input id="QueryResult.get_schema-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_schema</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="QueryResult.get_schema-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.get_schema"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.get_schema-214"><a href="#QueryResult.get_schema-214"><span class="linenos">214</span></a>    <span class="k">def</span> <span class="nf">get_schema</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
</span><span id="QueryResult.get_schema-215"><a href="#QueryResult.get_schema-215"><span class="linenos">215</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.get_schema-216"><a href="#QueryResult.get_schema-216"><span class="linenos">216</span></a><span class="sd">        Get the column schema of the query result.</span>
</span><span id="QueryResult.get_schema-217"><a href="#QueryResult.get_schema-217"><span class="linenos">217</span></a>
</span><span id="QueryResult.get_schema-218"><a href="#QueryResult.get_schema-218"><span class="linenos">218</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult.get_schema-219"><a href="#QueryResult.get_schema-219"><span class="linenos">219</span></a><span class="sd">        -------</span>
</span><span id="QueryResult.get_schema-220"><a href="#QueryResult.get_schema-220"><span class="linenos">220</span></a><span class="sd">        dict</span>
</span><span id="QueryResult.get_schema-221"><a href="#QueryResult.get_schema-221"><span class="linenos">221</span></a><span class="sd">            Schema of the query result.</span>
</span><span id="QueryResult.get_schema-222"><a href="#QueryResult.get_schema-222"><span class="linenos">222</span></a>
</span><span id="QueryResult.get_schema-223"><a href="#QueryResult.get_schema-223"><span class="linenos">223</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.get_schema-224"><a href="#QueryResult.get_schema-224"><span class="linenos">224</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.get_schema-225"><a href="#QueryResult.get_schema-225"><span class="linenos">225</span></a>        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span>
</span><span id="QueryResult.get_schema-226"><a href="#QueryResult.get_schema-226"><span class="linenos">226</span></a>            <span class="nb">zip</span><span class="p">(</span>
</span><span id="QueryResult.get_schema-227"><a href="#QueryResult.get_schema-227"><span class="linenos">227</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getColumnNames</span><span class="p">(),</span>
</span><span id="QueryResult.get_schema-228"><a href="#QueryResult.get_schema-228"><span class="linenos">228</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getColumnDataTypes</span><span class="p">(),</span>
</span><span id="QueryResult.get_schema-229"><a href="#QueryResult.get_schema-229"><span class="linenos">229</span></a>            <span class="p">)</span>
</span><span id="QueryResult.get_schema-230"><a href="#QueryResult.get_schema-230"><span class="linenos">230</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Get the column schema of the query result.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>dict</strong>: Schema of the query result.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.reset_iterator" class="classattr">
                                        <input id="QueryResult.reset_iterator-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">reset_iterator</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="QueryResult.reset_iterator-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.reset_iterator"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.reset_iterator-232"><a href="#QueryResult.reset_iterator-232"><span class="linenos">232</span></a>    <span class="k">def</span> <span class="nf">reset_iterator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="QueryResult.reset_iterator-233"><a href="#QueryResult.reset_iterator-233"><span class="linenos">233</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Reset the iterator of the query result.&quot;&quot;&quot;</span>
</span><span id="QueryResult.reset_iterator-234"><a href="#QueryResult.reset_iterator-234"><span class="linenos">234</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.reset_iterator-235"><a href="#QueryResult.reset_iterator-235"><span class="linenos">235</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">resetIterator</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Reset the iterator of the query result.</p>
</div>


                            </div>
                            <div id="QueryResult.get_as_networkx" class="classattr">
                                        <input id="QueryResult.get_as_networkx-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_as_networkx</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">directed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n">networkx</span><span class="o">.</span><span class="n">classes</span><span class="o">.</span><span class="n">multigraph</span><span class="o">.</span><span class="n">MultiGraph</span> <span class="o">|</span> <span class="n">networkx</span><span class="o">.</span><span class="n">classes</span><span class="o">.</span><span class="n">multidigraph</span><span class="o">.</span><span class="n">MultiDiGraph</span>:</span></span>

                <label class="view-source-button" for="QueryResult.get_as_networkx-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.get_as_networkx"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.get_as_networkx-237"><a href="#QueryResult.get_as_networkx-237"><span class="linenos">237</span></a>    <span class="k">def</span> <span class="nf">get_as_networkx</span><span class="p">(</span>
</span><span id="QueryResult.get_as_networkx-238"><a href="#QueryResult.get_as_networkx-238"><span class="linenos">238</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="QueryResult.get_as_networkx-239"><a href="#QueryResult.get_as_networkx-239"><span class="linenos">239</span></a>        <span class="n">directed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>  <span class="c1"># noqa: FBT001</span>
</span><span id="QueryResult.get_as_networkx-240"><a href="#QueryResult.get_as_networkx-240"><span class="linenos">240</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiGraph</span> <span class="o">|</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">:</span>
</span><span id="QueryResult.get_as_networkx-241"><a href="#QueryResult.get_as_networkx-241"><span class="linenos">241</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.get_as_networkx-242"><a href="#QueryResult.get_as_networkx-242"><span class="linenos">242</span></a><span class="sd">        Convert the nodes and rels in query result into a NetworkX directed or undirected graph</span>
</span><span id="QueryResult.get_as_networkx-243"><a href="#QueryResult.get_as_networkx-243"><span class="linenos">243</span></a><span class="sd">        with the following rules:</span>
</span><span id="QueryResult.get_as_networkx-244"><a href="#QueryResult.get_as_networkx-244"><span class="linenos">244</span></a><span class="sd">        Columns with data type other than node or rel will be ignored.</span>
</span><span id="QueryResult.get_as_networkx-245"><a href="#QueryResult.get_as_networkx-245"><span class="linenos">245</span></a><span class="sd">        Duplicated nodes and rels will be converted only once.</span>
</span><span id="QueryResult.get_as_networkx-246"><a href="#QueryResult.get_as_networkx-246"><span class="linenos">246</span></a>
</span><span id="QueryResult.get_as_networkx-247"><a href="#QueryResult.get_as_networkx-247"><span class="linenos">247</span></a><span class="sd">        Parameters</span>
</span><span id="QueryResult.get_as_networkx-248"><a href="#QueryResult.get_as_networkx-248"><span class="linenos">248</span></a><span class="sd">        ----------</span>
</span><span id="QueryResult.get_as_networkx-249"><a href="#QueryResult.get_as_networkx-249"><span class="linenos">249</span></a><span class="sd">        directed : bool</span>
</span><span id="QueryResult.get_as_networkx-250"><a href="#QueryResult.get_as_networkx-250"><span class="linenos">250</span></a><span class="sd">            Whether the graph should be directed. Defaults to True.</span>
</span><span id="QueryResult.get_as_networkx-251"><a href="#QueryResult.get_as_networkx-251"><span class="linenos">251</span></a>
</span><span id="QueryResult.get_as_networkx-252"><a href="#QueryResult.get_as_networkx-252"><span class="linenos">252</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult.get_as_networkx-253"><a href="#QueryResult.get_as_networkx-253"><span class="linenos">253</span></a><span class="sd">        -------</span>
</span><span id="QueryResult.get_as_networkx-254"><a href="#QueryResult.get_as_networkx-254"><span class="linenos">254</span></a><span class="sd">        networkx.MultiDiGraph or networkx.MultiGraph</span>
</span><span id="QueryResult.get_as_networkx-255"><a href="#QueryResult.get_as_networkx-255"><span class="linenos">255</span></a><span class="sd">            Query result as a NetworkX graph.</span>
</span><span id="QueryResult.get_as_networkx-256"><a href="#QueryResult.get_as_networkx-256"><span class="linenos">256</span></a>
</span><span id="QueryResult.get_as_networkx-257"><a href="#QueryResult.get_as_networkx-257"><span class="linenos">257</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.get_as_networkx-258"><a href="#QueryResult.get_as_networkx-258"><span class="linenos">258</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.get_as_networkx-259"><a href="#QueryResult.get_as_networkx-259"><span class="linenos">259</span></a>        <span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
</span><span id="QueryResult.get_as_networkx-260"><a href="#QueryResult.get_as_networkx-260"><span class="linenos">260</span></a>
</span><span id="QueryResult.get_as_networkx-261"><a href="#QueryResult.get_as_networkx-261"><span class="linenos">261</span></a>        <span class="n">nx_graph</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiDiGraph</span><span class="p">()</span> <span class="k">if</span> <span class="n">directed</span> <span class="k">else</span> <span class="n">nx</span><span class="o">.</span><span class="n">MultiGraph</span><span class="p">()</span>
</span><span id="QueryResult.get_as_networkx-262"><a href="#QueryResult.get_as_networkx-262"><span class="linenos">262</span></a>        <span class="n">properties_to_extract</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_properties_to_extract</span><span class="p">()</span>
</span><span id="QueryResult.get_as_networkx-263"><a href="#QueryResult.get_as_networkx-263"><span class="linenos">263</span></a>
</span><span id="QueryResult.get_as_networkx-264"><a href="#QueryResult.get_as_networkx-264"><span class="linenos">264</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">reset_iterator</span><span class="p">()</span>
</span><span id="QueryResult.get_as_networkx-265"><a href="#QueryResult.get_as_networkx-265"><span class="linenos">265</span></a>
</span><span id="QueryResult.get_as_networkx-266"><a href="#QueryResult.get_as_networkx-266"><span class="linenos">266</span></a>        <span class="n">nodes</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="QueryResult.get_as_networkx-267"><a href="#QueryResult.get_as_networkx-267"><span class="linenos">267</span></a>        <span class="n">rels</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="QueryResult.get_as_networkx-268"><a href="#QueryResult.get_as_networkx-268"><span class="linenos">268</span></a>        <span class="n">table_to_label_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="QueryResult.get_as_networkx-269"><a href="#QueryResult.get_as_networkx-269"><span class="linenos">269</span></a>        <span class="n">table_primary_key_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="QueryResult.get_as_networkx-270"><a href="#QueryResult.get_as_networkx-270"><span class="linenos">270</span></a>
</span><span id="QueryResult.get_as_networkx-271"><a href="#QueryResult.get_as_networkx-271"><span class="linenos">271</span></a>        <span class="k">def</span> <span class="nf">encode_node_id</span><span class="p">(</span><span class="n">node</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">table_primary_key_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="QueryResult.get_as_networkx-272"><a href="#QueryResult.get_as_networkx-272"><span class="linenos">272</span></a>            <span class="n">node_label</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-273"><a href="#QueryResult.get_as_networkx-273"><span class="linenos">273</span></a>            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">node_label</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">node</span><span class="p">[</span><span class="n">table_primary_key_dict</span><span class="p">[</span><span class="n">node_label</span><span class="p">]]</span><span class="si">!s}</span><span class="s2">&quot;</span>
</span><span id="QueryResult.get_as_networkx-274"><a href="#QueryResult.get_as_networkx-274"><span class="linenos">274</span></a>
</span><span id="QueryResult.get_as_networkx-275"><a href="#QueryResult.get_as_networkx-275"><span class="linenos">275</span></a>        <span class="k">def</span> <span class="nf">encode_rel_id</span><span class="p">(</span><span class="n">rel</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
</span><span id="QueryResult.get_as_networkx-276"><a href="#QueryResult.get_as_networkx-276"><span class="linenos">276</span></a>            <span class="k">return</span> <span class="n">rel</span><span class="p">[</span><span class="s2">&quot;_id&quot;</span><span class="p">][</span><span class="s2">&quot;table&quot;</span><span class="p">],</span> <span class="n">rel</span><span class="p">[</span><span class="s2">&quot;_id&quot;</span><span class="p">][</span><span class="s2">&quot;offset&quot;</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-277"><a href="#QueryResult.get_as_networkx-277"><span class="linenos">277</span></a>
</span><span id="QueryResult.get_as_networkx-278"><a href="#QueryResult.get_as_networkx-278"><span class="linenos">278</span></a>        <span class="c1"># De-duplicate nodes and rels</span>
</span><span id="QueryResult.get_as_networkx-279"><a href="#QueryResult.get_as_networkx-279"><span class="linenos">279</span></a>        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_next</span><span class="p">():</span>
</span><span id="QueryResult.get_as_networkx-280"><a href="#QueryResult.get_as_networkx-280"><span class="linenos">280</span></a>            <span class="n">row</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_next</span><span class="p">()</span>
</span><span id="QueryResult.get_as_networkx-281"><a href="#QueryResult.get_as_networkx-281"><span class="linenos">281</span></a>            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">properties_to_extract</span><span class="p">:</span>
</span><span id="QueryResult.get_as_networkx-282"><a href="#QueryResult.get_as_networkx-282"><span class="linenos">282</span></a>                <span class="c1"># Skip empty nodes and rels, which may be returned by</span>
</span><span id="QueryResult.get_as_networkx-283"><a href="#QueryResult.get_as_networkx-283"><span class="linenos">283</span></a>                <span class="c1"># OPTIONAL MATCH</span>
</span><span id="QueryResult.get_as_networkx-284"><a href="#QueryResult.get_as_networkx-284"><span class="linenos">284</span></a>                <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="p">{}:</span>
</span><span id="QueryResult.get_as_networkx-285"><a href="#QueryResult.get_as_networkx-285"><span class="linenos">285</span></a>                    <span class="k">continue</span>
</span><span id="QueryResult.get_as_networkx-286"><a href="#QueryResult.get_as_networkx-286"><span class="linenos">286</span></a>                <span class="n">column_type</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">properties_to_extract</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-287"><a href="#QueryResult.get_as_networkx-287"><span class="linenos">287</span></a>                <span class="k">if</span> <span class="n">column_type</span> <span class="o">==</span> <span class="n">Type</span><span class="o">.</span><span class="n">NODE</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
</span><span id="QueryResult.get_as_networkx-288"><a href="#QueryResult.get_as_networkx-288"><span class="linenos">288</span></a>                    <span class="n">_id</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;_id&quot;</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-289"><a href="#QueryResult.get_as_networkx-289"><span class="linenos">289</span></a>                    <span class="n">nodes</span><span class="p">[(</span><span class="n">_id</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">],</span> <span class="n">_id</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">])]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-290"><a href="#QueryResult.get_as_networkx-290"><span class="linenos">290</span></a>                    <span class="n">table_to_label_dict</span><span class="p">[</span><span class="n">_id</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;_label&quot;</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-291"><a href="#QueryResult.get_as_networkx-291"><span class="linenos">291</span></a>
</span><span id="QueryResult.get_as_networkx-292"><a href="#QueryResult.get_as_networkx-292"><span class="linenos">292</span></a>                <span class="k">elif</span> <span class="n">column_type</span> <span class="o">==</span> <span class="n">Type</span><span class="o">.</span><span class="n">REL</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
</span><span id="QueryResult.get_as_networkx-293"><a href="#QueryResult.get_as_networkx-293"><span class="linenos">293</span></a>                    <span class="n">_src</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;_src&quot;</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-294"><a href="#QueryResult.get_as_networkx-294"><span class="linenos">294</span></a>                    <span class="n">_dst</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;_dst&quot;</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-295"><a href="#QueryResult.get_as_networkx-295"><span class="linenos">295</span></a>                    <span class="n">rels</span><span class="p">[</span><span class="n">encode_rel_id</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">])]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-296"><a href="#QueryResult.get_as_networkx-296"><span class="linenos">296</span></a>
</span><span id="QueryResult.get_as_networkx-297"><a href="#QueryResult.get_as_networkx-297"><span class="linenos">297</span></a>                <span class="k">elif</span> <span class="n">column_type</span> <span class="o">==</span> <span class="n">Type</span><span class="o">.</span><span class="n">RECURSIVE_REL</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
</span><span id="QueryResult.get_as_networkx-298"><a href="#QueryResult.get_as_networkx-298"><span class="linenos">298</span></a>                    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;_nodes&quot;</span><span class="p">]:</span>
</span><span id="QueryResult.get_as_networkx-299"><a href="#QueryResult.get_as_networkx-299"><span class="linenos">299</span></a>                        <span class="n">_id</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;_id&quot;</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-300"><a href="#QueryResult.get_as_networkx-300"><span class="linenos">300</span></a>                        <span class="n">nodes</span><span class="p">[(</span><span class="n">_id</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">],</span> <span class="n">_id</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">])]</span> <span class="o">=</span> <span class="n">node</span>
</span><span id="QueryResult.get_as_networkx-301"><a href="#QueryResult.get_as_networkx-301"><span class="linenos">301</span></a>                        <span class="n">table_to_label_dict</span><span class="p">[</span><span class="n">_id</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-302"><a href="#QueryResult.get_as_networkx-302"><span class="linenos">302</span></a>                    <span class="k">for</span> <span class="n">rel</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="s2">&quot;_rels&quot;</span><span class="p">]:</span>
</span><span id="QueryResult.get_as_networkx-303"><a href="#QueryResult.get_as_networkx-303"><span class="linenos">303</span></a>                        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">rel</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
</span><span id="QueryResult.get_as_networkx-304"><a href="#QueryResult.get_as_networkx-304"><span class="linenos">304</span></a>                            <span class="k">if</span> <span class="n">rel</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="QueryResult.get_as_networkx-305"><a href="#QueryResult.get_as_networkx-305"><span class="linenos">305</span></a>                                <span class="k">del</span> <span class="n">rel</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-306"><a href="#QueryResult.get_as_networkx-306"><span class="linenos">306</span></a>                        <span class="n">_src</span> <span class="o">=</span> <span class="n">rel</span><span class="p">[</span><span class="s2">&quot;_src&quot;</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-307"><a href="#QueryResult.get_as_networkx-307"><span class="linenos">307</span></a>                        <span class="n">_dst</span> <span class="o">=</span> <span class="n">rel</span><span class="p">[</span><span class="s2">&quot;_dst&quot;</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-308"><a href="#QueryResult.get_as_networkx-308"><span class="linenos">308</span></a>                        <span class="n">rels</span><span class="p">[</span><span class="n">encode_rel_id</span><span class="p">(</span><span class="n">rel</span><span class="p">)]</span> <span class="o">=</span> <span class="n">rel</span>
</span><span id="QueryResult.get_as_networkx-309"><a href="#QueryResult.get_as_networkx-309"><span class="linenos">309</span></a>
</span><span id="QueryResult.get_as_networkx-310"><a href="#QueryResult.get_as_networkx-310"><span class="linenos">310</span></a>        <span class="c1"># Add nodes</span>
</span><span id="QueryResult.get_as_networkx-311"><a href="#QueryResult.get_as_networkx-311"><span class="linenos">311</span></a>        <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="QueryResult.get_as_networkx-312"><a href="#QueryResult.get_as_networkx-312"><span class="linenos">312</span></a>            <span class="n">_id</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;_id&quot;</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-313"><a href="#QueryResult.get_as_networkx-313"><span class="linenos">313</span></a>            <span class="n">node_id</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">_id</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">])</span>
</span><span id="QueryResult.get_as_networkx-314"><a href="#QueryResult.get_as_networkx-314"><span class="linenos">314</span></a>            <span class="k">if</span> <span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">table_primary_key_dict</span><span class="p">:</span>
</span><span id="QueryResult.get_as_networkx-315"><a href="#QueryResult.get_as_networkx-315"><span class="linenos">315</span></a>                <span class="n">props</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">_get_node_property_names</span><span class="p">(</span><span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">])</span>
</span><span id="QueryResult.get_as_networkx-316"><a href="#QueryResult.get_as_networkx-316"><span class="linenos">316</span></a>                <span class="k">for</span> <span class="n">prop_name</span> <span class="ow">in</span> <span class="n">props</span><span class="p">:</span>
</span><span id="QueryResult.get_as_networkx-317"><a href="#QueryResult.get_as_networkx-317"><span class="linenos">317</span></a>                    <span class="k">if</span> <span class="n">props</span><span class="p">[</span><span class="n">prop_name</span><span class="p">][</span><span class="s2">&quot;is_primary_key&quot;</span><span class="p">]:</span>
</span><span id="QueryResult.get_as_networkx-318"><a href="#QueryResult.get_as_networkx-318"><span class="linenos">318</span></a>                        <span class="n">table_primary_key_dict</span><span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">prop_name</span>
</span><span id="QueryResult.get_as_networkx-319"><a href="#QueryResult.get_as_networkx-319"><span class="linenos">319</span></a>                        <span class="k">break</span>
</span><span id="QueryResult.get_as_networkx-320"><a href="#QueryResult.get_as_networkx-320"><span class="linenos">320</span></a>            <span class="n">node_id</span> <span class="o">=</span> <span class="n">encode_node_id</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">table_primary_key_dict</span><span class="p">)</span>
</span><span id="QueryResult.get_as_networkx-321"><a href="#QueryResult.get_as_networkx-321"><span class="linenos">321</span></a>            <span class="n">node</span><span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="s2">&quot;_label&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="QueryResult.get_as_networkx-322"><a href="#QueryResult.get_as_networkx-322"><span class="linenos">322</span></a>            <span class="n">nx_graph</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="o">**</span><span class="n">node</span><span class="p">)</span>
</span><span id="QueryResult.get_as_networkx-323"><a href="#QueryResult.get_as_networkx-323"><span class="linenos">323</span></a>
</span><span id="QueryResult.get_as_networkx-324"><a href="#QueryResult.get_as_networkx-324"><span class="linenos">324</span></a>        <span class="c1"># Add rels</span>
</span><span id="QueryResult.get_as_networkx-325"><a href="#QueryResult.get_as_networkx-325"><span class="linenos">325</span></a>        <span class="k">for</span> <span class="n">rel</span> <span class="ow">in</span> <span class="n">rels</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="QueryResult.get_as_networkx-326"><a href="#QueryResult.get_as_networkx-326"><span class="linenos">326</span></a>            <span class="n">_src</span> <span class="o">=</span> <span class="n">rel</span><span class="p">[</span><span class="s2">&quot;_src&quot;</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-327"><a href="#QueryResult.get_as_networkx-327"><span class="linenos">327</span></a>            <span class="n">_dst</span> <span class="o">=</span> <span class="n">rel</span><span class="p">[</span><span class="s2">&quot;_dst&quot;</span><span class="p">]</span>
</span><span id="QueryResult.get_as_networkx-328"><a href="#QueryResult.get_as_networkx-328"><span class="linenos">328</span></a>            <span class="n">src_node</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[(</span><span class="n">_src</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">],</span> <span class="n">_src</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">])]</span>
</span><span id="QueryResult.get_as_networkx-329"><a href="#QueryResult.get_as_networkx-329"><span class="linenos">329</span></a>            <span class="n">dst_node</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[(</span><span class="n">_dst</span><span class="p">[</span><span class="s2">&quot;table&quot;</span><span class="p">],</span> <span class="n">_dst</span><span class="p">[</span><span class="s2">&quot;offset&quot;</span><span class="p">])]</span>
</span><span id="QueryResult.get_as_networkx-330"><a href="#QueryResult.get_as_networkx-330"><span class="linenos">330</span></a>            <span class="n">src_id</span> <span class="o">=</span> <span class="n">encode_node_id</span><span class="p">(</span><span class="n">src_node</span><span class="p">,</span> <span class="n">table_primary_key_dict</span><span class="p">)</span>
</span><span id="QueryResult.get_as_networkx-331"><a href="#QueryResult.get_as_networkx-331"><span class="linenos">331</span></a>            <span class="n">dst_id</span> <span class="o">=</span> <span class="n">encode_node_id</span><span class="p">(</span><span class="n">dst_node</span><span class="p">,</span> <span class="n">table_primary_key_dict</span><span class="p">)</span>
</span><span id="QueryResult.get_as_networkx-332"><a href="#QueryResult.get_as_networkx-332"><span class="linenos">332</span></a>            <span class="n">nx_graph</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">src_id</span><span class="p">,</span> <span class="n">dst_id</span><span class="p">,</span> <span class="o">**</span><span class="n">rel</span><span class="p">)</span>
</span><span id="QueryResult.get_as_networkx-333"><a href="#QueryResult.get_as_networkx-333"><span class="linenos">333</span></a>        <span class="k">return</span> <span class="n">nx_graph</span>
</span></pre></div>


            <div class="docstring"><p>Convert the nodes and rels in query result into a NetworkX directed or undirected graph
with the following rules:
Columns with data type other than node or rel will be ignored.
Duplicated nodes and rels will be converted only once.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>directed</strong> (bool):
Whether the graph should be directed. Defaults to True.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>networkx.MultiDiGraph or networkx.MultiGraph</strong>: Query result as a NetworkX graph.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.get_as_torch_geometric" class="classattr">
                                        <input id="QueryResult.get_as_torch_geometric-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_as_torch_geometric</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="n">torch_geometric</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Data</span> <span class="o">|</span> <span class="n">torch_geometric</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">hetero_data</span><span class="o">.</span><span class="n">HeteroData</span><span class="p">,</span> <span class="nb">dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="QueryResult.get_as_torch_geometric-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.get_as_torch_geometric"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.get_as_torch_geometric-352"><a href="#QueryResult.get_as_torch_geometric-352"><span class="linenos">352</span></a>    <span class="k">def</span> <span class="nf">get_as_torch_geometric</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">geo</span><span class="o">.</span><span class="n">Data</span> <span class="o">|</span> <span class="n">geo</span><span class="o">.</span><span class="n">HeteroData</span><span class="p">,</span> <span class="nb">dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">,</span> <span class="nb">dict</span><span class="p">]:</span>  <span class="c1"># type: ignore[type-arg]</span>
</span><span id="QueryResult.get_as_torch_geometric-353"><a href="#QueryResult.get_as_torch_geometric-353"><span class="linenos">353</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.get_as_torch_geometric-354"><a href="#QueryResult.get_as_torch_geometric-354"><span class="linenos">354</span></a><span class="sd">        Converts the nodes and rels in query result into a PyTorch Geometric graph representation</span>
</span><span id="QueryResult.get_as_torch_geometric-355"><a href="#QueryResult.get_as_torch_geometric-355"><span class="linenos">355</span></a><span class="sd">        torch_geometric.data.Data or torch_geometric.data.HeteroData.</span>
</span><span id="QueryResult.get_as_torch_geometric-356"><a href="#QueryResult.get_as_torch_geometric-356"><span class="linenos">356</span></a>
</span><span id="QueryResult.get_as_torch_geometric-357"><a href="#QueryResult.get_as_torch_geometric-357"><span class="linenos">357</span></a><span class="sd">        For node conversion, numerical and boolean properties are directly converted into tensor and</span>
</span><span id="QueryResult.get_as_torch_geometric-358"><a href="#QueryResult.get_as_torch_geometric-358"><span class="linenos">358</span></a><span class="sd">        stored in Data/HeteroData. For properties cannot be converted into tensor automatically</span>
</span><span id="QueryResult.get_as_torch_geometric-359"><a href="#QueryResult.get_as_torch_geometric-359"><span class="linenos">359</span></a><span class="sd">        (please refer to the notes below for more detail), they are returned as unconverted_properties.</span>
</span><span id="QueryResult.get_as_torch_geometric-360"><a href="#QueryResult.get_as_torch_geometric-360"><span class="linenos">360</span></a>
</span><span id="QueryResult.get_as_torch_geometric-361"><a href="#QueryResult.get_as_torch_geometric-361"><span class="linenos">361</span></a><span class="sd">        For rel conversion, rel is converted into edge_index tensor director. Edge properties are returned</span>
</span><span id="QueryResult.get_as_torch_geometric-362"><a href="#QueryResult.get_as_torch_geometric-362"><span class="linenos">362</span></a><span class="sd">        as edge_properties.</span>
</span><span id="QueryResult.get_as_torch_geometric-363"><a href="#QueryResult.get_as_torch_geometric-363"><span class="linenos">363</span></a>
</span><span id="QueryResult.get_as_torch_geometric-364"><a href="#QueryResult.get_as_torch_geometric-364"><span class="linenos">364</span></a><span class="sd">        Node properties that cannot be converted into tensor automatically:</span>
</span><span id="QueryResult.get_as_torch_geometric-365"><a href="#QueryResult.get_as_torch_geometric-365"><span class="linenos">365</span></a><span class="sd">        - If the type of a node property is not one of INT64, DOUBLE, or BOOL, it cannot be converted</span>
</span><span id="QueryResult.get_as_torch_geometric-366"><a href="#QueryResult.get_as_torch_geometric-366"><span class="linenos">366</span></a><span class="sd">          automatically.</span>
</span><span id="QueryResult.get_as_torch_geometric-367"><a href="#QueryResult.get_as_torch_geometric-367"><span class="linenos">367</span></a><span class="sd">        - If a node property contains a null value, it cannot be converted automatically.</span>
</span><span id="QueryResult.get_as_torch_geometric-368"><a href="#QueryResult.get_as_torch_geometric-368"><span class="linenos">368</span></a><span class="sd">        - If a node property contains a nested list of variable length (e.g. [[1,2],[3]]), it cannot be</span>
</span><span id="QueryResult.get_as_torch_geometric-369"><a href="#QueryResult.get_as_torch_geometric-369"><span class="linenos">369</span></a><span class="sd">          converted automatically.</span>
</span><span id="QueryResult.get_as_torch_geometric-370"><a href="#QueryResult.get_as_torch_geometric-370"><span class="linenos">370</span></a><span class="sd">        - If a node property is a list or nested list, but the shape is inconsistent (e.g. the list length</span>
</span><span id="QueryResult.get_as_torch_geometric-371"><a href="#QueryResult.get_as_torch_geometric-371"><span class="linenos">371</span></a><span class="sd">          is 6 for one node but 5 for another node), it cannot be converted automatically.</span>
</span><span id="QueryResult.get_as_torch_geometric-372"><a href="#QueryResult.get_as_torch_geometric-372"><span class="linenos">372</span></a>
</span><span id="QueryResult.get_as_torch_geometric-373"><a href="#QueryResult.get_as_torch_geometric-373"><span class="linenos">373</span></a><span class="sd">        Additional conversion rules:</span>
</span><span id="QueryResult.get_as_torch_geometric-374"><a href="#QueryResult.get_as_torch_geometric-374"><span class="linenos">374</span></a><span class="sd">        - Columns with data type other than node or rel will be ignored.</span>
</span><span id="QueryResult.get_as_torch_geometric-375"><a href="#QueryResult.get_as_torch_geometric-375"><span class="linenos">375</span></a><span class="sd">        - Duplicated nodes and rels will be converted only once.</span>
</span><span id="QueryResult.get_as_torch_geometric-376"><a href="#QueryResult.get_as_torch_geometric-376"><span class="linenos">376</span></a>
</span><span id="QueryResult.get_as_torch_geometric-377"><a href="#QueryResult.get_as_torch_geometric-377"><span class="linenos">377</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult.get_as_torch_geometric-378"><a href="#QueryResult.get_as_torch_geometric-378"><span class="linenos">378</span></a><span class="sd">        -------</span>
</span><span id="QueryResult.get_as_torch_geometric-379"><a href="#QueryResult.get_as_torch_geometric-379"><span class="linenos">379</span></a><span class="sd">        torch_geometric.data.Data or torch_geometric.data.HeteroData</span>
</span><span id="QueryResult.get_as_torch_geometric-380"><a href="#QueryResult.get_as_torch_geometric-380"><span class="linenos">380</span></a><span class="sd">            Query result as a PyTorch Geometric graph. Containing numeric or boolean node properties</span>
</span><span id="QueryResult.get_as_torch_geometric-381"><a href="#QueryResult.get_as_torch_geometric-381"><span class="linenos">381</span></a><span class="sd">            and edge_index tensor.</span>
</span><span id="QueryResult.get_as_torch_geometric-382"><a href="#QueryResult.get_as_torch_geometric-382"><span class="linenos">382</span></a>
</span><span id="QueryResult.get_as_torch_geometric-383"><a href="#QueryResult.get_as_torch_geometric-383"><span class="linenos">383</span></a><span class="sd">        dict</span>
</span><span id="QueryResult.get_as_torch_geometric-384"><a href="#QueryResult.get_as_torch_geometric-384"><span class="linenos">384</span></a><span class="sd">            A dictionary that maps the positional offset of each node in Data/HeteroData to its primary</span>
</span><span id="QueryResult.get_as_torch_geometric-385"><a href="#QueryResult.get_as_torch_geometric-385"><span class="linenos">385</span></a><span class="sd">            key in the database.</span>
</span><span id="QueryResult.get_as_torch_geometric-386"><a href="#QueryResult.get_as_torch_geometric-386"><span class="linenos">386</span></a>
</span><span id="QueryResult.get_as_torch_geometric-387"><a href="#QueryResult.get_as_torch_geometric-387"><span class="linenos">387</span></a><span class="sd">        dict</span>
</span><span id="QueryResult.get_as_torch_geometric-388"><a href="#QueryResult.get_as_torch_geometric-388"><span class="linenos">388</span></a><span class="sd">            A dictionary contains node properties that cannot be converted into tensor automatically. The</span>
</span><span id="QueryResult.get_as_torch_geometric-389"><a href="#QueryResult.get_as_torch_geometric-389"><span class="linenos">389</span></a><span class="sd">            order of values for each property is aligned with nodes in Data/HeteroData.</span>
</span><span id="QueryResult.get_as_torch_geometric-390"><a href="#QueryResult.get_as_torch_geometric-390"><span class="linenos">390</span></a>
</span><span id="QueryResult.get_as_torch_geometric-391"><a href="#QueryResult.get_as_torch_geometric-391"><span class="linenos">391</span></a><span class="sd">        dict</span>
</span><span id="QueryResult.get_as_torch_geometric-392"><a href="#QueryResult.get_as_torch_geometric-392"><span class="linenos">392</span></a><span class="sd">            A dictionary contains edge properties. The order of values for each property is aligned with</span>
</span><span id="QueryResult.get_as_torch_geometric-393"><a href="#QueryResult.get_as_torch_geometric-393"><span class="linenos">393</span></a><span class="sd">            edge_index in Data/HeteroData.</span>
</span><span id="QueryResult.get_as_torch_geometric-394"><a href="#QueryResult.get_as_torch_geometric-394"><span class="linenos">394</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.get_as_torch_geometric-395"><a href="#QueryResult.get_as_torch_geometric-395"><span class="linenos">395</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.get_as_torch_geometric-396"><a href="#QueryResult.get_as_torch_geometric-396"><span class="linenos">396</span></a>        <span class="c1"># Despite we are not using torch_geometric in this file, we need to</span>
</span><span id="QueryResult.get_as_torch_geometric-397"><a href="#QueryResult.get_as_torch_geometric-397"><span class="linenos">397</span></a>        <span class="c1"># import it here to throw an error early if the user does not have</span>
</span><span id="QueryResult.get_as_torch_geometric-398"><a href="#QueryResult.get_as_torch_geometric-398"><span class="linenos">398</span></a>        <span class="c1"># torch_geometric or torch installed.</span>
</span><span id="QueryResult.get_as_torch_geometric-399"><a href="#QueryResult.get_as_torch_geometric-399"><span class="linenos">399</span></a>
</span><span id="QueryResult.get_as_torch_geometric-400"><a href="#QueryResult.get_as_torch_geometric-400"><span class="linenos">400</span></a>        <span class="n">converter</span> <span class="o">=</span> <span class="n">TorchGeometricResultConverter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="QueryResult.get_as_torch_geometric-401"><a href="#QueryResult.get_as_torch_geometric-401"><span class="linenos">401</span></a>        <span class="k">return</span> <span class="n">converter</span><span class="o">.</span><span class="n">get_as_torch_geometric</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Converts the nodes and rels in query result into a PyTorch Geometric graph representation
torch_geometric.data.Data or torch_geometric.data.HeteroData.</p>

<p>For node conversion, numerical and boolean properties are directly converted into tensor and
stored in Data/HeteroData. For properties cannot be converted into tensor automatically
(please refer to the notes below for more detail), they are returned as unconverted_properties.</p>

<p>For rel conversion, rel is converted into edge_index tensor director. Edge properties are returned
as edge_properties.</p>

<p>Node properties that cannot be converted into tensor automatically:</p>

<ul>
<li>If the type of a node property is not one of INT64, DOUBLE, or BOOL, it cannot be converted
automatically.</li>
<li>If a node property contains a null value, it cannot be converted automatically.</li>
<li>If a node property contains a nested list of variable length (e.g. [[1,2],[3]]), it cannot be
converted automatically.</li>
<li>If a node property is a list or nested list, but the shape is inconsistent (e.g. the list length
is 6 for one node but 5 for another node), it cannot be converted automatically.</li>
</ul>

<p>Additional conversion rules:</p>

<ul>
<li>Columns with data type other than node or rel will be ignored.</li>
<li>Duplicated nodes and rels will be converted only once.</li>
</ul>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>torch_geometric.data.Data or torch_geometric.data.HeteroData</strong>: Query result as a PyTorch Geometric graph. Containing numeric or boolean node properties
and edge_index tensor.</li>
<li><strong>dict</strong>: A dictionary that maps the positional offset of each node in Data/HeteroData to its primary
key in the database.</li>
<li><strong>dict</strong>: A dictionary contains node properties that cannot be converted into tensor automatically. The
order of values for each property is aligned with nodes in Data/HeteroData.</li>
<li><strong>dict</strong>: A dictionary contains edge properties. The order of values for each property is aligned with
edge_index in Data/HeteroData.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.get_execution_time" class="classattr">
                                        <input id="QueryResult.get_execution_time-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_execution_time</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="QueryResult.get_execution_time-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.get_execution_time"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.get_execution_time-403"><a href="#QueryResult.get_execution_time-403"><span class="linenos">403</span></a>    <span class="k">def</span> <span class="nf">get_execution_time</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="QueryResult.get_execution_time-404"><a href="#QueryResult.get_execution_time-404"><span class="linenos">404</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.get_execution_time-405"><a href="#QueryResult.get_execution_time-405"><span class="linenos">405</span></a><span class="sd">        Get the time in ms which was required for executing the query.</span>
</span><span id="QueryResult.get_execution_time-406"><a href="#QueryResult.get_execution_time-406"><span class="linenos">406</span></a>
</span><span id="QueryResult.get_execution_time-407"><a href="#QueryResult.get_execution_time-407"><span class="linenos">407</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult.get_execution_time-408"><a href="#QueryResult.get_execution_time-408"><span class="linenos">408</span></a><span class="sd">        -------</span>
</span><span id="QueryResult.get_execution_time-409"><a href="#QueryResult.get_execution_time-409"><span class="linenos">409</span></a><span class="sd">        double</span>
</span><span id="QueryResult.get_execution_time-410"><a href="#QueryResult.get_execution_time-410"><span class="linenos">410</span></a><span class="sd">            Query execution time as double in ms.</span>
</span><span id="QueryResult.get_execution_time-411"><a href="#QueryResult.get_execution_time-411"><span class="linenos">411</span></a>
</span><span id="QueryResult.get_execution_time-412"><a href="#QueryResult.get_execution_time-412"><span class="linenos">412</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.get_execution_time-413"><a href="#QueryResult.get_execution_time-413"><span class="linenos">413</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.get_execution_time-414"><a href="#QueryResult.get_execution_time-414"><span class="linenos">414</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getExecutionTime</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get the time in ms which was required for executing the query.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>double</strong>: Query execution time as double in ms.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.get_compiling_time" class="classattr">
                                        <input id="QueryResult.get_compiling_time-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_compiling_time</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="QueryResult.get_compiling_time-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.get_compiling_time"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.get_compiling_time-416"><a href="#QueryResult.get_compiling_time-416"><span class="linenos">416</span></a>    <span class="k">def</span> <span class="nf">get_compiling_time</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="QueryResult.get_compiling_time-417"><a href="#QueryResult.get_compiling_time-417"><span class="linenos">417</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.get_compiling_time-418"><a href="#QueryResult.get_compiling_time-418"><span class="linenos">418</span></a><span class="sd">        Get the time in ms which was required for compiling the query.</span>
</span><span id="QueryResult.get_compiling_time-419"><a href="#QueryResult.get_compiling_time-419"><span class="linenos">419</span></a>
</span><span id="QueryResult.get_compiling_time-420"><a href="#QueryResult.get_compiling_time-420"><span class="linenos">420</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult.get_compiling_time-421"><a href="#QueryResult.get_compiling_time-421"><span class="linenos">421</span></a><span class="sd">        -------</span>
</span><span id="QueryResult.get_compiling_time-422"><a href="#QueryResult.get_compiling_time-422"><span class="linenos">422</span></a><span class="sd">        double</span>
</span><span id="QueryResult.get_compiling_time-423"><a href="#QueryResult.get_compiling_time-423"><span class="linenos">423</span></a><span class="sd">            Query compile time as double in ms.</span>
</span><span id="QueryResult.get_compiling_time-424"><a href="#QueryResult.get_compiling_time-424"><span class="linenos">424</span></a>
</span><span id="QueryResult.get_compiling_time-425"><a href="#QueryResult.get_compiling_time-425"><span class="linenos">425</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.get_compiling_time-426"><a href="#QueryResult.get_compiling_time-426"><span class="linenos">426</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.get_compiling_time-427"><a href="#QueryResult.get_compiling_time-427"><span class="linenos">427</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getCompilingTime</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get the time in ms which was required for compiling the query.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>double</strong>: Query compile time as double in ms.</li>
</ul>
</div>


                            </div>
                            <div id="QueryResult.get_num_tuples" class="classattr">
                                        <input id="QueryResult.get_num_tuples-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_num_tuples</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">int</span>:</span></span>

                <label class="view-source-button" for="QueryResult.get_num_tuples-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#QueryResult.get_num_tuples"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="QueryResult.get_num_tuples-429"><a href="#QueryResult.get_num_tuples-429"><span class="linenos">429</span></a>    <span class="k">def</span> <span class="nf">get_num_tuples</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="QueryResult.get_num_tuples-430"><a href="#QueryResult.get_num_tuples-430"><span class="linenos">430</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="QueryResult.get_num_tuples-431"><a href="#QueryResult.get_num_tuples-431"><span class="linenos">431</span></a><span class="sd">        Get the number of tuples which the query returned.</span>
</span><span id="QueryResult.get_num_tuples-432"><a href="#QueryResult.get_num_tuples-432"><span class="linenos">432</span></a>
</span><span id="QueryResult.get_num_tuples-433"><a href="#QueryResult.get_num_tuples-433"><span class="linenos">433</span></a><span class="sd">        Returns</span>
</span><span id="QueryResult.get_num_tuples-434"><a href="#QueryResult.get_num_tuples-434"><span class="linenos">434</span></a><span class="sd">        -------</span>
</span><span id="QueryResult.get_num_tuples-435"><a href="#QueryResult.get_num_tuples-435"><span class="linenos">435</span></a><span class="sd">        int</span>
</span><span id="QueryResult.get_num_tuples-436"><a href="#QueryResult.get_num_tuples-436"><span class="linenos">436</span></a><span class="sd">            Number of tuples.</span>
</span><span id="QueryResult.get_num_tuples-437"><a href="#QueryResult.get_num_tuples-437"><span class="linenos">437</span></a>
</span><span id="QueryResult.get_num_tuples-438"><a href="#QueryResult.get_num_tuples-438"><span class="linenos">438</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="QueryResult.get_num_tuples-439"><a href="#QueryResult.get_num_tuples-439"><span class="linenos">439</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">check_for_query_result_close</span><span class="p">()</span>
</span><span id="QueryResult.get_num_tuples-440"><a href="#QueryResult.get_num_tuples-440"><span class="linenos">440</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_result</span><span class="o">.</span><span class="n">getNumTuples</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Get the number of tuples which the query returned.</p>

<h6 id="returns">Returns</h6>

<ul>
<li><strong>int</strong>: Number of tuples.</li>
</ul>
</div>


                            </div>
                </section>
                <section id="Type">
                            <input id="Type-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Type</span><wbr>(<span class="base">enum.Enum</span>):

                <label class="view-source-button" for="Type-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Type"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Type-5"><a href="#Type-5"><span class="linenos"> 5</span></a><span class="k">class</span> <span class="nc">Type</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="Type-6"><a href="#Type-6"><span class="linenos"> 6</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The type of a value in the database.&quot;&quot;&quot;</span>
</span><span id="Type-7"><a href="#Type-7"><span class="linenos"> 7</span></a>
</span><span id="Type-8"><a href="#Type-8"><span class="linenos"> 8</span></a>    <span class="n">ANY</span> <span class="o">=</span> <span class="s2">&quot;ANY&quot;</span>
</span><span id="Type-9"><a href="#Type-9"><span class="linenos"> 9</span></a>    <span class="n">NODE</span> <span class="o">=</span> <span class="s2">&quot;NODE&quot;</span>
</span><span id="Type-10"><a href="#Type-10"><span class="linenos">10</span></a>    <span class="n">REL</span> <span class="o">=</span> <span class="s2">&quot;REL&quot;</span>
</span><span id="Type-11"><a href="#Type-11"><span class="linenos">11</span></a>    <span class="n">RECURSIVE_REL</span> <span class="o">=</span> <span class="s2">&quot;RECURSIVE_REL&quot;</span>
</span><span id="Type-12"><a href="#Type-12"><span class="linenos">12</span></a>    <span class="n">SERIAL</span> <span class="o">=</span> <span class="s2">&quot;SERIAL&quot;</span>
</span><span id="Type-13"><a href="#Type-13"><span class="linenos">13</span></a>    <span class="n">BOOL</span> <span class="o">=</span> <span class="s2">&quot;BOOL&quot;</span>
</span><span id="Type-14"><a href="#Type-14"><span class="linenos">14</span></a>    <span class="n">INT64</span> <span class="o">=</span> <span class="s2">&quot;INT64&quot;</span>
</span><span id="Type-15"><a href="#Type-15"><span class="linenos">15</span></a>    <span class="n">INT32</span> <span class="o">=</span> <span class="s2">&quot;INT32&quot;</span>
</span><span id="Type-16"><a href="#Type-16"><span class="linenos">16</span></a>    <span class="n">INT16</span> <span class="o">=</span> <span class="s2">&quot;INT16&quot;</span>
</span><span id="Type-17"><a href="#Type-17"><span class="linenos">17</span></a>    <span class="n">INT8</span> <span class="o">=</span> <span class="s2">&quot;INT8&quot;</span>
</span><span id="Type-18"><a href="#Type-18"><span class="linenos">18</span></a>    <span class="n">UINT64</span> <span class="o">=</span> <span class="s2">&quot;UINT64&quot;</span>
</span><span id="Type-19"><a href="#Type-19"><span class="linenos">19</span></a>    <span class="n">UINT32</span> <span class="o">=</span> <span class="s2">&quot;UINT32&quot;</span>
</span><span id="Type-20"><a href="#Type-20"><span class="linenos">20</span></a>    <span class="n">UINT16</span> <span class="o">=</span> <span class="s2">&quot;UINT16&quot;</span>
</span><span id="Type-21"><a href="#Type-21"><span class="linenos">21</span></a>    <span class="n">UINT8</span> <span class="o">=</span> <span class="s2">&quot;UINT8&quot;</span>
</span><span id="Type-22"><a href="#Type-22"><span class="linenos">22</span></a>    <span class="n">INT128</span> <span class="o">=</span> <span class="s2">&quot;INT128&quot;</span>
</span><span id="Type-23"><a href="#Type-23"><span class="linenos">23</span></a>    <span class="n">DOUBLE</span> <span class="o">=</span> <span class="s2">&quot;DOUBLE&quot;</span>
</span><span id="Type-24"><a href="#Type-24"><span class="linenos">24</span></a>    <span class="n">FLOAT</span> <span class="o">=</span> <span class="s2">&quot;FLOAT&quot;</span>
</span><span id="Type-25"><a href="#Type-25"><span class="linenos">25</span></a>    <span class="n">DATE</span> <span class="o">=</span> <span class="s2">&quot;DATE&quot;</span>
</span><span id="Type-26"><a href="#Type-26"><span class="linenos">26</span></a>    <span class="n">TIMESTAMP</span> <span class="o">=</span> <span class="s2">&quot;TIMESTAMP&quot;</span>
</span><span id="Type-27"><a href="#Type-27"><span class="linenos">27</span></a>    <span class="n">TIMSTAMP_TZ</span> <span class="o">=</span> <span class="s2">&quot;TIMESTAMP_TZ&quot;</span>
</span><span id="Type-28"><a href="#Type-28"><span class="linenos">28</span></a>    <span class="n">TIMESTAMP_NS</span> <span class="o">=</span> <span class="s2">&quot;TIMESTAMP_NS&quot;</span>
</span><span id="Type-29"><a href="#Type-29"><span class="linenos">29</span></a>    <span class="n">TIMESTAMP_MS</span> <span class="o">=</span> <span class="s2">&quot;TIMESTAMP_MS&quot;</span>
</span><span id="Type-30"><a href="#Type-30"><span class="linenos">30</span></a>    <span class="n">TIMESTAMP_SEC</span> <span class="o">=</span> <span class="s2">&quot;TIMESTAMP_SEC&quot;</span>
</span><span id="Type-31"><a href="#Type-31"><span class="linenos">31</span></a>    <span class="n">INTERVAL</span> <span class="o">=</span> <span class="s2">&quot;INTERVAL&quot;</span>
</span><span id="Type-32"><a href="#Type-32"><span class="linenos">32</span></a>    <span class="n">INTERNAL_ID</span> <span class="o">=</span> <span class="s2">&quot;INTERNAL_ID&quot;</span>
</span><span id="Type-33"><a href="#Type-33"><span class="linenos">33</span></a>    <span class="n">STRING</span> <span class="o">=</span> <span class="s2">&quot;STRING&quot;</span>
</span><span id="Type-34"><a href="#Type-34"><span class="linenos">34</span></a>    <span class="n">BLOB</span> <span class="o">=</span> <span class="s2">&quot;BLOB&quot;</span>
</span><span id="Type-35"><a href="#Type-35"><span class="linenos">35</span></a>    <span class="n">UUID</span> <span class="o">=</span> <span class="s2">&quot;UUID&quot;</span>
</span><span id="Type-36"><a href="#Type-36"><span class="linenos">36</span></a>    <span class="n">LIST</span> <span class="o">=</span> <span class="s2">&quot;LIST&quot;</span>
</span><span id="Type-37"><a href="#Type-37"><span class="linenos">37</span></a>    <span class="n">ARRAY</span> <span class="o">=</span> <span class="s2">&quot;ARRAY&quot;</span>
</span><span id="Type-38"><a href="#Type-38"><span class="linenos">38</span></a>    <span class="n">STRUCT</span> <span class="o">=</span> <span class="s2">&quot;STRUCT&quot;</span>
</span><span id="Type-39"><a href="#Type-39"><span class="linenos">39</span></a>    <span class="n">MAP</span> <span class="o">=</span> <span class="s2">&quot;MAP&quot;</span>
</span><span id="Type-40"><a href="#Type-40"><span class="linenos">40</span></a>    <span class="n">UNION</span> <span class="o">=</span> <span class="s2">&quot;UNION&quot;</span>
</span></pre></div>


            <div class="docstring"><p>The type of a value in the database.</p>
</div>


                            <div id="Type.ANY" class="classattr">
                                <div class="attr variable">
            <span class="name">ANY</span>        =
<span class="default_value">&lt;<a href="#Type.ANY">Type.ANY</a>: &#39;ANY&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.ANY"></a>
    
    

                            </div>
                            <div id="Type.NODE" class="classattr">
                                <div class="attr variable">
            <span class="name">NODE</span>        =
<span class="default_value">&lt;<a href="#Type.NODE">Type.NODE</a>: &#39;NODE&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.NODE"></a>
    
    

                            </div>
                            <div id="Type.REL" class="classattr">
                                <div class="attr variable">
            <span class="name">REL</span>        =
<span class="default_value">&lt;<a href="#Type.REL">Type.REL</a>: &#39;REL&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.REL"></a>
    
    

                            </div>
                            <div id="Type.RECURSIVE_REL" class="classattr">
                                <div class="attr variable">
            <span class="name">RECURSIVE_REL</span>        =
<span class="default_value">&lt;<a href="#Type.RECURSIVE_REL">Type.RECURSIVE_REL</a>: &#39;RECURSIVE_REL&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.RECURSIVE_REL"></a>
    
    

                            </div>
                            <div id="Type.SERIAL" class="classattr">
                                <div class="attr variable">
            <span class="name">SERIAL</span>        =
<span class="default_value">&lt;<a href="#Type.SERIAL">Type.SERIAL</a>: &#39;SERIAL&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.SERIAL"></a>
    
    

                            </div>
                            <div id="Type.BOOL" class="classattr">
                                <div class="attr variable">
            <span class="name">BOOL</span>        =
<span class="default_value">&lt;<a href="#Type.BOOL">Type.BOOL</a>: &#39;BOOL&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.BOOL"></a>
    
    

                            </div>
                            <div id="Type.INT64" class="classattr">
                                <div class="attr variable">
            <span class="name">INT64</span>        =
<span class="default_value">&lt;<a href="#Type.INT64">Type.INT64</a>: &#39;INT64&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.INT64"></a>
    
    

                            </div>
                            <div id="Type.INT32" class="classattr">
                                <div class="attr variable">
            <span class="name">INT32</span>        =
<span class="default_value">&lt;<a href="#Type.INT32">Type.INT32</a>: &#39;INT32&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.INT32"></a>
    
    

                            </div>
                            <div id="Type.INT16" class="classattr">
                                <div class="attr variable">
            <span class="name">INT16</span>        =
<span class="default_value">&lt;<a href="#Type.INT16">Type.INT16</a>: &#39;INT16&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.INT16"></a>
    
    

                            </div>
                            <div id="Type.INT8" class="classattr">
                                <div class="attr variable">
            <span class="name">INT8</span>        =
<span class="default_value">&lt;<a href="#Type.INT8">Type.INT8</a>: &#39;INT8&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.INT8"></a>
    
    

                            </div>
                            <div id="Type.UINT64" class="classattr">
                                <div class="attr variable">
            <span class="name">UINT64</span>        =
<span class="default_value">&lt;<a href="#Type.UINT64">Type.UINT64</a>: &#39;UINT64&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.UINT64"></a>
    
    

                            </div>
                            <div id="Type.UINT32" class="classattr">
                                <div class="attr variable">
            <span class="name">UINT32</span>        =
<span class="default_value">&lt;<a href="#Type.UINT32">Type.UINT32</a>: &#39;UINT32&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.UINT32"></a>
    
    

                            </div>
                            <div id="Type.UINT16" class="classattr">
                                <div class="attr variable">
            <span class="name">UINT16</span>        =
<span class="default_value">&lt;<a href="#Type.UINT16">Type.UINT16</a>: &#39;UINT16&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.UINT16"></a>
    
    

                            </div>
                            <div id="Type.UINT8" class="classattr">
                                <div class="attr variable">
            <span class="name">UINT8</span>        =
<span class="default_value">&lt;<a href="#Type.UINT8">Type.UINT8</a>: &#39;UINT8&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.UINT8"></a>
    
    

                            </div>
                            <div id="Type.INT128" class="classattr">
                                <div class="attr variable">
            <span class="name">INT128</span>        =
<span class="default_value">&lt;<a href="#Type.INT128">Type.INT128</a>: &#39;INT128&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.INT128"></a>
    
    

                            </div>
                            <div id="Type.DOUBLE" class="classattr">
                                <div class="attr variable">
            <span class="name">DOUBLE</span>        =
<span class="default_value">&lt;<a href="#Type.DOUBLE">Type.DOUBLE</a>: &#39;DOUBLE&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.DOUBLE"></a>
    
    

                            </div>
                            <div id="Type.FLOAT" class="classattr">
                                <div class="attr variable">
            <span class="name">FLOAT</span>        =
<span class="default_value">&lt;<a href="#Type.FLOAT">Type.FLOAT</a>: &#39;FLOAT&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.FLOAT"></a>
    
    

                            </div>
                            <div id="Type.DATE" class="classattr">
                                <div class="attr variable">
            <span class="name">DATE</span>        =
<span class="default_value">&lt;<a href="#Type.DATE">Type.DATE</a>: &#39;DATE&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.DATE"></a>
    
    

                            </div>
                            <div id="Type.TIMESTAMP" class="classattr">
                                <div class="attr variable">
            <span class="name">TIMESTAMP</span>        =
<span class="default_value">&lt;<a href="#Type.TIMESTAMP">Type.TIMESTAMP</a>: &#39;TIMESTAMP&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.TIMESTAMP"></a>
    
    

                            </div>
                            <div id="Type.TIMSTAMP_TZ" class="classattr">
                                <div class="attr variable">
            <span class="name">TIMSTAMP_TZ</span>        =
<span class="default_value">&lt;<a href="#Type.TIMSTAMP_TZ">Type.TIMSTAMP_TZ</a>: &#39;TIMESTAMP_TZ&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.TIMSTAMP_TZ"></a>
    
    

                            </div>
                            <div id="Type.TIMESTAMP_NS" class="classattr">
                                <div class="attr variable">
            <span class="name">TIMESTAMP_NS</span>        =
<span class="default_value">&lt;<a href="#Type.TIMESTAMP_NS">Type.TIMESTAMP_NS</a>: &#39;TIMESTAMP_NS&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.TIMESTAMP_NS"></a>
    
    

                            </div>
                            <div id="Type.TIMESTAMP_MS" class="classattr">
                                <div class="attr variable">
            <span class="name">TIMESTAMP_MS</span>        =
<span class="default_value">&lt;<a href="#Type.TIMESTAMP_MS">Type.TIMESTAMP_MS</a>: &#39;TIMESTAMP_MS&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.TIMESTAMP_MS"></a>
    
    

                            </div>
                            <div id="Type.TIMESTAMP_SEC" class="classattr">
                                <div class="attr variable">
            <span class="name">TIMESTAMP_SEC</span>        =
<span class="default_value">&lt;<a href="#Type.TIMESTAMP_SEC">Type.TIMESTAMP_SEC</a>: &#39;TIMESTAMP_SEC&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.TIMESTAMP_SEC"></a>
    
    

                            </div>
                            <div id="Type.INTERVAL" class="classattr">
                                <div class="attr variable">
            <span class="name">INTERVAL</span>        =
<span class="default_value">&lt;<a href="#Type.INTERVAL">Type.INTERVAL</a>: &#39;INTERVAL&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.INTERVAL"></a>
    
    

                            </div>
                            <div id="Type.INTERNAL_ID" class="classattr">
                                <div class="attr variable">
            <span class="name">INTERNAL_ID</span>        =
<span class="default_value">&lt;<a href="#Type.INTERNAL_ID">Type.INTERNAL_ID</a>: &#39;INTERNAL_ID&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.INTERNAL_ID"></a>
    
    

                            </div>
                            <div id="Type.STRING" class="classattr">
                                <div class="attr variable">
            <span class="name">STRING</span>        =
<span class="default_value">&lt;<a href="#Type.STRING">Type.STRING</a>: &#39;STRING&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.STRING"></a>
    
    

                            </div>
                            <div id="Type.BLOB" class="classattr">
                                <div class="attr variable">
            <span class="name">BLOB</span>        =
<span class="default_value">&lt;<a href="#Type.BLOB">Type.BLOB</a>: &#39;BLOB&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.BLOB"></a>
    
    

                            </div>
                            <div id="Type.UUID" class="classattr">
                                <div class="attr variable">
            <span class="name">UUID</span>        =
<span class="default_value">&lt;<a href="#Type.UUID">Type.UUID</a>: &#39;UUID&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.UUID"></a>
    
    

                            </div>
                            <div id="Type.LIST" class="classattr">
                                <div class="attr variable">
            <span class="name">LIST</span>        =
<span class="default_value">&lt;<a href="#Type.LIST">Type.LIST</a>: &#39;LIST&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.LIST"></a>
    
    

                            </div>
                            <div id="Type.ARRAY" class="classattr">
                                <div class="attr variable">
            <span class="name">ARRAY</span>        =
<span class="default_value">&lt;<a href="#Type.ARRAY">Type.ARRAY</a>: &#39;ARRAY&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.ARRAY"></a>
    
    

                            </div>
                            <div id="Type.STRUCT" class="classattr">
                                <div class="attr variable">
            <span class="name">STRUCT</span>        =
<span class="default_value">&lt;<a href="#Type.STRUCT">Type.STRUCT</a>: &#39;STRUCT&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.STRUCT"></a>
    
    

                            </div>
                            <div id="Type.MAP" class="classattr">
                                <div class="attr variable">
            <span class="name">MAP</span>        =
<span class="default_value">&lt;<a href="#Type.MAP">Type.MAP</a>: &#39;MAP&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.MAP"></a>
    
    

                            </div>
                            <div id="Type.UNION" class="classattr">
                                <div class="attr variable">
            <span class="name">UNION</span>        =
<span class="default_value">&lt;<a href="#Type.UNION">Type.UNION</a>: &#39;UNION&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#Type.UNION"></a>
    
    

                            </div>
                </section>
                <section id="__version__">
                    <div class="attr variable">
            <span class="name">__version__</span>

        
    </div>
    <a class="headerlink" href="#__version__"></a>
    
    

                </section>
                <section id="storage_version">
                    <div class="attr variable">
            <span class="name">storage_version</span>

        
    </div>
    <a class="headerlink" href="#storage_version"></a>
    
    

                </section>
                <section id="version">
                    <div class="attr variable">
            <span class="name">version</span>

        
    </div>
    <a class="headerlink" href="#version"></a>
    
    

                </section>
    </main>
</body>
</html>